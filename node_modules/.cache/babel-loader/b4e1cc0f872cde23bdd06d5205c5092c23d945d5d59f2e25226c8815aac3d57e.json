{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{createPortal}from'react-dom';import{useIsMobile}from'shared/hooks';/**\n * Modal component with overlay, animations, and accessibility features\n * Automatically fullscreen on mobile devices\n * \n * @param {Object} props\n * @param {boolean} props.isOpen - Modal open state\n * @param {Function} props.onClose - Close handler\n * @param {string} props.title - Modal title\n * @param {React.ReactNode} props.children - Modal content\n * @param {'sm'|'md'|'lg'|'xl'|'full'} props.size - Modal size\n * @param {boolean} props.showCloseButton - Show close button in header\n * @param {boolean} props.closeOnOverlayClick - Close when clicking overlay\n * @param {boolean} props.closeOnEsc - Close when pressing ESC\n * @param {React.ReactNode} props.footer - Optional footer content\n * @param {string} props.className - Additional CSS classes\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Modal=_ref=>{let{isOpen,onClose,title,children,size='md',showCloseButton=true,closeOnOverlayClick=true,closeOnEsc=true,footer,className=''}=_ref;const modalRef=useRef(null);const isMobile=useIsMobile();// Size styles - fullscreen on mobile\nconst sizeStyles=isMobile?'w-full h-full max-w-full max-h-full rounded-none':{sm:'max-w-md',md:'max-w-2xl',lg:'max-w-4xl',xl:'max-w-6xl',full:'max-w-full mx-4'}[size];// Handle ESC key\nuseEffect(()=>{if(!isOpen||!closeOnEsc)return;const handleEsc=e=>{if(e.key==='Escape'){onClose();}};document.addEventListener('keydown',handleEsc);return()=>document.removeEventListener('keydown',handleEsc);},[isOpen,closeOnEsc,onClose]);// Lock body scroll when modal is open\nuseEffect(()=>{if(isOpen){document.body.style.overflow='hidden';}else{document.body.style.overflow='unset';}return()=>{document.body.style.overflow='unset';};},[isOpen]);// Focus trap\nuseEffect(()=>{if(!isOpen||!modalRef.current)return;const focusableElements=modalRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');const firstElement=focusableElements[0];const lastElement=focusableElements[focusableElements.length-1];const handleTab=e=>{if(e.key!=='Tab')return;if(e.shiftKey){if(document.activeElement===firstElement){e.preventDefault();lastElement===null||lastElement===void 0?void 0:lastElement.focus();}}else{if(document.activeElement===lastElement){e.preventDefault();firstElement===null||firstElement===void 0?void 0:firstElement.focus();}}};document.addEventListener('keydown',handleTab);firstElement===null||firstElement===void 0?void 0:firstElement.focus();return()=>document.removeEventListener('keydown',handleTab);},[isOpen]);// Handle overlay click\nconst handleOverlayClick=e=>{if(closeOnOverlayClick&&e.target===e.currentTarget){onClose();}};if(!isOpen)return null;const modalContent=/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 animate-fadeIn \".concat(isMobile?'':'flex items-center justify-center p-4'),onClick:handleOverlayClick,children:/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,className:\"bg-white shadow-2xl w-full overflow-y-auto animate-slideUp \".concat(sizeStyles,\" \").concat(isMobile?'h-full':'rounded-xl max-h-[90vh]',\" \").concat(className),role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-title\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-white z-10 \".concat(isMobile?'sticky top-0':'rounded-t-xl'),children:[/*#__PURE__*/_jsx(\"h3\",{id:\"modal-title\",className:\"text-lg md:text-xl font-semibold text-gray-800 flex-1 truncate pr-4\",children:title}),showCloseButton&&/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center flex-shrink-0\",\"aria-label\":\"Cerrar modal\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times text-xl\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 md:p-6 \".concat(isMobile&&footer?'pb-24':''),children:children}),footer&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end p-4 md:p-6 border-t border-gray-200 space-x-3 bg-white \".concat(isMobile?'fixed bottom-0 left-0 right-0':'rounded-b-xl'),children:footer})]})});// Render in portal\nreturn/*#__PURE__*/createPortal(modalContent,document.body);};export default Modal;","map":{"version":3,"names":["React","useEffect","useRef","createPortal","useIsMobile","jsx","_jsx","jsxs","_jsxs","Modal","_ref","isOpen","onClose","title","children","size","showCloseButton","closeOnOverlayClick","closeOnEsc","footer","className","modalRef","isMobile","sizeStyles","sm","md","lg","xl","full","handleEsc","e","key","document","addEventListener","removeEventListener","body","style","overflow","current","focusableElements","querySelectorAll","firstElement","lastElement","length","handleTab","shiftKey","activeElement","preventDefault","focus","handleOverlayClick","target","currentTarget","modalContent","concat","onClick","ref","role","id"],"sources":["/Users/todoporunalma/Desktop/Corporacion/coptua_react/src/components/UI/Modal/Modal.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useIsMobile } from 'shared/hooks';\n\n/**\n * Modal component with overlay, animations, and accessibility features\n * Automatically fullscreen on mobile devices\n * \n * @param {Object} props\n * @param {boolean} props.isOpen - Modal open state\n * @param {Function} props.onClose - Close handler\n * @param {string} props.title - Modal title\n * @param {React.ReactNode} props.children - Modal content\n * @param {'sm'|'md'|'lg'|'xl'|'full'} props.size - Modal size\n * @param {boolean} props.showCloseButton - Show close button in header\n * @param {boolean} props.closeOnOverlayClick - Close when clicking overlay\n * @param {boolean} props.closeOnEsc - Close when pressing ESC\n * @param {React.ReactNode} props.footer - Optional footer content\n * @param {string} props.className - Additional CSS classes\n */\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'md',\n  showCloseButton = true,\n  closeOnOverlayClick = true,\n  closeOnEsc = true,\n  footer,\n  className = ''\n}) => {\n  const modalRef = useRef(null);\n  const isMobile = useIsMobile();\n\n  // Size styles - fullscreen on mobile\n  const sizeStyles = isMobile \n    ? 'w-full h-full max-w-full max-h-full rounded-none' \n    : {\n        sm: 'max-w-md',\n        md: 'max-w-2xl',\n        lg: 'max-w-4xl',\n        xl: 'max-w-6xl',\n        full: 'max-w-full mx-4'\n      }[size];\n\n  // Handle ESC key\n  useEffect(() => {\n    if (!isOpen || !closeOnEsc) return;\n\n    const handleEsc = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEsc);\n    return () => document.removeEventListener('keydown', handleEsc);\n  }, [isOpen, closeOnEsc, onClose]);\n\n  // Lock body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  // Focus trap\n  useEffect(() => {\n    if (!isOpen || !modalRef.current) return;\n\n    const focusableElements = modalRef.current.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    const handleTab = (e) => {\n      if (e.key !== 'Tab') return;\n\n      if (e.shiftKey) {\n        if (document.activeElement === firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        }\n      } else {\n        if (document.activeElement === lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleTab);\n    firstElement?.focus();\n\n    return () => document.removeEventListener('keydown', handleTab);\n  }, [isOpen]);\n\n  // Handle overlay click\n  const handleOverlayClick = (e) => {\n    if (closeOnOverlayClick && e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const modalContent = (\n    <div\n      className={`fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 animate-fadeIn ${isMobile ? '' : 'flex items-center justify-center p-4'}`}\n      onClick={handleOverlayClick}\n    >\n      <div\n        ref={modalRef}\n        className={`bg-white shadow-2xl w-full overflow-y-auto animate-slideUp ${sizeStyles} ${isMobile ? 'h-full' : 'rounded-xl max-h-[90vh]'} ${className}`}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"modal-title\"\n      >\n        {/* Header - fijo en móvil */}\n        <div className={`flex items-center justify-between p-4 md:p-6 border-b border-gray-200 bg-white z-10 ${isMobile ? 'sticky top-0' : 'rounded-t-xl'}`}>\n          <h3 id=\"modal-title\" className=\"text-lg md:text-xl font-semibold text-gray-800 flex-1 truncate pr-4\">\n            {title}\n          </h3>\n          {showCloseButton && (\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center flex-shrink-0\"\n              aria-label=\"Cerrar modal\"\n            >\n              <i className=\"fas fa-times text-xl\"></i>\n            </button>\n          )}\n        </div>\n\n        {/* Body - con padding bottom extra en móvil para footer fijo */}\n        <div className={`p-4 md:p-6 ${isMobile && footer ? 'pb-24' : ''}`}>\n          {children}\n        </div>\n\n        {/* Footer - fijo en móvil */}\n        {footer && (\n          <div className={`flex justify-end p-4 md:p-6 border-t border-gray-200 space-x-3 bg-white ${isMobile ? 'fixed bottom-0 left-0 right-0' : 'rounded-b-xl'}`}>\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  // Render in portal\n  return createPortal(modalContent, document.body);\n};\n\nModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  size: PropTypes.oneOf(['sm', 'md', 'lg', 'xl', 'full']),\n  showCloseButton: PropTypes.bool,\n  closeOnOverlayClick: PropTypes.bool,\n  closeOnEsc: PropTypes.bool,\n  footer: PropTypes.node,\n  className: PropTypes.string\n};\n\nexport default Modal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}