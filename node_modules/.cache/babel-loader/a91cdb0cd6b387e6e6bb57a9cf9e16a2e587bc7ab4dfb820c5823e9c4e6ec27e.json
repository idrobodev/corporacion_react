{"ast":null,"code":"import React,{useState,useEffect,useMemo}from\"react\";import DashboardLayout from\"components/layout/DashboardLayout\";import{dbService}from\"shared/services\";import{StatsGrid}from\"components/UI/Card\";import{StatusToggle}from\"components/UI/Badge\";import{ActionDropdown}from\"components/UI/Table\";import{ViewDetailsModal,EditFormModal,CreateFormModal}from\"components/common/CRUDModals\";import{useModal}from\"shared/hooks\";// Simple Map Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MapPlaceholder=_ref=>{let{address,className=\"\"}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-100 to-blue-100 rounded-lg flex items-center justify-center relative overflow-hidden \".concat(className),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-green-500 opacity-10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marked-alt text-green-600 text-3xl mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 font-medium\",children:\"Mapa de Ubicaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1 px-2\",children:[address===null||address===void 0?void 0:address.substring(0,30),\"...\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-external-link-alt text-gray-400 text-xs\"})})]});};const SedesComponent=()=>{const[sedes,setSedes]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// No filters needed\nconst verModal=useModal();const editarModal=useModal();const crearModal=useModal();// Funci√≥n para cargar sedes\nconst loadSedes=async()=>{try{setLoading(true);setError(null);console.log('üîÑ Cargando sedes...');const result=await dbService.getSedes();console.log('üìä Resultado sedes:',result);if(result.error){throw new Error(result.error.message||'Error al cargar sedes');}const sedesData=Array.isArray(result.data)?result.data:[];setSedes(sedesData);console.log('‚úÖ Sedes cargadas:',sedesData.length);}catch(err){console.error('‚ùå Error cargando sedes:',err);setError(err.message||'Error desconocido al cargar sedes');setSedes([]);}finally{setLoading(false);}};useEffect(()=>{loadSedes();},[]);const filteredSedes=useMemo(()=>{return Array.isArray(sedes)?sedes:[];},[sedes]);const statsData=useMemo(()=>[{title:\"Total Sedes\",value:filteredSedes.length,icon:\"fas fa-building\",color:\"blue\"},{title:\"Activas\",value:filteredSedes.filter(s=>s.estado===\"Activa\").length,icon:\"fas fa-check-circle\",color:\"green\"},{title:\"Inactivas\",value:filteredSedes.filter(s=>s.estado===\"Inactiva\").length,icon:\"fas fa-times-circle\",color:\"red\"}],[filteredSedes]);const toggleEstado=async(id,newEstado)=>{try{await dbService.updateSede(id,{estado:newEstado});const{data}=await dbService.getSedes();setSedes(data||[]);}catch(err){console.error('Error updating status:',err);}};const handleDeleteSede=async id=>{try{setLoading(true);// Verificar si la sede tiene participantes asociados\nconst participantesResult=await dbService.getParticipantes();if(participantesResult.error){throw new Error('Error al verificar participantes asociados');}const participantesEnSede=(participantesResult.data||[]).filter(p=>p.id_sede===id||p.sede_id===id||p.sedeId===id);if(participantesEnSede.length>0){alert(\"No se puede eliminar la sede porque tiene \".concat(participantesEnSede.length,\" participante(s) asociado(s). Por favor, reasigna o elimina los participantes primero.\"));setLoading(false);return;}// Si no hay participantes, proceder con la eliminaci√≥n\nconst result=await dbService.deleteSede(id);if(result.error){throw new Error(result.error.message||'Error al eliminar sede');}// Recargar la lista de sedes\nawait loadSedes();alert('Sede eliminada exitosamente');}catch(err){console.error('Error eliminando sede:',err);alert(err.message||'Error al eliminar sede');setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Sedes\",subtitle:\"Gesti\\xF3n de sedes\",loading:true,loadingText:\"Cargando sedes...\"});}if(error){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Sedes\",subtitle:\"Error al cargar datos\",loading:false,children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600\",children:[\"Error loading sedes: \",error]})})})});}return/*#__PURE__*/_jsxs(DashboardLayout,{title:\"Gesti\\xF3n de Sedes\",subtitle:\"Administra las sedes de la fundaci\\xF3n\",extraActions:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>crearModal.openModal(),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus mr-2\"}),\"Nueva Sede\"]}),children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(StatsGrid,{stats:statsData,columns:3})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Lista de Sedes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Haz clic en una sede para ver m\\xE1s detalles\"})]}),filteredSedes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-building text-gray-300 text-4xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No se encontraron sedes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No hay sedes que coincidan con los filtros aplicados.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredSedes.map(sede=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer group\",onClick:()=>{verModal.setData(sede);verModal.openModal();},children:[/*#__PURE__*/_jsx(MapPlaceholder,{address:sede.direccion,className:\"h-32 rounded-t-xl\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-building text-blue-600 text-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors\",children:sede.nombre}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:sede.tipo||'Principal'})]})]}),/*#__PURE__*/_jsx(\"div\",{onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(StatusToggle,{currentStatus:sede.estado,statuses:[{value:'Activa',label:'Activa',variant:'success'},{value:'Inactiva',label:'Inactiva',variant:'danger'}],onChange:newEstado=>toggleEstado(sede.id,newEstado)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt text-gray-400 mt-1 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-2\",children:sede.direccion})]}),sede.telefono&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-phone text-gray-400 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:sede.telefono})]}),sede.capacidad_maxima&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users text-gray-400 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Capacidad: \",sede.capacidad_maxima,\" participantes\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-6 pt-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();verModal.setData(sede);verModal.openModal();},className:\"flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye mr-2\"}),\"Ver detalles\"]}),/*#__PURE__*/_jsx(\"div\",{onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(ActionDropdown,{actions:[{label:'Ver detalles',icon:'fas fa-eye',onClick:()=>{verModal.setData(sede);verModal.openModal();}},{label:'Editar',icon:'fas fa-edit',onClick:()=>{editarModal.setData(sede);editarModal.openModal();}},{label:'Eliminar',icon:'fas fa-trash',onClick:async()=>{if(window.confirm('¬øEst√°s seguro de que deseas eliminar esta sede?')){await handleDeleteSede(sede.id);}},variant:'danger'}]})})]})]})]},sede.id))})]}),/*#__PURE__*/_jsx(ViewDetailsModal,{isOpen:verModal.isOpen,onClose:verModal.closeModal,title:\"Detalles de la Sede\",data:verModal.data?[{label:'Nombre',value:verModal.data.nombre},{label:'Direcci√≥n',value:verModal.data.direccion,fullWidth:true},{label:'Tel√©fono',value:verModal.data.telefono},{label:'Capacidad M√°xima',value:verModal.data.capacidad_maxima?\"\".concat(verModal.data.capacidad_maxima,\" participantes\"):'No especificada'},{label:'Estado',value:verModal.data.estado},{label:'Tipo',value:verModal.data.tipo||'No especificado'}]:[]}),/*#__PURE__*/_jsx(EditFormModal,{isOpen:editarModal.isOpen,onClose:editarModal.closeModal,title:\"Editar Sede\",onSubmit:async formData=>{// Validar capacidad_maxima si est√° presente\nif(formData.capacidad_maxima!==undefined&&formData.capacidad_maxima!==null&&formData.capacidad_maxima!==''){const capacidad=Number(formData.capacidad_maxima);if(isNaN(capacidad)||capacidad<=0){throw new Error('La capacidad m√°xima debe ser un n√∫mero positivo');}}const result=await dbService.updateSede(editarModal.data.id,formData);if(result.error){throw new Error(result.error.message||'Error al actualizar sede');}await loadSedes();},initialData:editarModal.data,fields:[{name:'nombre',label:'Nombre',type:'text',required:true},{name:'telefono',label:'Tel√©fono',type:'tel'},{name:'direccion',label:'Direcci√≥n',type:'textarea',required:true,fullWidth:true},{name:'capacidad_maxima',label:'Capacidad M√°xima',type:'number',placeholder:'N√∫mero de participantes',min:1},{name:'estado',label:'Estado',type:'select',options:[{value:'Activa',label:'Activa'},{value:'Inactiva',label:'Inactiva'}]},{name:'tipo',label:'Tipo',type:'select',options:[{value:'Principal',label:'Principal'},{value:'Secundaria',label:'Secundaria'},{value:'Temporal',label:'Temporal'}]}]}),/*#__PURE__*/_jsx(CreateFormModal,{isOpen:crearModal.isOpen,onClose:crearModal.closeModal,title:\"Nueva Sede\",onSubmit:async formData=>{var _formData$nombre,_formData$direccion;if(!((_formData$nombre=formData.nombre)!==null&&_formData$nombre!==void 0&&_formData$nombre.trim())||!((_formData$direccion=formData.direccion)!==null&&_formData$direccion!==void 0&&_formData$direccion.trim())){throw new Error('Nombre y direcci√≥n son campos obligatorios');}// Validar capacidad_maxima si est√° presente\nif(formData.capacidad_maxima!==undefined&&formData.capacidad_maxima!==null&&formData.capacidad_maxima!==''){const capacidad=Number(formData.capacidad_maxima);if(isNaN(capacidad)||capacidad<=0){throw new Error('La capacidad m√°xima debe ser un n√∫mero positivo');}}const result=await dbService.createSede(formData);if(result.error){throw new Error(result.error.message||'Error al crear sede');}await loadSedes();},initialData:{nombre:'',direccion:'',telefono:'',capacidad_maxima:'',estado:'Activa',tipo:'Principal'},fields:[{name:'nombre',label:'Nombre',type:'text',required:true,placeholder:'Nombre de la sede'},{name:'telefono',label:'Tel√©fono',type:'tel',placeholder:'N√∫mero de tel√©fono'},{name:'direccion',label:'Direcci√≥n',type:'textarea',required:true,placeholder:'Direcci√≥n completa de la sede',fullWidth:true},{name:'capacidad_maxima',label:'Capacidad M√°xima',type:'number',placeholder:'N√∫mero de participantes',min:1},{name:'estado',label:'Estado',type:'select',options:[{value:'Activa',label:'Activa'},{value:'Inactiva',label:'Inactiva'}]},{name:'tipo',label:'Tipo',type:'select',options:[{value:'Principal',label:'Principal'},{value:'Secundaria',label:'Secundaria'},{value:'Temporal',label:'Temporal'}]}]})]});};// Wrap with React.memo to prevent unnecessary re-renders\n// Component will only re-render when props change\nconst Sedes=/*#__PURE__*/React.memo(SedesComponent);export default Sedes;","map":{"version":3,"names":["React","useState","useEffect","useMemo","DashboardLayout","dbService","StatsGrid","StatusToggle","ActionDropdown","ViewDetailsModal","EditFormModal","CreateFormModal","useModal","jsx","_jsx","jsxs","_jsxs","MapPlaceholder","_ref","address","className","concat","children","substring","SedesComponent","sedes","setSedes","loading","setLoading","error","setError","verModal","editarModal","crearModal","loadSedes","console","log","result","getSedes","Error","message","sedesData","Array","isArray","data","length","err","filteredSedes","statsData","title","value","icon","color","filter","s","estado","toggleEstado","id","newEstado","updateSede","handleDeleteSede","participantesResult","getParticipantes","participantesEnSede","p","id_sede","sede_id","sedeId","alert","deleteSede","subtitle","loadingText","extraActions","onClick","openModal","stats","columns","map","sede","setData","direccion","nombre","tipo","e","stopPropagation","currentStatus","statuses","label","variant","onChange","telefono","capacidad_maxima","actions","window","confirm","isOpen","onClose","closeModal","fullWidth","onSubmit","formData","undefined","capacidad","Number","isNaN","initialData","fields","name","type","required","placeholder","min","options","_formData$nombre","_formData$direccion","trim","createSede","Sedes","memo"],"sources":["/Users/todoporunalma/Desktop/Corporacion/coptua_react/src/pages/Dashboard/Sedes.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport DashboardLayout from \"components/layout/DashboardLayout\";\nimport { dbService } from \"shared/services\";\nimport { StatsGrid } from \"components/UI/Card\";\nimport { StatusToggle } from \"components/UI/Badge\";\nimport { ActionDropdown } from \"components/UI/Table\";\nimport { ViewDetailsModal, EditFormModal, CreateFormModal } from \"components/common/CRUDModals\";\nimport { useModal } from \"shared/hooks\";\n\n// Simple Map Component\nconst MapPlaceholder = ({ address, className = \"\" }) => {\n  return (\n    <div className={`bg-gradient-to-br from-green-100 to-blue-100 rounded-lg flex items-center justify-center relative overflow-hidden ${className}`}>\n      <div className=\"absolute inset-0 bg-green-500 opacity-10\"></div>\n      <div className=\"text-center\">\n        <i className=\"fas fa-map-marked-alt text-green-600 text-3xl mb-2\"></i>\n        <p className=\"text-xs text-gray-600 font-medium\">Mapa de Ubicaci√≥n</p>\n        <p className=\"text-xs text-gray-500 mt-1 px-2\">{address?.substring(0, 30)}...</p>\n      </div>\n      <div className=\"absolute top-2 right-2\">\n        <i className=\"fas fa-external-link-alt text-gray-400 text-xs\"></i>\n      </div>\n    </div>\n  );\n};\n\nconst SedesComponent = () => {\n  const [sedes, setSedes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // No filters needed\n  \n  const verModal = useModal();\n  const editarModal = useModal();\n  const crearModal = useModal();\n\n  // Funci√≥n para cargar sedes\n  const loadSedes = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('üîÑ Cargando sedes...');\n\n      const result = await dbService.getSedes();\n      console.log('üìä Resultado sedes:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message || 'Error al cargar sedes');\n      }\n\n      const sedesData = Array.isArray(result.data) ? result.data : [];\n      setSedes(sedesData);\n      console.log('‚úÖ Sedes cargadas:', sedesData.length);\n    } catch (err) {\n      console.error('‚ùå Error cargando sedes:', err);\n      setError(err.message || 'Error desconocido al cargar sedes');\n      setSedes([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadSedes();\n  }, []);\n\n\n\n  const filteredSedes = useMemo(() => {\n    return Array.isArray(sedes) ? sedes : [];\n  }, [sedes]);\n\n  const statsData = useMemo(() => [\n    {\n      title: \"Total Sedes\",\n      value: filteredSedes.length,\n      icon: \"fas fa-building\",\n      color: \"blue\"\n    },\n    {\n      title: \"Activas\",\n      value: filteredSedes.filter(s => s.estado === \"Activa\").length,\n      icon: \"fas fa-check-circle\",\n      color: \"green\"\n    },\n    {\n      title: \"Inactivas\",\n      value: filteredSedes.filter(s => s.estado === \"Inactiva\").length,\n      icon: \"fas fa-times-circle\",\n      color: \"red\"\n    }\n  ], [filteredSedes]);\n\n  const toggleEstado = async (id, newEstado) => {\n    try {\n      await dbService.updateSede(id, { estado: newEstado });\n      const { data } = await dbService.getSedes();\n      setSedes(data || []);\n    } catch (err) {\n      console.error('Error updating status:', err);\n    }\n  };\n\n  const handleDeleteSede = async (id) => {\n    try {\n      setLoading(true);\n      \n      // Verificar si la sede tiene participantes asociados\n      const participantesResult = await dbService.getParticipantes();\n      if (participantesResult.error) {\n        throw new Error('Error al verificar participantes asociados');\n      }\n      \n      const participantesEnSede = (participantesResult.data || []).filter(\n        p => p.id_sede === id || p.sede_id === id || p.sedeId === id\n      );\n      \n      if (participantesEnSede.length > 0) {\n        alert(`No se puede eliminar la sede porque tiene ${participantesEnSede.length} participante(s) asociado(s). Por favor, reasigna o elimina los participantes primero.`);\n        setLoading(false);\n        return;\n      }\n      \n      // Si no hay participantes, proceder con la eliminaci√≥n\n      const result = await dbService.deleteSede(id);\n      if (result.error) {\n        throw new Error(result.error.message || 'Error al eliminar sede');\n      }\n      \n      // Recargar la lista de sedes\n      await loadSedes();\n      alert('Sede eliminada exitosamente');\n    } catch (err) {\n      console.error('Error eliminando sede:', err);\n      alert(err.message || 'Error al eliminar sede');\n      setLoading(false);\n    }\n  };\n\n\n  if (loading) {\n    return (\n      <DashboardLayout title=\"Sedes\" subtitle=\"Gesti√≥n de sedes\" loading={true} loadingText=\"Cargando sedes...\" />\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout title=\"Sedes\" subtitle=\"Error al cargar datos\" loading={false}>\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p className=\"text-red-600\">Error loading sedes: {error}</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout title=\"Gesti√≥n de Sedes\" subtitle=\"Administra las sedes de la fundaci√≥n\" extraActions={\n      <button\n        onClick={() => crearModal.openModal()}\n        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n      >\n        <i className=\"fas fa-plus mr-2\"></i>\n        Nueva Sede\n      </button>\n    }>\n\n      {/* Estad√≠sticas R√°pidas */}\n      <div className=\"px-6 py-4\">\n        <StatsGrid stats={statsData} columns={3} />\n      </div>\n\n      {/* Grid de Sedes */}\n      <div className=\"px-6 py-4\">\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold text-gray-800\">Lista de Sedes</h3>\n          <p className=\"text-sm text-gray-600 mt-1\">Haz clic en una sede para ver m√°s detalles</p>\n        </div>\n\n        {filteredSedes.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\">\n            <i className=\"fas fa-building text-gray-300 text-4xl mb-4\"></i>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No se encontraron sedes</h3>\n            <p className=\"text-gray-500\">No hay sedes que coincidan con los filtros aplicados.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredSedes.map((sede) => (\n              <div\n                key={sede.id}\n                className=\"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer group\"\n                onClick={() => {\n                  verModal.setData(sede);\n                  verModal.openModal();\n                }}\n              >\n                {/* Map */}\n                <MapPlaceholder\n                  address={sede.direccion}\n                  className=\"h-32 rounded-t-xl\"\n                />\n\n                {/* Card Content */}\n                <div className=\"p-6\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3\">\n                        <i className=\"fas fa-building text-blue-600 text-lg\"></i>\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors\">\n                          {sede.nombre}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">{sede.tipo || 'Principal'}</p>\n                      </div>\n                    </div>\n                    <div onClick={(e) => e.stopPropagation()}>\n                      <StatusToggle\n                        currentStatus={sede.estado}\n                        statuses={[\n                          { value: 'Activa', label: 'Activa', variant: 'success' },\n                          { value: 'Inactiva', label: 'Inactiva', variant: 'danger' }\n                        ]}\n                        onChange={(newEstado) => toggleEstado(sede.id, newEstado)}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-start\">\n                      <i className=\"fas fa-map-marker-alt text-gray-400 mt-1 mr-3 flex-shrink-0\"></i>\n                      <p className=\"text-sm text-gray-600 line-clamp-2\">{sede.direccion}</p>\n                    </div>\n\n                    {sede.telefono && (\n                      <div className=\"flex items-center\">\n                        <i className=\"fas fa-phone text-gray-400 mr-3 flex-shrink-0\"></i>\n                        <p className=\"text-sm text-gray-600\">{sede.telefono}</p>\n                      </div>\n                    )}\n\n                    {sede.capacidad_maxima && (\n                      <div className=\"flex items-center\">\n                        <i className=\"fas fa-users text-gray-400 mr-3 flex-shrink-0\"></i>\n                        <p className=\"text-sm text-gray-600\">Capacidad: {sede.capacidad_maxima} participantes</p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-100\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        verModal.setData(sede);\n                        verModal.openModal();\n                      }}\n                      className=\"flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors\"\n                    >\n                      <i className=\"fas fa-eye mr-2\"></i>\n                      Ver detalles\n                    </button>\n\n                    <div onClick={(e) => e.stopPropagation()}>\n                      <ActionDropdown\n                        actions={[\n                          {\n                            label: 'Ver detalles',\n                            icon: 'fas fa-eye',\n                            onClick: () => {\n                              verModal.setData(sede);\n                              verModal.openModal();\n                            }\n                          },\n                          {\n                            label: 'Editar',\n                            icon: 'fas fa-edit',\n                            onClick: () => {\n                              editarModal.setData(sede);\n                              editarModal.openModal();\n                            }\n                          },\n                          {\n                            label: 'Eliminar',\n                            icon: 'fas fa-trash',\n                            onClick: async () => {\n                              if (window.confirm('¬øEst√°s seguro de que deseas eliminar esta sede?')) {\n                                await handleDeleteSede(sede.id);\n                              }\n                            },\n                            variant: 'danger'\n                          }\n                        ]}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Modales */}\n      <ViewDetailsModal\n        isOpen={verModal.isOpen}\n        onClose={verModal.closeModal}\n        title=\"Detalles de la Sede\"\n        data={verModal.data ? [\n          { label: 'Nombre', value: verModal.data.nombre },\n          { label: 'Direcci√≥n', value: verModal.data.direccion, fullWidth: true },\n          { label: 'Tel√©fono', value: verModal.data.telefono },\n          { label: 'Capacidad M√°xima', value: verModal.data.capacidad_maxima ? `${verModal.data.capacidad_maxima} participantes` : 'No especificada' },\n          { label: 'Estado', value: verModal.data.estado },\n          { label: 'Tipo', value: verModal.data.tipo || 'No especificado' }\n        ] : []}\n      />\n\n      <EditFormModal\n        isOpen={editarModal.isOpen}\n        onClose={editarModal.closeModal}\n        title=\"Editar Sede\"\n        onSubmit={async (formData) => {\n          // Validar capacidad_maxima si est√° presente\n          if (formData.capacidad_maxima !== undefined && formData.capacidad_maxima !== null && formData.capacidad_maxima !== '') {\n            const capacidad = Number(formData.capacidad_maxima);\n            if (isNaN(capacidad) || capacidad <= 0) {\n              throw new Error('La capacidad m√°xima debe ser un n√∫mero positivo');\n            }\n          }\n          \n          const result = await dbService.updateSede(editarModal.data.id, formData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al actualizar sede');\n          }\n          await loadSedes();\n        }}\n        initialData={editarModal.data}\n        fields={[\n          { name: 'nombre', label: 'Nombre', type: 'text', required: true },\n          { name: 'telefono', label: 'Tel√©fono', type: 'tel' },\n          { name: 'direccion', label: 'Direcci√≥n', type: 'textarea', required: true, fullWidth: true },\n          { name: 'capacidad_maxima', label: 'Capacidad M√°xima', type: 'number', placeholder: 'N√∫mero de participantes', min: 1 },\n          { \n            name: 'estado', \n            label: 'Estado', \n            type: 'select',\n            options: [\n              { value: 'Activa', label: 'Activa' },\n              { value: 'Inactiva', label: 'Inactiva' }\n            ]\n          },\n          { \n            name: 'tipo', \n            label: 'Tipo', \n            type: 'select',\n            options: [\n              { value: 'Principal', label: 'Principal' },\n              { value: 'Secundaria', label: 'Secundaria' },\n              { value: 'Temporal', label: 'Temporal' }\n            ]\n          }\n        ]}\n      />\n\n      <CreateFormModal\n        isOpen={crearModal.isOpen}\n        onClose={crearModal.closeModal}\n        title=\"Nueva Sede\"\n        onSubmit={async (formData) => {\n          if (!formData.nombre?.trim() || !formData.direccion?.trim()) {\n            throw new Error('Nombre y direcci√≥n son campos obligatorios');\n          }\n          \n          // Validar capacidad_maxima si est√° presente\n          if (formData.capacidad_maxima !== undefined && formData.capacidad_maxima !== null && formData.capacidad_maxima !== '') {\n            const capacidad = Number(formData.capacidad_maxima);\n            if (isNaN(capacidad) || capacidad <= 0) {\n              throw new Error('La capacidad m√°xima debe ser un n√∫mero positivo');\n            }\n          }\n          \n          const result = await dbService.createSede(formData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al crear sede');\n          }\n          await loadSedes();\n        }}\n        initialData={{\n          nombre: '',\n          direccion: '',\n          telefono: '',\n          capacidad_maxima: '',\n          estado: 'Activa',\n          tipo: 'Principal'\n        }}\n        fields={[\n          { name: 'nombre', label: 'Nombre', type: 'text', required: true, placeholder: 'Nombre de la sede' },\n          { name: 'telefono', label: 'Tel√©fono', type: 'tel', placeholder: 'N√∫mero de tel√©fono' },\n          { name: 'direccion', label: 'Direcci√≥n', type: 'textarea', required: true, placeholder: 'Direcci√≥n completa de la sede', fullWidth: true },\n          { name: 'capacidad_maxima', label: 'Capacidad M√°xima', type: 'number', placeholder: 'N√∫mero de participantes', min: 1 },\n          { \n            name: 'estado', \n            label: 'Estado', \n            type: 'select',\n            options: [\n              { value: 'Activa', label: 'Activa' },\n              { value: 'Inactiva', label: 'Inactiva' }\n            ]\n          },\n          { \n            name: 'tipo', \n            label: 'Tipo', \n            type: 'select',\n            options: [\n              { value: 'Principal', label: 'Principal' },\n              { value: 'Secundaria', label: 'Secundaria' },\n              { value: 'Temporal', label: 'Temporal' }\n            ]\n          }\n        ]}\n      />\n    </DashboardLayout>\n  );\n};\n\n// Wrap with React.memo to prevent unnecessary re-renders\n// Component will only re-render when props change\nconst Sedes = React.memo(SedesComponent);\n\nexport default Sedes;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}