{"ast":null,"code":"import React,{useState,useEffect,useMemo,useCallback}from\"react\";import DashboardLayout from\"components/layout/DashboardLayout\";import{dbService,ROLES}from\"shared/services\";import{FilterBar}from\"components/UI/Filter\";import{StatsGrid}from\"components/UI/Card\";import{DataTable,ActionDropdown}from\"components/UI/Table\";import{ViewDetailsModal,EditFormModal,CreateFormModal}from\"components/common/CRUDModals\";import{useFilters,useModal}from\"shared/hooks\";import{validateEmail}from\"shared/utils/validationUtils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UsuariosComponent=()=>{const[usuarios,setUsuarios]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[canEdit,setCanEdit]=useState(false);// Use custom hooks\nconst{filters:filtros,setFilter,clearFilters}=useFilters({rol:\"Todos\",busqueda:\"\"});const verModal=useModal();const editarModal=useModal();const crearModal=useModal();// Funci√≥n para cargar usuarios\nconst loadUsuarios=useCallback(async()=>{try{setLoading(true);setError(null);console.log('üîÑ Cargando usuarios...');const result=await dbService.getUsuarios();console.log('üìä Resultado usuarios:',result);if(result.error){throw new Error(result.error.message||'Error al cargar usuarios');}// La respuesta es {data: [...], error: null}\nconst usuariosData=Array.isArray(result.data)?result.data:[];setUsuarios(usuariosData);console.log('‚úÖ Usuarios cargados:',usuariosData.length);}catch(err){console.error('‚ùå Error cargando usuarios:',err);setError(err.message||'Error desconocido al cargar usuarios');setUsuarios([]);}finally{setLoading(false);}},[]);// Exponer funciones globalmente para el men√∫ desplegable\nuseEffect(()=>{window.verModal=verModal;window.editarModal=editarModal;window.deleteUser=async userId=>{try{const result=await dbService.deleteUsuario(userId);if(result.error){alert('Error al eliminar usuario: '+result.error.message);}else{alert('Usuario eliminado exitosamente');await loadUsuarios();}}catch(error){alert('Error al eliminar usuario: '+error.message);}};return()=>{delete window.verModal;delete window.editarModal;delete window.deleteUser;};},[verModal,editarModal,loadUsuarios]);// Cargar usuario actual y verificar permisos\nuseEffect(()=>{const loadCurrentUser=async()=>{try{console.log('üîê Verificando permisos de administrador...');// Verificar si tiene permisos de administrador\nconst hasPermission=await dbService.hasPermission(ROLES.ADMINISTRADOR);console.log('‚úÖ Permisos de administrador obtenidos:',hasPermission);setCanEdit(hasPermission);console.log('üéØ canEdit establecido como:',hasPermission);}catch(err){console.error('‚ùå Error cargando permisos:',err);setCanEdit(false);}};loadCurrentUser();loadUsuarios();},[loadUsuarios]);// Filtrar usuarios\nconst filteredUsuarios=useMemo(()=>{const safeUsuarios=Array.isArray(usuarios)?usuarios:[];let filtered=safeUsuarios;if(filtros.rol!==\"Todos\"){filtered=filtered.filter(u=>(u.rol||u.role)===filtros.rol);}if(filtros.busqueda){filtered=filtered.filter(u=>(u.email||'').toLowerCase().includes(filtros.busqueda.toLowerCase()));}return filtered;},[usuarios,filtros]);// Estad√≠sticas\nconst statsData=useMemo(()=>[{title:\"Total Usuarios\",value:filteredUsuarios.length,icon:\"fas fa-users\",color:\"blue\"}],[filteredUsuarios]);if(loading){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Usuarios\",subtitle:\"Gesti\\xF3n de usuarios\",loading:true,loadingText:\"Cargando usuarios...\"});}if(error){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Usuarios\",subtitle:\"Error al cargar datos\",loading:false,children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600\",children:[\"Error loading usuarios del sistema: \",error]})})})});}// Verificar permisos de acceso a la p√°gina\nif(!canEdit){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Usuarios\",subtitle:\"Acceso denegado\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center max-w-md\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock text-yellow-600 text-5xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Acceso Denegado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No tienes permisos para acceder a esta p\\xE1gina. Solo los administradores pueden gestionar usuarios.\"})]})})});}const filterConfig=[{type:'select',name:'rol',label:'Rol',options:[{value:'Todos',label:'Todos los Roles'},{value:ROLES.ADMINISTRADOR,label:'Administrador'},{value:ROLES.CONSULTA,label:'Consulta'}]},{type:'search',name:'busqueda',label:'B√∫squeda',placeholder:'Buscar por email...'}];return/*#__PURE__*/_jsxs(DashboardLayout,{title:\"Gesti\\xF3n de Usuarios del sistema\",subtitle:\"Administra los usuarios del sistema\",extraActions:canEdit&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>crearModal.openModal(),className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus mr-2\"}),\"Nuevo Usuario\"]}),children:[/*#__PURE__*/_jsxs(\"section\",{className:\"px-4 md:px-6 py-4 md:py-6\",children:[/*#__PURE__*/_jsx(FilterBar,{filters:filterConfig,values:filtros,onChange:setFilter,onClear:clearFilters,showClearButton:true}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(StatsGrid,{stats:statsData,columns:3,gap:\"md\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Lista de Usuarios del sistema\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Gestiona los usuarios del sistema\"})]}),canEdit?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-shield mr-2\"}),\"Modo Administrador\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye mr-2\"}),\"Modo Solo Lectura\"]})]})}),filteredUsuarios.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users text-gray-300 text-4xl mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No se encontraron usuarios del sistema\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No hay usuarios que coincidan con los filtros aplicados.\"})]}):/*#__PURE__*/_jsx(DataTable,{columns:[{key:'email',header:'Usuario',render:usuario=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 truncate\",children:usuario.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 truncate\",children:[\"ID: \",usuario.id_usuario||usuario.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden mt-1\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium \".concat((usuario.rol||usuario.role)===ROLES.ADMINISTRADOR||(usuario.rol||usuario.role)==='ADMINISTRADOR'?'bg-purple-100 text-purple-800':'bg-green-100 text-green-800'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat((usuario.rol||usuario.role)===ROLES.ADMINISTRADOR||(usuario.rol||usuario.role)==='ADMINISTRADOR'?'fa-user-shield':'fa-user',\" mr-1\")}),(usuario.rol||usuario.role)===ROLES.ADMINISTRADOR||(usuario.rol||usuario.role)==='ADMINISTRADOR'?'Admin':'Consulta']})})]})]})},{key:'rol',header:'Rol',hideInMobile:true,render:usuario=>{const userRole=usuario.rol||usuario.role;return/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium \".concat(userRole===ROLES.ADMINISTRADOR||userRole==='ADMINISTRADOR'?'bg-purple-100 text-purple-800':'bg-green-100 text-green-800'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(userRole===ROLES.ADMINISTRADOR||userRole==='ADMINISTRADOR'?'fa-user-shield':'fa-user',\" mr-2\")}),userRole===ROLES.ADMINISTRADOR||userRole==='ADMINISTRADOR'?'Administrador':'Consulta']});}},{key:'acciones',header:'Acciones',render:usuario=>{console.log('üîç Renderizando acciones para usuario:',usuario.email,'canEdit:',canEdit);if(canEdit){console.log('üéØ Renderizando ActionDropdown para:',usuario.email);const userRole=usuario.rol||usuario.role;const isAdmin=userRole===ROLES.ADMINISTRADOR||userRole==='ADMINISTRADOR';if(isAdmin){return/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 font-medium px-2 py-1 bg-gray-100 rounded whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt mr-1\"}),\"Protegido\"]});}return/*#__PURE__*/_jsx(ActionDropdown,{actions:[{label:'Editar',icon:'fas fa-edit',onClick:()=>{console.log('‚úèÔ∏è Editar usuario:',usuario.email);editarModal.openModal('edit',usuario);}},{label:'Eliminar',icon:'fas fa-trash',variant:'danger',onClick:()=>{console.log('üóëÔ∏è Eliminar usuario:',usuario.email);if(window.confirm('¬øEst√°s seguro de que quieres eliminar este usuario?')){window.deleteUser&&window.deleteUser(usuario.id_usuario||usuario.id);}}}]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{console.log('üëÅÔ∏è Abriendo modal de solo lectura para:',usuario.email);verModal.openModal('view',usuario);},className:\"text-blue-600 hover:text-blue-800 text-xs sm:text-sm font-medium whitespace-nowrap flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye mr-1\"}),\"Ver\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-yellow-600 font-medium whitespace-nowrap flex items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock mr-1\"}),\"Solo Lectura\"]})]});}}}],data:filteredUsuarios,keyExtractor:usuario=>usuario.id_usuario||usuario.id,loading:loading})]})})]}),/*#__PURE__*/_jsx(ViewDetailsModal,{isOpen:verModal.isOpen,onClose:verModal.closeModal,title:\"Detalles del Usuario del sistema\",data:verModal.modalData?[{label:'ID',value:verModal.modalData.id_usuario||verModal.modalData.id},{label:'Email',value:verModal.modalData.email},{label:'Contrase√±a',value:'‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢',helperText:'La contrase√±a est√° oculta por seguridad'},{label:'Rol',value:(()=>{const rol=verModal.modalData.rol||verModal.modalData.role;// Comparaci√≥n m√°s robusta\nif(rol===ROLES.ADMINISTRADOR||rol==='ADMINISTRADOR'){return'Administrador';}return'Consulta';})()},{label:'Fecha de creaci√≥n',value:new Date(verModal.modalData.created_at).toLocaleString('es-ES')},{label:'√öltima actualizaci√≥n',value:new Date(verModal.modalData.updated_at).toLocaleString('es-ES')}]:[]}),/*#__PURE__*/_jsx(EditFormModal,{isOpen:editarModal.isOpen,onClose:editarModal.closeModal,title:\"Editar Usuario del sistema\",onSubmit:async formData=>{// Validar email\nconst emailValidation=validateEmail(formData.email);if(!emailValidation.isValid){throw new Error(emailValidation.error);}// Validar rol\nif(!formData.rol||formData.rol!==ROLES.ADMINISTRADOR&&formData.rol!==ROLES.CONSULTA&&formData.rol!=='ADMINISTRADOR'&&formData.rol!=='CONSULTA'){throw new Error('Rol inv√°lido');}// Si no se proporciona password, no lo incluimos en la actualizaci√≥n\nconst updateData={email:formData.email,role:formData.rol// El backend espera 'role', no 'rol'\n};if(formData.password&&formData.password.trim()){if(formData.password.length<8){throw new Error('La contrase√±a debe tener al menos 8 caracteres');}updateData.password=formData.password;}const result=await dbService.updateUsuario(editarModal.modalData.id_usuario||editarModal.modalData.id,updateData);if(result.error){throw new Error(result.error.message||'Error al actualizar usuario');}await loadUsuarios();},initialData:editarModal.modalData?{email:editarModal.modalData.email,password:'',rol:editarModal.modalData.rol||editarModal.modalData.role}:{email:'',password:'',rol:ROLES.CONSULTA},fields:[{name:'email',label:'Email',type:'email',required:true,placeholder:'usuario@ejemplo.com'},{name:'currentPassword',label:'Contrase√±a Actual (solo lectura)',type:'password',readOnly:true,placeholder:'Contrase√±a actual del usuario',value:'‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢',// Mostrar puntos por seguridad\nhelperText:'La contrase√±a actual no se puede ver por seguridad'},{name:'password',label:'Nueva Contrase√±a (opcional)',type:'password',placeholder:'Dejar en blanco para mantener la actual',helperText:'M√≠nimo 8 caracteres. Si se deja en blanco, mantiene la contrase√±a actual.'},{name:'rol',label:'Rol',type:'select',required:true,options:[{value:ROLES.CONSULTA,label:'Consulta'}]}]}),/*#__PURE__*/_jsx(CreateFormModal,{isOpen:crearModal.isOpen,onClose:crearModal.closeModal,title:\"Nuevo Usuario del sistema\",onSubmit:async formData=>{// Validar email\nconst emailValidation=validateEmail(formData.email);if(!emailValidation.isValid){throw new Error(emailValidation.error);}// Validar password\nif(!formData.password||formData.password.length<8){throw new Error('La contrase√±a debe tener al menos 8 caracteres');}// Validar rol\nif(!formData.rol||formData.rol!==ROLES.ADMINISTRADOR&&formData.rol!==ROLES.CONSULTA&&formData.rol!=='ADMINISTRADOR'&&formData.rol!=='CONSULTA'){throw new Error('Rol inv√°lido');}// Convertir 'rol' a 'role' para el backend\nconst userData={email:formData.email,password:formData.password,role:formData.rol};const result=await dbService.createUsuario(userData);if(result.error){throw new Error(result.error.message||'Error al crear usuario');}await loadUsuarios();},initialData:{email:'',password:'',rol:ROLES.CONSULTA},fields:[{name:'email',label:'Email',type:'email',required:true,placeholder:'usuario@ejemplo.com'},{name:'password',label:'Contrase√±a',type:'password',required:true,placeholder:'M√≠nimo 8 caracteres',helperText:'M√≠nimo 8 caracteres. La contrase√±a debe ser segura.'},{name:'rol',label:'Rol',type:'select',required:true,options:[{value:ROLES.ADMINISTRADOR,label:'Administrador'},{value:ROLES.CONSULTA,label:'Consulta'}]}]})]});};// Wrap with React.memo to prevent unnecessary re-renders\nconst Usuarios=/*#__PURE__*/React.memo(UsuariosComponent);export default Usuarios;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","DashboardLayout","dbService","ROLES","FilterBar","StatsGrid","DataTable","ActionDropdown","ViewDetailsModal","EditFormModal","CreateFormModal","useFilters","useModal","validateEmail","jsx","_jsx","jsxs","_jsxs","UsuariosComponent","usuarios","setUsuarios","loading","setLoading","error","setError","canEdit","setCanEdit","filters","filtros","setFilter","clearFilters","rol","busqueda","verModal","editarModal","crearModal","loadUsuarios","console","log","result","getUsuarios","Error","message","usuariosData","Array","isArray","data","length","err","window","deleteUser","userId","deleteUsuario","alert","loadCurrentUser","hasPermission","ADMINISTRADOR","filteredUsuarios","safeUsuarios","filtered","filter","u","role","email","toLowerCase","includes","statsData","title","value","icon","color","subtitle","loadingText","children","className","filterConfig","type","name","label","options","CONSULTA","placeholder","extraActions","onClick","openModal","values","onChange","onClear","showClearButton","stats","columns","gap","key","header","render","usuario","id_usuario","id","concat","hideInMobile","userRole","isAdmin","actions","variant","confirm","keyExtractor","isOpen","onClose","closeModal","modalData","helperText","Date","created_at","toLocaleString","updated_at","onSubmit","formData","emailValidation","isValid","updateData","password","trim","updateUsuario","initialData","fields","required","readOnly","userData","createUsuario","Usuarios","memo"],"sources":["/Users/todoporunalma/Desktop/ol/corporacion_react/src/pages/Dashboard/Usuarios.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport DashboardLayout from \"components/layout/DashboardLayout\";\nimport { dbService, ROLES } from \"shared/services\";\nimport { FilterBar } from \"components/UI/Filter\";\nimport { StatsGrid } from \"components/UI/Card\";\nimport { DataTable, ActionDropdown } from \"components/UI/Table\";\nimport { ViewDetailsModal, EditFormModal, CreateFormModal } from \"components/common/CRUDModals\";\nimport { useFilters, useModal } from \"shared/hooks\";\nimport { validateEmail } from \"shared/utils/validationUtils\";\n\nconst UsuariosComponent = () => {\n  const [usuarios, setUsuarios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [canEdit, setCanEdit] = useState(false);\n\n  // Use custom hooks\n  const { filters: filtros, setFilter, clearFilters } = useFilters({\n    rol: \"Todos\",\n    busqueda: \"\"\n  });\n\n  const verModal = useModal();\n  const editarModal = useModal();\n  const crearModal = useModal();\n\n  // Funci√≥n para cargar usuarios\n  const loadUsuarios = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('üîÑ Cargando usuarios...');\n\n      const result = await dbService.getUsuarios();\n      console.log('üìä Resultado usuarios:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message || 'Error al cargar usuarios');\n      }\n\n      // La respuesta es {data: [...], error: null}\n      const usuariosData = Array.isArray(result.data) ? result.data : [];\n\n      setUsuarios(usuariosData);\n      console.log('‚úÖ Usuarios cargados:', usuariosData.length);\n    } catch (err) {\n      console.error('‚ùå Error cargando usuarios:', err);\n      setError(err.message || 'Error desconocido al cargar usuarios');\n      setUsuarios([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Exponer funciones globalmente para el men√∫ desplegable\n  useEffect(() => {\n    window.verModal = verModal;\n    window.editarModal = editarModal;\n    window.deleteUser = async (userId) => {\n      try {\n        const result = await dbService.deleteUsuario(userId);\n        if (result.error) {\n          alert('Error al eliminar usuario: ' + result.error.message);\n        } else {\n          alert('Usuario eliminado exitosamente');\n          await loadUsuarios();\n        }\n      } catch (error) {\n        alert('Error al eliminar usuario: ' + error.message);\n      }\n    };\n\n    return () => {\n      delete window.verModal;\n      delete window.editarModal;\n      delete window.deleteUser;\n    };\n  }, [verModal, editarModal, loadUsuarios]);\n\n  // Cargar usuario actual y verificar permisos\n   useEffect(() => {\n     const loadCurrentUser = async () => {\n       try {\n         console.log('üîê Verificando permisos de administrador...');\n         // Verificar si tiene permisos de administrador\n         const hasPermission = await dbService.hasPermission(ROLES.ADMINISTRADOR);\n         console.log('‚úÖ Permisos de administrador obtenidos:', hasPermission);\n         setCanEdit(hasPermission);\n         console.log('üéØ canEdit establecido como:', hasPermission);\n       } catch (err) {\n         console.error('‚ùå Error cargando permisos:', err);\n         setCanEdit(false);\n       }\n     };\n\n     loadCurrentUser();\n     loadUsuarios();\n   }, [loadUsuarios]);\n\n  // Filtrar usuarios\n  const filteredUsuarios = useMemo(() => {\n    const safeUsuarios = Array.isArray(usuarios) ? usuarios : [];\n    let filtered = safeUsuarios;\n\n    if (filtros.rol !== \"Todos\") {\n      filtered = filtered.filter(u => (u.rol || u.role) === filtros.rol);\n    }\n    if (filtros.busqueda) {\n      filtered = filtered.filter(u =>\n        (u.email || '').toLowerCase().includes(filtros.busqueda.toLowerCase())\n      );\n    }\n    return filtered;\n  }, [usuarios, filtros]);\n\n  // Estad√≠sticas\n  const statsData = useMemo(() => [\n    {\n      title: \"Total Usuarios\",\n      value: filteredUsuarios.length,\n      icon: \"fas fa-users\",\n      color: \"blue\"\n    }\n  ], [filteredUsuarios]);\n\n  if (loading) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Gesti√≥n de usuarios\" loading={true} loadingText=\"Cargando usuarios...\" />\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Error al cargar datos\" loading={false}>\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p className=\"text-red-600\">Error loading usuarios del sistema: {error}</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  // Verificar permisos de acceso a la p√°gina\n  if (!canEdit) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Acceso denegado\">\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center max-w-md\">\n            <i className=\"fas fa-lock text-yellow-600 text-5xl mb-4\"></i>\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Acceso Denegado</h3>\n            <p className=\"text-gray-600\">No tienes permisos para acceder a esta p√°gina. Solo los administradores pueden gestionar usuarios.</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  const filterConfig = [\n    {\n      type: 'select',\n      name: 'rol',\n      label: 'Rol',\n      options: [\n        { value: 'Todos', label: 'Todos los Roles' },\n        { value: ROLES.ADMINISTRADOR, label: 'Administrador' },\n        { value: ROLES.CONSULTA, label: 'Consulta' }\n      ]\n    },\n    {\n      type: 'search',\n      name: 'busqueda',\n      label: 'B√∫squeda',\n      placeholder: 'Buscar por email...'\n    }\n  ];\n\n  return (\n    <DashboardLayout\n      title=\"Gesti√≥n de Usuarios del sistema\"\n      subtitle=\"Administra los usuarios del sistema\"\n      extraActions={\n        canEdit && (\n          <button\n            onClick={() => crearModal.openModal()}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            <i className=\"fas fa-plus mr-2\"></i>\n            Nuevo Usuario\n          </button>\n        )\n      }\n    >\n      <section className=\"px-4 md:px-6 py-4 md:py-6\">\n        <FilterBar\n          filters={filterConfig}\n          values={filtros}\n          onChange={setFilter}\n          onClear={clearFilters}\n          showClearButton={true}\n        />\n\n        {/* Estad√≠sticas R√°pidas */}\n        <div className=\"mt-6\">\n          <StatsGrid\n            stats={statsData}\n            columns={3}\n            gap=\"md\"\n          />\n        </div>\n\n        {/* Tabla de Usuarios */}\n        <div className=\"mt-6\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">Lista de Usuarios del sistema</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  Gestiona los usuarios del sistema\n                </p>\n              </div>\n              {canEdit ? (\n                <span className=\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800\">\n                  <i className=\"fas fa-user-shield mr-2\"></i>\n                  Modo Administrador\n                </span>\n              ) : (\n                <span className=\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800\">\n                  <i className=\"fas fa-eye mr-2\"></i>\n                  Modo Solo Lectura\n                </span>\n              )}\n            </div>\n          </div>\n\n          {filteredUsuarios.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <i className=\"fas fa-users text-gray-300 text-4xl mb-4\"></i>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No se encontraron usuarios del sistema</h3>\n              <p className=\"text-gray-500\">No hay usuarios que coincidan con los filtros aplicados.</p>\n            </div>\n          ) : (\n            <DataTable\n              columns={[\n                {\n                  key: 'email',\n                  header: 'Usuario',\n                  render: (usuario) => (\n                    <div className=\"flex items-center\">\n                      <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3\">\n                        <i className=\"fas fa-user text-blue-600\"></i>\n                      </div>\n                      <div className=\"min-w-0 flex-1\">\n                        <p className=\"font-medium text-gray-900 truncate\">{usuario.email}</p>\n                        <p className=\"text-sm text-gray-500 truncate\">ID: {usuario.id_usuario || usuario.id}</p>\n                        {/* Mobile-only role info */}\n                        <div className=\"md:hidden mt-1\">\n                          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                            (usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR'\n                              ? 'bg-purple-100 text-purple-800'\n                              : 'bg-green-100 text-green-800'\n                          }`}>\n                            <i className={`fas ${\n                              (usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR' ? 'fa-user-shield' : 'fa-user'\n                            } mr-1`}></i>\n                            {(usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR' ? 'Admin' : 'Consulta'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  )\n                },\n                {\n                  key: 'rol',\n                  header: 'Rol',\n                  hideInMobile: true,\n                  render: (usuario) => {\n                    const userRole = usuario.rol || usuario.role;\n                    return (\n                      <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                        userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR'\n                          ? 'bg-purple-100 text-purple-800'\n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        <i className={`fas ${\n                          userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR' ? 'fa-user-shield' : 'fa-user'\n                        } mr-2`}></i>\n                        {userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR' ? 'Administrador' : 'Consulta'}\n                      </span>\n                    );\n                  }\n                },\n                {\n                  key: 'acciones',\n                  header: 'Acciones',\n                  render: (usuario) => {\n                    console.log('üîç Renderizando acciones para usuario:', usuario.email, 'canEdit:', canEdit);\n\n                    if (canEdit) {\n                      console.log('üéØ Renderizando ActionDropdown para:', usuario.email);\n                      const userRole = usuario.rol || usuario.role;\n                      const isAdmin = userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR';\n\n                      if (isAdmin) {\n                        return (\n                          <span className=\"text-xs text-gray-500 font-medium px-2 py-1 bg-gray-100 rounded whitespace-nowrap\">\n                            <i className=\"fas fa-shield-alt mr-1\"></i>\n                            Protegido\n                          </span>\n                        );\n                      }\n\n                      return (\n                        <ActionDropdown\n                          actions={[\n                            {\n                              label: 'Editar',\n                              icon: 'fas fa-edit',\n                              onClick: () => {\n                                console.log('‚úèÔ∏è Editar usuario:', usuario.email);\n                                editarModal.openModal('edit', usuario);\n                              }\n                            },\n                            {\n                              label: 'Eliminar',\n                              icon: 'fas fa-trash',\n                              variant: 'danger',\n                              onClick: () => {\n                                console.log('üóëÔ∏è Eliminar usuario:', usuario.email);\n                                if (window.confirm('¬øEst√°s seguro de que quieres eliminar este usuario?')) {\n                                  window.deleteUser && window.deleteUser(usuario.id_usuario || usuario.id);\n                                }\n                              }\n                            }\n                          ]}\n                        />\n                      );\n                    } else {\n                      return (\n                        <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2\">\n                          <button\n                            onClick={() => {\n                              console.log('üëÅÔ∏è Abriendo modal de solo lectura para:', usuario.email);\n                              verModal.openModal('view', usuario);\n                            }}\n                            className=\"text-blue-600 hover:text-blue-800 text-xs sm:text-sm font-medium whitespace-nowrap flex items-center\"\n                          >\n                            <i className=\"fas fa-eye mr-1\"></i>\n                            Ver\n                          </button>\n                          <span className=\"text-xs text-yellow-600 font-medium whitespace-nowrap flex items-center\">\n                            <i className=\"fas fa-lock mr-1\"></i>\n                            Solo Lectura\n                          </span>\n                        </div>\n                      );\n                    }\n                  }\n                }\n              ]}\n              data={filteredUsuarios}\n              keyExtractor={(usuario) => usuario.id_usuario || usuario.id}\n              loading={loading}\n            />\n          )}\n        </div>\n        </div>\n      </section>\n\n      {/* Modales */}\n      <ViewDetailsModal\n        isOpen={verModal.isOpen}\n        onClose={verModal.closeModal}\n        title=\"Detalles del Usuario del sistema\"\n        data={verModal.modalData ? [\n          { label: 'ID', value: verModal.modalData.id_usuario || verModal.modalData.id },\n          { label: 'Email', value: verModal.modalData.email },\n          {\n            label: 'Contrase√±a',\n            value: '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢',\n            helperText: 'La contrase√±a est√° oculta por seguridad'\n          },\n          {\n            label: 'Rol',\n            value: (() => {\n              const rol = verModal.modalData.rol || verModal.modalData.role;\n              // Comparaci√≥n m√°s robusta\n              if (rol === ROLES.ADMINISTRADOR || rol === 'ADMINISTRADOR') {\n                return 'Administrador';\n              }\n              return 'Consulta';\n            })()\n          },\n          {\n            label: 'Fecha de creaci√≥n',\n            value: new Date(verModal.modalData.created_at).toLocaleString('es-ES')\n          },\n          {\n            label: '√öltima actualizaci√≥n',\n            value: new Date(verModal.modalData.updated_at).toLocaleString('es-ES')\n          }\n        ] : []}\n      />\n\n      <EditFormModal\n        isOpen={editarModal.isOpen}\n        onClose={editarModal.closeModal}\n        title=\"Editar Usuario del sistema\"\n        onSubmit={async (formData) => {\n          // Validar email\n          const emailValidation = validateEmail(formData.email);\n          if (!emailValidation.isValid) {\n            throw new Error(emailValidation.error);\n          }\n\n          // Validar rol\n          if (!formData.rol || (formData.rol !== ROLES.ADMINISTRADOR && formData.rol !== ROLES.CONSULTA && formData.rol !== 'ADMINISTRADOR' && formData.rol !== 'CONSULTA')) {\n            throw new Error('Rol inv√°lido');\n          }\n\n          // Si no se proporciona password, no lo incluimos en la actualizaci√≥n\n          const updateData = {\n            email: formData.email,\n            role: formData.rol // El backend espera 'role', no 'rol'\n          };\n\n          if (formData.password && formData.password.trim()) {\n            if (formData.password.length < 8) {\n              throw new Error('La contrase√±a debe tener al menos 8 caracteres');\n            }\n            updateData.password = formData.password;\n          }\n\n          const result = await dbService.updateUsuario(editarModal.modalData.id_usuario || editarModal.modalData.id, updateData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al actualizar usuario');\n          }\n          await loadUsuarios();\n        }}\n        initialData={editarModal.modalData ? {\n          email: editarModal.modalData.email,\n          password: '',\n          rol: editarModal.modalData.rol || editarModal.modalData.role\n        } : {\n          email: '',\n          password: '',\n          rol: ROLES.CONSULTA\n        }}\n        fields={[\n          {\n            name: 'email',\n            label: 'Email',\n            type: 'email',\n            required: true,\n            placeholder: 'usuario@ejemplo.com'\n          },\n          {\n            name: 'currentPassword',\n            label: 'Contrase√±a Actual (solo lectura)',\n            type: 'password',\n            readOnly: true,\n            placeholder: 'Contrase√±a actual del usuario',\n            value: '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢', // Mostrar puntos por seguridad\n            helperText: 'La contrase√±a actual no se puede ver por seguridad'\n          },\n          {\n            name: 'password',\n            label: 'Nueva Contrase√±a (opcional)',\n            type: 'password',\n            placeholder: 'Dejar en blanco para mantener la actual',\n            helperText: 'M√≠nimo 8 caracteres. Si se deja en blanco, mantiene la contrase√±a actual.'\n          },\n          {\n            name: 'rol',\n            label: 'Rol',\n            type: 'select',\n            required: true,\n            options: [\n              { value: ROLES.CONSULTA, label: 'Consulta' }\n            ]\n          }\n        ]}\n      />\n\n      <CreateFormModal\n        isOpen={crearModal.isOpen}\n        onClose={crearModal.closeModal}\n        title=\"Nuevo Usuario del sistema\"\n        onSubmit={async (formData) => {\n          // Validar email\n          const emailValidation = validateEmail(formData.email);\n          if (!emailValidation.isValid) {\n            throw new Error(emailValidation.error);\n          }\n\n          // Validar password\n          if (!formData.password || formData.password.length < 8) {\n            throw new Error('La contrase√±a debe tener al menos 8 caracteres');\n          }\n\n          // Validar rol\n          if (!formData.rol || (formData.rol !== ROLES.ADMINISTRADOR && formData.rol !== ROLES.CONSULTA && formData.rol !== 'ADMINISTRADOR' && formData.rol !== 'CONSULTA')) {\n            throw new Error('Rol inv√°lido');\n          }\n\n          // Convertir 'rol' a 'role' para el backend\n          const userData = {\n            email: formData.email,\n            password: formData.password,\n            role: formData.rol\n          };\n\n          const result = await dbService.createUsuario(userData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al crear usuario');\n          }\n          await loadUsuarios();\n        }}\n        initialData={{\n          email: '',\n          password: '',\n          rol: ROLES.CONSULTA\n        }}\n        fields={[\n          {\n            name: 'email',\n            label: 'Email',\n            type: 'email',\n            required: true,\n            placeholder: 'usuario@ejemplo.com'\n          },\n          {\n            name: 'password',\n            label: 'Contrase√±a',\n            type: 'password',\n            required: true,\n            placeholder: 'M√≠nimo 8 caracteres',\n            helperText: 'M√≠nimo 8 caracteres. La contrase√±a debe ser segura.'\n          },\n          {\n            name: 'rol',\n            label: 'Rol',\n            type: 'select',\n            required: true,\n            options: [\n              { value: ROLES.ADMINISTRADOR, label: 'Administrador' },\n              { value: ROLES.CONSULTA, label: 'Consulta' }\n            ]\n          }\n        ]}\n      />\n    </DashboardLayout>\n  );\n};\n\n// Wrap with React.memo to prevent unnecessary re-renders\nconst Usuarios = React.memo(UsuariosComponent);\n\nexport default Usuarios;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}