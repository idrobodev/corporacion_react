{"ast":null,"code":"import{useState,useEffect}from'react';import visitorCounterService from'../services/visitorCounter';const useVisitorCounter=()=>{const[visitorCount,setVisitorCount]=useState(0);const[isLoading,setIsLoading]=useState(true);const[isAnimating,setIsAnimating]=useState(false);useEffect(()=>{// Initialize visitor count\nconst initializeCounter=()=>{try{const count=visitorCounterService.incrementCount();setVisitorCount(count);setIsLoading(false);// Trigger animation\nsetIsAnimating(true);setTimeout(()=>setIsAnimating(false),1000);}catch(error){console.error('Error initializing visitor counter:',error);setVisitorCount(1250);// Fallback count\nsetIsLoading(false);}};initializeCounter();// Simulate periodic updates (every 30 seconds)\nconst interval=setInterval(()=>{if(Math.random()<0.3){// 30% chance of update\nconst newCount=visitorCounterService.simulateRealisticGrowth();setVisitorCount(newCount);setIsAnimating(true);setTimeout(()=>setIsAnimating(false),800);}},30000);return()=>clearInterval(interval);},[]);const getFormattedCount=()=>{return visitorCount.toLocaleString('es-CO');};return{visitorCount,formattedCount:getFormattedCount(),isLoading,isAnimating};};export default useVisitorCounter;","map":{"version":3,"names":["useState","useEffect","visitorCounterService","useVisitorCounter","visitorCount","setVisitorCount","isLoading","setIsLoading","isAnimating","setIsAnimating","initializeCounter","count","incrementCount","setTimeout","error","console","interval","setInterval","Math","random","newCount","simulateRealisticGrowth","clearInterval","getFormattedCount","toLocaleString","formattedCount"],"sources":["/Users/todoporunalma/Desktop/Corporacion/coptua_react/src/shared/hooks/useVisitorCounter.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport visitorCounterService from '../services/visitorCounter';\n\nconst useVisitorCounter = () => {\n  const [visitorCount, setVisitorCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  useEffect(() => {\n    // Initialize visitor count\n    const initializeCounter = () => {\n      try {\n        const count = visitorCounterService.incrementCount();\n        setVisitorCount(count);\n        setIsLoading(false);\n        \n        // Trigger animation\n        setIsAnimating(true);\n        setTimeout(() => setIsAnimating(false), 1000);\n      } catch (error) {\n        console.error('Error initializing visitor counter:', error);\n        setVisitorCount(1250); // Fallback count\n        setIsLoading(false);\n      }\n    };\n\n    initializeCounter();\n\n    // Simulate periodic updates (every 30 seconds)\n    const interval = setInterval(() => {\n      if (Math.random() < 0.3) { // 30% chance of update\n        const newCount = visitorCounterService.simulateRealisticGrowth();\n        setVisitorCount(newCount);\n        setIsAnimating(true);\n        setTimeout(() => setIsAnimating(false), 800);\n      }\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const getFormattedCount = () => {\n    return visitorCount.toLocaleString('es-CO');\n  };\n\n  return {\n    visitorCount,\n    formattedCount: getFormattedCount(),\n    isLoading,\n    isAnimating\n  };\n};\n\nexport default useVisitorCounter;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,qBAAqB,KAAM,4BAA4B,CAE9D,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGL,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,KAAK,CAAC,CAErDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAS,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGT,qBAAqB,CAACU,cAAc,CAAC,CAAC,CACpDP,eAAe,CAACM,KAAK,CAAC,CACtBJ,YAAY,CAAC,KAAK,CAAC,CAEnB;AACAE,cAAc,CAAC,IAAI,CAAC,CACpBI,UAAU,CAAC,IAAMJ,cAAc,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC/C,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC3DT,eAAe,CAAC,IAAI,CAAC,CAAE;AACvBE,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAEDG,iBAAiB,CAAC,CAAC,CAEnB;AACA,KAAM,CAAAM,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjC,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,CAAE,CAAE;AACzB,KAAM,CAAAC,QAAQ,CAAGlB,qBAAqB,CAACmB,uBAAuB,CAAC,CAAC,CAChEhB,eAAe,CAACe,QAAQ,CAAC,CACzBX,cAAc,CAAC,IAAI,CAAC,CACpBI,UAAU,CAAC,IAAMJ,cAAc,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CAC9C,CACF,CAAC,CAAE,KAAK,CAAC,CAET,MAAO,IAAMa,aAAa,CAACN,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,MAAO,CAAAnB,YAAY,CAACoB,cAAc,CAAC,OAAO,CAAC,CAC7C,CAAC,CAED,MAAO,CACLpB,YAAY,CACZqB,cAAc,CAAEF,iBAAiB,CAAC,CAAC,CACnCjB,SAAS,CACTE,WACF,CAAC,CACH,CAAC,CAED,cAAe,CAAAL,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}