{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useIsMobile}from'shared/hooks';/**\n * ActionDropdown component - Dropdown menu for row actions\n * Responsive: adjusts size and positioning for mobile devices\n * \n * @param {Object} props\n * @param {Array} props.actions - Array of action objects {label, icon, onClick, variant, disabled}\n * @param {string} props.triggerIcon - Icon for trigger button\n * @param {'left'|'right'} props.position - Dropdown position\n * @param {string} props.className - Additional CSS classes\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActionDropdown=_ref=>{let{actions,triggerIcon='fas fa-ellipsis-v',position='right',className=''}=_ref;const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);const isMobile=useIsMobile();// Close on click outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};if(isOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOpen]);const handleActionClick=action=>{if(!action.disabled){action.onClick();setIsOpen(false);}};const positionClasses={left:'left-0',right:'right-0'};const getVariantClasses=variant=>{switch(variant){case'danger':return'text-red-600 hover:bg-red-50';default:return'text-gray-700 hover:bg-gray-50';}};return/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"relative dropdown-container \".concat(className),children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\",onClick:e=>{e.stopPropagation();setIsOpen(!isOpen);},\"aria-label\":\"Opciones\",\"aria-expanded\":isOpen,children:/*#__PURE__*/_jsx(\"i\",{className:triggerIcon})}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"\\n            absolute\\n            \".concat(positionClasses[position],\"\\n            mt-2\\n            \").concat(isMobile?'w-48':'w-56',\"\\n            bg-white\\n            border\\n            border-gray-200\\n            rounded-lg\\n            shadow-lg\\n            z-10\\n            animate-fadeIn\\n            overflow-hidden\\n          \"),children:actions.map((action,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:e=>{e.stopPropagation();handleActionClick(action);},disabled:action.disabled,className:\"\\n                w-full\\n                text-left\\n                px-4\\n                py-3\\n                text-sm\\n                md:text-base\\n                transition-colors\\n                min-h-[44px]\\n                \".concat(getVariantClasses(action.variant),\"\\n                \").concat(action.disabled?'opacity-50 cursor-not-allowed':'cursor-pointer',\"\\n                \").concat(index!==actions.length-1?'border-b border-gray-100':'',\"\\n              \"),children:[action.icon&&/*#__PURE__*/_jsx(\"i\",{className:\"\".concat(action.icon,\" mr-2 md:mr-3 w-4\")}),action.label]},index))})]});};export default ActionDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","useIsMobile","jsx","_jsx","jsxs","_jsxs","ActionDropdown","_ref","actions","triggerIcon","position","className","isOpen","setIsOpen","dropdownRef","isMobile","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleActionClick","action","disabled","onClick","positionClasses","left","right","getVariantClasses","variant","ref","concat","children","type","e","stopPropagation","map","index","length","icon","label"],"sources":["/Users/todoporunalma/Desktop/Corporacion/coptua_react/src/components/UI/Table/ActionDropdown.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIsMobile } from 'shared/hooks';\n\n/**\n * ActionDropdown component - Dropdown menu for row actions\n * Responsive: adjusts size and positioning for mobile devices\n * \n * @param {Object} props\n * @param {Array} props.actions - Array of action objects {label, icon, onClick, variant, disabled}\n * @param {string} props.triggerIcon - Icon for trigger button\n * @param {'left'|'right'} props.position - Dropdown position\n * @param {string} props.className - Additional CSS classes\n */\nconst ActionDropdown = ({\n  actions,\n  triggerIcon = 'fas fa-ellipsis-v',\n  position = 'right',\n  className = ''\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const isMobile = useIsMobile();\n\n  // Close on click outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  const handleActionClick = (action) => {\n    if (!action.disabled) {\n      action.onClick();\n      setIsOpen(false);\n    }\n  };\n\n  const positionClasses = {\n    left: 'left-0',\n    right: 'right-0'\n  };\n\n  const getVariantClasses = (variant) => {\n    switch (variant) {\n      case 'danger':\n        return 'text-red-600 hover:bg-red-50';\n      default:\n        return 'text-gray-700 hover:bg-gray-50';\n    }\n  };\n\n  return (\n    <div ref={dropdownRef} className={`relative dropdown-container ${className}`}>\n      <button\n        type=\"button\"\n        className=\"text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-50 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\"\n        onClick={(e) => {\n          e.stopPropagation();\n          setIsOpen(!isOpen);\n        }}\n        aria-label=\"Opciones\"\n        aria-expanded={isOpen}\n      >\n        <i className={triggerIcon}></i>\n      </button>\n\n      {isOpen && (\n        <div\n          className={`\n            absolute\n            ${positionClasses[position]}\n            mt-2\n            ${isMobile ? 'w-48' : 'w-56'}\n            bg-white\n            border\n            border-gray-200\n            rounded-lg\n            shadow-lg\n            z-10\n            animate-fadeIn\n            overflow-hidden\n          `}\n        >\n          {actions.map((action, index) => (\n            <button\n              key={index}\n              type=\"button\"\n              onClick={(e) => {\n                e.stopPropagation();\n                handleActionClick(action);\n              }}\n              disabled={action.disabled}\n              className={`\n                w-full\n                text-left\n                px-4\n                py-3\n                text-sm\n                md:text-base\n                transition-colors\n                min-h-[44px]\n                ${getVariantClasses(action.variant)}\n                ${action.disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}\n                ${index !== actions.length - 1 ? 'border-b border-gray-100' : ''}\n              `}\n            >\n              {action.icon && (\n                <i className={`${action.icon} mr-2 md:mr-3 w-4`}></i>\n              )}\n              {action.label}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nActionDropdown.propTypes = {\n  actions: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      icon: PropTypes.string,\n      onClick: PropTypes.func.isRequired,\n      variant: PropTypes.oneOf(['default', 'danger']),\n      disabled: PropTypes.bool\n    })\n  ).isRequired,\n  triggerIcon: PropTypes.string,\n  position: PropTypes.oneOf(['left', 'right']),\n  className: PropTypes.string\n};\n\nexport default ActionDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}