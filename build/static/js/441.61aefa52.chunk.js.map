{"version":3,"file":"static/js/441.61aefa52.chunk.js","mappings":"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","sources":["shared/utils/validationUtils.js","pages/Dashboard/Usuarios.jsx"],"sourcesContent":["/**\n * Validation Utilities\n * Centralized validation functions for the application\n */\n\nimport { dbService } from '../services';\n\n/**\n * Validate that a documento number is unique for participantes\n * @param {string} numeroDocumento - Document number to validate\n * @param {number|null} participanteId - ID of current participante (for edit mode)\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateParticipanteDocumentoUnico = async (numeroDocumento, participanteId = null) => {\n  try {\n    if (!numeroDocumento || !numeroDocumento.trim()) {\n      return { isValid: false, error: 'El número de documento es requerido' };\n    }\n\n    const result = await dbService.getParticipantes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(p => {\n        const pId = p.id || p.id_participante;\n        return p.numero_documento === numeroDocumento && pId !== participanteId;\n      });\n      \n      if (exists) {\n        return { \n          isValid: false, \n          error: 'El número de documento ya está registrado para otro participante' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating participante documento:', err);\n    // Allow if validation fails to not block the user\n    return { isValid: true, error: null };\n  }\n};\n\n/**\n * Validate that a documento number is unique for acudientes\n * @param {string} numeroDocumento - Document number to validate\n * @param {number|null} acudienteId - ID of current acudiente (for edit mode)\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateAcudienteDocumentoUnico = async (numeroDocumento, acudienteId = null) => {\n  try {\n    if (!numeroDocumento || !numeroDocumento.trim()) {\n      return { isValid: false, error: 'El número de documento es requerido' };\n    }\n\n    const result = await dbService.getAcudientes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(a => {\n        const aId = a.id || a.id_acudiente;\n        return a.numero_documento === numeroDocumento && aId !== acudienteId;\n      });\n      \n      if (exists) {\n        return { \n          isValid: false, \n          error: 'El número de documento ya está registrado para otro acudiente' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating acudiente documento:', err);\n    // Allow if validation fails to not block the user\n    return { isValid: true, error: null };\n  }\n};\n\n/**\n * Validate email format\n * @param {string} email - Email to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateEmail = (email) => {\n  if (!email || !email.trim()) {\n    return { isValid: false, error: 'El email es requerido' };\n  }\n\n  // Basic email regex pattern\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  \n  if (!emailRegex.test(email)) {\n    return { \n      isValid: false, \n      error: 'El formato del email no es válido' \n    };\n  }\n\n  return { isValid: true, error: null };\n};\n\n/**\n * Validate date format and ensure it's not in the future\n * @param {string} fecha - Date string to validate\n * @param {string} fieldName - Name of the field for error messages\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFecha = (fecha, fieldName = 'fecha') => {\n  if (!fecha) {\n    return { isValid: false, error: `La ${fieldName} es requerida` };\n  }\n\n  const date = new Date(fecha);\n  const today = new Date();\n  \n  // Reset time to compare only dates\n  today.setHours(23, 59, 59, 999);\n\n  // Check if date is valid\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\n    return { \n      isValid: false, \n      error: `La ${fieldName} no es válida` \n    };\n  }\n\n  // Check if date is not in the future\n  if (date > today) {\n    return { \n      isValid: false, \n      error: `La ${fieldName} no puede ser futura` \n    };\n  }\n\n  return { isValid: true, error: null };\n};\n\n/**\n * Validate fecha_nacimiento specifically\n * @param {string} fechaNacimiento - Birth date to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFechaNacimiento = (fechaNacimiento) => {\n  return validateFecha(fechaNacimiento, 'fecha de nacimiento');\n};\n\n/**\n * Validate fecha_ingreso specifically\n * @param {string} fechaIngreso - Entry date to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFechaIngreso = (fechaIngreso) => {\n  return validateFecha(fechaIngreso, 'fecha de ingreso');\n};\n\n/**\n * Validate that a participante exists\n * @param {number} participanteId - ID of participante to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateParticipanteExists = async (participanteId) => {\n  try {\n    if (!participanteId) {\n      return { isValid: false, error: 'Debe seleccionar un participante' };\n    }\n\n    const result = await dbService.getParticipantes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(p => \n        (p.id_participante || p.id) === parseInt(participanteId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'El participante seleccionado no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating participante exists:', err);\n    return { isValid: false, error: 'Error al validar el participante' };\n  }\n};\n\n/**\n * Validate that a sede exists\n * @param {number} sedeId - ID of sede to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateSedeExists = async (sedeId) => {\n  try {\n    if (!sedeId) {\n      return { isValid: false, error: 'Debe seleccionar una sede' };\n    }\n\n    const result = await dbService.getSedes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(s => \n        (s.id_sede || s.id) === parseInt(sedeId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'La sede seleccionada no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating sede exists:', err);\n    return { isValid: false, error: 'Error al validar la sede' };\n  }\n};\n\n/**\n * Validate that an acudiente exists\n * @param {number} acudienteId - ID of acudiente to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateAcudienteExists = async (acudienteId) => {\n  try {\n    if (!acudienteId) {\n      return { isValid: false, error: 'Debe seleccionar un acudiente' };\n    }\n\n    const result = await dbService.getAcudientes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(a => \n        (a.id_acudiente || a.id) === parseInt(acudienteId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'El acudiente seleccionado no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating acudiente exists:', err);\n    return { isValid: false, error: 'Error al validar el acudiente' };\n  }\n};\n\n/**\n * Validate mensualidad relationships (participante and acudiente must exist)\n * @param {number} participanteId - ID of participante\n * @param {number} acudienteId - ID of acudiente\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateMensualidadRelations = async (participanteId, acudienteId) => {\n  // Validate participante\n  const participanteValidation = await validateParticipanteExists(participanteId);\n  if (!participanteValidation.isValid) {\n    return participanteValidation;\n  }\n\n  // Validate acudiente\n  const acudienteValidation = await validateAcudienteExists(acudienteId);\n  if (!acudienteValidation.isValid) {\n    return acudienteValidation;\n  }\n\n  return { isValid: true, error: null };\n};\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport DashboardLayout from \"components/layout/DashboardLayout\";\nimport { dbService, ROLES } from \"shared/services\";\nimport { FilterBar } from \"components/UI/Filter\";\nimport { StatsGrid } from \"components/UI/Card\";\nimport { DataTable, ActionDropdown } from \"components/UI/Table\";\nimport { ViewDetailsModal, EditFormModal, CreateFormModal } from \"components/common/CRUDModals\";\nimport { useFilters, useModal } from \"shared/hooks\";\nimport { validateEmail } from \"shared/utils/validationUtils\";\n\nconst UsuariosComponent = () => {\n  const [usuarios, setUsuarios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [canEdit, setCanEdit] = useState(false);\n\n  // Use custom hooks\n  const { filters: filtros, setFilter, clearFilters } = useFilters({\n    rol: \"Todos\",\n    busqueda: \"\"\n  });\n\n  const verModal = useModal();\n  const editarModal = useModal();\n  const crearModal = useModal();\n\n  // Función para cargar usuarios\n  const loadUsuarios = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('🔄 Cargando usuarios...');\n\n      const result = await dbService.getUsuarios();\n      console.log('📊 Resultado usuarios:', result);\n\n      if (result.error) {\n        throw new Error(result.error.message || 'Error al cargar usuarios');\n      }\n\n      // La respuesta es {data: [...], error: null}\n      const usuariosData = Array.isArray(result.data) ? result.data : [];\n\n      setUsuarios(usuariosData);\n      console.log('✅ Usuarios cargados:', usuariosData.length);\n    } catch (err) {\n      console.error('❌ Error cargando usuarios:', err);\n      setError(err.message || 'Error desconocido al cargar usuarios');\n      setUsuarios([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Exponer funciones globalmente para el menú desplegable\n  useEffect(() => {\n    window.verModal = verModal;\n    window.editarModal = editarModal;\n    window.deleteUser = async (userId) => {\n      try {\n        const result = await dbService.deleteUsuario(userId);\n        if (result.error) {\n          alert('Error al eliminar usuario: ' + result.error.message);\n        } else {\n          alert('Usuario eliminado exitosamente');\n          await loadUsuarios();\n        }\n      } catch (error) {\n        alert('Error al eliminar usuario: ' + error.message);\n      }\n    };\n\n    return () => {\n      delete window.verModal;\n      delete window.editarModal;\n      delete window.deleteUser;\n    };\n  }, [verModal, editarModal, loadUsuarios]);\n\n  // Cargar usuario actual y verificar permisos\n   useEffect(() => {\n     const loadCurrentUser = async () => {\n       try {\n         console.log('🔐 Verificando permisos de administrador...');\n         // Verificar si tiene permisos de administrador\n         const hasPermission = await dbService.hasPermission(ROLES.ADMINISTRADOR);\n         console.log('✅ Permisos de administrador obtenidos:', hasPermission);\n         setCanEdit(hasPermission);\n         console.log('🎯 canEdit establecido como:', hasPermission);\n       } catch (err) {\n         console.error('❌ Error cargando permisos:', err);\n         setCanEdit(false);\n       }\n     };\n\n     loadCurrentUser();\n     loadUsuarios();\n   }, [loadUsuarios]);\n\n  // Filtrar usuarios\n  const filteredUsuarios = useMemo(() => {\n    const safeUsuarios = Array.isArray(usuarios) ? usuarios : [];\n    let filtered = safeUsuarios;\n\n    if (filtros.rol !== \"Todos\") {\n      filtered = filtered.filter(u => (u.rol || u.role) === filtros.rol);\n    }\n    if (filtros.busqueda) {\n      filtered = filtered.filter(u =>\n        (u.email || '').toLowerCase().includes(filtros.busqueda.toLowerCase())\n      );\n    }\n    return filtered;\n  }, [usuarios, filtros]);\n\n  // Estadísticas\n  const statsData = useMemo(() => [\n    {\n      title: \"Total Usuarios\",\n      value: filteredUsuarios.length,\n      icon: \"fas fa-users\",\n      color: \"blue\"\n    }\n  ], [filteredUsuarios]);\n\n  if (loading) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Gestión de usuarios\" loading={true} loadingText=\"Cargando usuarios...\" />\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Error al cargar datos\" loading={false}>\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p className=\"text-red-600\">Error loading usuarios del sistema: {error}</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  // Verificar permisos de acceso a la página\n  if (!canEdit) {\n    return (\n      <DashboardLayout title=\"Usuarios\" subtitle=\"Acceso denegado\">\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center max-w-md\">\n            <i className=\"fas fa-lock text-yellow-600 text-5xl mb-4\"></i>\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Acceso Denegado</h3>\n            <p className=\"text-gray-600\">No tienes permisos para acceder a esta página. Solo los administradores pueden gestionar usuarios.</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  const filterConfig = [\n    {\n      type: 'select',\n      name: 'rol',\n      label: 'Rol',\n      options: [\n        { value: 'Todos', label: 'Todos los Roles' },\n        { value: ROLES.ADMINISTRADOR, label: 'Administrador' },\n        { value: ROLES.CONSULTA, label: 'Consulta' }\n      ]\n    },\n    {\n      type: 'search',\n      name: 'busqueda',\n      label: 'Búsqueda',\n      placeholder: 'Buscar por email...'\n    }\n  ];\n\n  return (\n    <DashboardLayout\n      title=\"Gestión de Usuarios del sistema\"\n      subtitle=\"Administra los usuarios del sistema\"\n      extraActions={\n        canEdit && (\n          <button\n            onClick={() => crearModal.openModal()}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            <i className=\"fas fa-plus mr-2\"></i>\n            Nuevo Usuario\n          </button>\n        )\n      }\n    >\n      <section className=\"px-4 md:px-6 py-4 md:py-6\">\n        <FilterBar\n          filters={filterConfig}\n          values={filtros}\n          onChange={setFilter}\n          onClear={clearFilters}\n          showClearButton={true}\n        />\n\n        {/* Estadísticas Rápidas */}\n        <div className=\"mt-6\">\n          <StatsGrid\n            stats={statsData}\n            columns={3}\n            gap=\"md\"\n          />\n        </div>\n\n        {/* Tabla de Usuarios */}\n        <div className=\"mt-6\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">Lista de Usuarios del sistema</h3>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  Gestiona los usuarios del sistema\n                </p>\n              </div>\n              {canEdit ? (\n                <span className=\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800\">\n                  <i className=\"fas fa-user-shield mr-2\"></i>\n                  Modo Administrador\n                </span>\n              ) : (\n                <span className=\"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800\">\n                  <i className=\"fas fa-eye mr-2\"></i>\n                  Modo Solo Lectura\n                </span>\n              )}\n            </div>\n          </div>\n\n          {filteredUsuarios.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <i className=\"fas fa-users text-gray-300 text-4xl mb-4\"></i>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No se encontraron usuarios del sistema</h3>\n              <p className=\"text-gray-500\">No hay usuarios que coincidan con los filtros aplicados.</p>\n            </div>\n          ) : (\n            <DataTable\n              columns={[\n                {\n                  key: 'email',\n                  header: 'Usuario',\n                  render: (usuario) => (\n                    <div className=\"flex items-center\">\n                      <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3\">\n                        <i className=\"fas fa-user text-blue-600\"></i>\n                      </div>\n                      <div className=\"min-w-0 flex-1\">\n                        <p className=\"font-medium text-gray-900 truncate\">{usuario.email}</p>\n                        <p className=\"text-sm text-gray-500 truncate\">ID: {usuario.id_usuario || usuario.id}</p>\n                        {/* Mobile-only role info */}\n                        <div className=\"md:hidden mt-1\">\n                          <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                            (usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR'\n                              ? 'bg-purple-100 text-purple-800'\n                              : 'bg-green-100 text-green-800'\n                          }`}>\n                            <i className={`fas ${\n                              (usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR' ? 'fa-user-shield' : 'fa-user'\n                            } mr-1`}></i>\n                            {(usuario.rol || usuario.role) === ROLES.ADMINISTRADOR || (usuario.rol || usuario.role) === 'ADMINISTRADOR' ? 'Admin' : 'Consulta'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  )\n                },\n                {\n                  key: 'rol',\n                  header: 'Rol',\n                  hideInMobile: true,\n                  render: (usuario) => {\n                    const userRole = usuario.rol || usuario.role;\n                    return (\n                      <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                        userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR'\n                          ? 'bg-purple-100 text-purple-800'\n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        <i className={`fas ${\n                          userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR' ? 'fa-user-shield' : 'fa-user'\n                        } mr-2`}></i>\n                        {userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR' ? 'Administrador' : 'Consulta'}\n                      </span>\n                    );\n                  }\n                },\n                {\n                  key: 'acciones',\n                  header: 'Acciones',\n                  render: (usuario) => {\n                    console.log('🔍 Renderizando acciones para usuario:', usuario.email, 'canEdit:', canEdit);\n\n                    if (canEdit) {\n                      console.log('🎯 Renderizando ActionDropdown para:', usuario.email);\n                      const userRole = usuario.rol || usuario.role;\n                      const isAdmin = userRole === ROLES.ADMINISTRADOR || userRole === 'ADMINISTRADOR';\n\n                      if (isAdmin) {\n                        return (\n                          <span className=\"text-xs text-gray-500 font-medium px-2 py-1 bg-gray-100 rounded whitespace-nowrap\">\n                            <i className=\"fas fa-shield-alt mr-1\"></i>\n                            Protegido\n                          </span>\n                        );\n                      }\n\n                      return (\n                        <ActionDropdown\n                          actions={[\n                            {\n                              label: 'Editar',\n                              icon: 'fas fa-edit',\n                              onClick: () => {\n                                console.log('✏️ Editar usuario:', usuario.email);\n                                editarModal.openModal('edit', usuario);\n                              }\n                            },\n                            {\n                              label: 'Eliminar',\n                              icon: 'fas fa-trash',\n                              variant: 'danger',\n                              onClick: () => {\n                                console.log('🗑️ Eliminar usuario:', usuario.email);\n                                if (window.confirm('¿Estás seguro de que quieres eliminar este usuario?')) {\n                                  window.deleteUser && window.deleteUser(usuario.id_usuario || usuario.id);\n                                }\n                              }\n                            }\n                          ]}\n                        />\n                      );\n                    } else {\n                      return (\n                        <div className=\"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2\">\n                          <button\n                            onClick={() => {\n                              console.log('👁️ Abriendo modal de solo lectura para:', usuario.email);\n                              verModal.openModal('view', usuario);\n                            }}\n                            className=\"text-blue-600 hover:text-blue-800 text-xs sm:text-sm font-medium whitespace-nowrap flex items-center\"\n                          >\n                            <i className=\"fas fa-eye mr-1\"></i>\n                            Ver\n                          </button>\n                          <span className=\"text-xs text-yellow-600 font-medium whitespace-nowrap flex items-center\">\n                            <i className=\"fas fa-lock mr-1\"></i>\n                            Solo Lectura\n                          </span>\n                        </div>\n                      );\n                    }\n                  }\n                }\n              ]}\n              data={filteredUsuarios}\n              keyExtractor={(usuario) => usuario.id_usuario || usuario.id}\n              loading={loading}\n            />\n          )}\n        </div>\n        </div>\n      </section>\n\n      {/* Modales */}\n      <ViewDetailsModal\n        isOpen={verModal.isOpen}\n        onClose={verModal.closeModal}\n        title=\"Detalles del Usuario del sistema\"\n        data={verModal.modalData ? [\n          { label: 'ID', value: verModal.modalData.id_usuario || verModal.modalData.id },\n          { label: 'Email', value: verModal.modalData.email },\n          {\n            label: 'Contraseña',\n            value: '••••••••',\n            helperText: 'La contraseña está oculta por seguridad'\n          },\n          {\n            label: 'Rol',\n            value: (() => {\n              const rol = verModal.modalData.rol || verModal.modalData.role;\n              // Comparación más robusta\n              if (rol === ROLES.ADMINISTRADOR || rol === 'ADMINISTRADOR') {\n                return 'Administrador';\n              }\n              return 'Consulta';\n            })()\n          },\n          {\n            label: 'Fecha de creación',\n            value: new Date(verModal.modalData.created_at).toLocaleString('es-ES')\n          },\n          {\n            label: 'Última actualización',\n            value: new Date(verModal.modalData.updated_at).toLocaleString('es-ES')\n          }\n        ] : []}\n      />\n\n      <EditFormModal\n        isOpen={editarModal.isOpen}\n        onClose={editarModal.closeModal}\n        title=\"Editar Usuario del sistema\"\n        onSubmit={async (formData) => {\n          // Validar email\n          const emailValidation = validateEmail(formData.email);\n          if (!emailValidation.isValid) {\n            throw new Error(emailValidation.error);\n          }\n\n          // Validar rol\n          if (!formData.rol || (formData.rol !== ROLES.ADMINISTRADOR && formData.rol !== ROLES.CONSULTA && formData.rol !== 'ADMINISTRADOR' && formData.rol !== 'CONSULTA')) {\n            throw new Error('Rol inválido');\n          }\n\n          // Si no se proporciona password, no lo incluimos en la actualización\n          const updateData = {\n            email: formData.email,\n            role: formData.rol // El backend espera 'role', no 'rol'\n          };\n\n          if (formData.password && formData.password.trim()) {\n            if (formData.password.length < 8) {\n              throw new Error('La contraseña debe tener al menos 8 caracteres');\n            }\n            updateData.password = formData.password;\n          }\n\n          const result = await dbService.updateUsuario(editarModal.modalData.id_usuario || editarModal.modalData.id, updateData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al actualizar usuario');\n          }\n          await loadUsuarios();\n        }}\n        initialData={editarModal.modalData ? {\n          email: editarModal.modalData.email,\n          password: '',\n          rol: editarModal.modalData.rol || editarModal.modalData.role\n        } : {\n          email: '',\n          password: '',\n          rol: ROLES.CONSULTA\n        }}\n        fields={[\n          {\n            name: 'email',\n            label: 'Email',\n            type: 'email',\n            required: true,\n            placeholder: 'usuario@ejemplo.com'\n          },\n          {\n            name: 'currentPassword',\n            label: 'Contraseña Actual (solo lectura)',\n            type: 'password',\n            readOnly: true,\n            placeholder: 'Contraseña actual del usuario',\n            value: '••••••••', // Mostrar puntos por seguridad\n            helperText: 'La contraseña actual no se puede ver por seguridad'\n          },\n          {\n            name: 'password',\n            label: 'Nueva Contraseña (opcional)',\n            type: 'password',\n            placeholder: 'Dejar en blanco para mantener la actual',\n            helperText: 'Mínimo 8 caracteres. Si se deja en blanco, mantiene la contraseña actual.'\n          },\n          {\n            name: 'rol',\n            label: 'Rol',\n            type: 'select',\n            required: true,\n            options: [\n              { value: ROLES.CONSULTA, label: 'Consulta' }\n            ]\n          }\n        ]}\n      />\n\n      <CreateFormModal\n        isOpen={crearModal.isOpen}\n        onClose={crearModal.closeModal}\n        title=\"Nuevo Usuario del sistema\"\n        onSubmit={async (formData) => {\n          // Validar email\n          const emailValidation = validateEmail(formData.email);\n          if (!emailValidation.isValid) {\n            throw new Error(emailValidation.error);\n          }\n\n          // Validar password\n          if (!formData.password || formData.password.length < 8) {\n            throw new Error('La contraseña debe tener al menos 8 caracteres');\n          }\n\n          // Validar rol\n          if (!formData.rol || (formData.rol !== ROLES.ADMINISTRADOR && formData.rol !== ROLES.CONSULTA && formData.rol !== 'ADMINISTRADOR' && formData.rol !== 'CONSULTA')) {\n            throw new Error('Rol inválido');\n          }\n\n          // Convertir 'rol' a 'role' para el backend\n          const userData = {\n            email: formData.email,\n            password: formData.password,\n            role: formData.rol\n          };\n\n          const result = await dbService.createUsuario(userData);\n          if (result.error) {\n            throw new Error(result.error.message || 'Error al crear usuario');\n          }\n          await loadUsuarios();\n        }}\n        initialData={{\n          email: '',\n          password: '',\n          rol: ROLES.CONSULTA\n        }}\n        fields={[\n          {\n            name: 'email',\n            label: 'Email',\n            type: 'email',\n            required: true,\n            placeholder: 'usuario@ejemplo.com'\n          },\n          {\n            name: 'password',\n            label: 'Contraseña',\n            type: 'password',\n            required: true,\n            placeholder: 'Mínimo 8 caracteres',\n            helperText: 'Mínimo 8 caracteres. La contraseña debe ser segura.'\n          },\n          {\n            name: 'rol',\n            label: 'Rol',\n            type: 'select',\n            required: true,\n            options: [\n              { value: ROLES.ADMINISTRADOR, label: 'Administrador' },\n              { value: ROLES.CONSULTA, label: 'Consulta' }\n            ]\n          }\n        ]}\n      />\n    </DashboardLayout>\n  );\n};\n\n// Wrap with React.memo to prevent unnecessary re-renders\nconst Usuarios = React.memo(UsuariosComponent);\n\nexport default Usuarios;\n"],"names":["validateParticipanteDocumentoUnico","async","numeroDocumento","participanteId","arguments","length","undefined","trim","isValid","error","result","dbService","getParticipantes","data","Array","isArray","some","p","pId","id","id_participante","numero_documento","err","console","validateAcudienteDocumentoUnico","acudienteId","getAcudientes","a","aId","id_acudiente","validateEmail","email","test","validateFecha","fecha","fieldName","concat","date","Date","today","setHours","isNaN","getTime","validateFechaNacimiento","fechaNacimiento","validateFechaIngreso","fechaIngreso","validateParticipanteExists","parseInt","validateSedeExists","sedeId","getSedes","s","id_sede","validateMensualidadRelations","participanteValidation","acudienteValidation","validateAcudienteExists","UsuariosComponent","usuarios","setUsuarios","useState","loading","setLoading","setError","canEdit","setCanEdit","filters","filtros","setFilter","clearFilters","useFilters","rol","busqueda","verModal","useModal","editarModal","crearModal","loadUsuarios","useCallback","log","getUsuarios","Error","message","usuariosData","useEffect","window","deleteUser","deleteUsuario","userId","alert","hasPermission","ROLES","ADMINISTRADOR","loadCurrentUser","filteredUsuarios","useMemo","filtered","filter","u","role","toLowerCase","includes","statsData","title","value","icon","color","_jsx","DashboardLayout","subtitle","loadingText","children","className","_jsxs","filterConfig","type","name","label","options","CONSULTA","placeholder","extraActions","onClick","openModal","FilterBar","values","onChange","onClear","showClearButton","StatsGrid","stats","columns","gap","DataTable","key","header","render","usuario","id_usuario","hideInMobile","userRole","ActionDropdown","actions","variant","confirm","keyExtractor","ViewDetailsModal","isOpen","onClose","closeModal","modalData","helperText","created_at","toLocaleString","updated_at","EditFormModal","onSubmit","emailValidation","formData","updateData","password","updateUsuario","initialData","fields","required","readOnly","CreateFormModal","userData","createUsuario","React"],"sourceRoot":""}