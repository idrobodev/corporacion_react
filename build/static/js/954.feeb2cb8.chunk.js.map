{"version":3,"file":"static/js/954.feeb2cb8.chunk.js","mappings":"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","sources":["components/layout/Sidebar.jsx","components/layout/DashboardHeader.jsx","components/layout/DashboardLayout.jsx","shared/utils/validationUtils.js","pages/Dashboard/Finance.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"shared/contexts\";\nimport logo from \"../../assets/images/logos/logo.png\";\n\nconst Sidebar = ({ isOpen = false, onToggle = () => {}, isCollapsed = false, onToggleCollapse = () => {} }) => {\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n  const [isMobile, setIsMobile] = useState(false);\n  const location = useLocation();\n  \n  // Get user role from currentUser\n  const userRole = currentUser?.rol || currentUser?.role || 'CONSULTA';\n\n  // Check for mobile screen size\n  React.useEffect(() => {\n    const checkScreenSize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    \n    return () => window.removeEventListener('resize', checkScreenSize);\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      history.push(\"/\");\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n  };\n\n\n  const allMenuItems = [\n    {\n      id: 'dashboard',\n      icon: 'fas fa-home',\n      label: 'Dashboard',\n      link: '/dashboard',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA'] // Available to all roles\n    },\n    {\n      id: 'participantes',\n      icon: 'fas fa-users',\n      label: 'Participantes',\n      link: '/participantes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'acudientes',\n      icon: 'fas fa-user-friends',\n      label: 'Acudientes',\n      link: '/acudientes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'financiero',\n      icon: 'fas fa-dollar-sign',\n      label: 'Mensualidades',\n      link: '/financiero',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'usuarios',\n      icon: 'fas fa-users-cog',\n      label: 'Usuarios',\n      link: '/usuarios',\n      badge: null,\n      roles: ['ADMINISTRADOR'], // Only administrators\n      adminOnly: true\n    },\n    {\n      id: 'formatos',\n      icon: 'fas fa-file-alt',\n      label: 'Formatos',\n      link: '/formatos',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'sedes',\n      icon: 'fas fa-building',\n      label: 'Sedes',\n      link: '/sedes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'configuracion',\n      icon: 'fas fa-cog',\n      label: 'Configuración',\n      link: '/configuracion',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    }\n  ];\n  \n  // Filter menu items based on user role\n  const menuItems = allMenuItems.filter(item => \n    item.roles.includes(userRole)\n  );\n\n  return (\n    <>\n      {/* Mobile Overlay */}\n      {isOpen && isMobile && (\n        <div \n          className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\"\n          onClick={onToggle}\n          aria-hidden=\"true\"\n        />\n      )}\n      \n      {/* Toggle Button - Mobile */}\n      {isMobile && (\n        <button\n          onClick={onToggle}\n          className=\"fixed top-4 right-4 z-[70] md:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 min-w-[48px] min-h-[48px] flex items-center justify-center\"\n          aria-label={isOpen ? 'Cerrar menú' : 'Abrir menú'}\n        >\n          <i className={`fas ${isOpen ? 'fa-times' : 'fa-bars'} text-xl transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`}></i>\n        </button>\n      )}\n      \n      \n      {/* Sidebar */}\n      <aside \n        data-testid=\"sidebar\"\n        className={`\n          fixed top-0 left-0 h-full text-gray-700 z-50\n          transform transition-transform duration-300 ease-in-out shadow-2xl\n          ${isMobile \n            ? `w-[280px] ${isOpen ? 'translate-x-0' : '-translate-x-full'}`\n            : isCollapsed \n              ? 'w-20 translate-x-0 hover:w-64' \n              : 'w-64 translate-x-0'\n          }\n        `}\n        style={{\n          background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%)',\n          backdropFilter: 'blur(20px)',\n          borderRight: '1px solid rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        {/* Header with Logo */}\n        <div className={`\n          ${isCollapsed && !isMobile ? 'p-4' : 'p-5 md:p-6'} \n          border-b border-gray-200 \n          bg-gradient-to-r from-gray-50 to-gray-100 \n          transition-all duration-300 \n          relative\n        `}>\n          {/* Collapse/Expand toggle desktop only */}\n          {!isMobile && (\n            <button\n              onClick={onToggleCollapse}\n              aria-label={isCollapsed ? 'Expandir menú' : 'Colapsar menú'}\n              className=\"absolute -right-3 top-1/2 -translate-y-1/2 w-7 h-7 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors z-10\"\n            >\n              <i className={`fas ${isCollapsed ? 'fa-angle-double-right' : 'fa-angle-double-left'} text-sm text-gray-600`}></i>\n            </button>\n          )}\n          \n          <div className={`flex items-center ${isCollapsed && !isMobile ? 'justify-center' : 'space-x-3'}`}>\n            {/* Logo responsive */}\n            <div className=\"relative flex-shrink-0\">\n              <img \n                src={logo} \n                alt=\"Corporación Logo\" \n                className={`\n                  ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-12 h-12 md:w-14 md:h-14'} \n                  rounded-xl object-cover bg-white p-2 shadow-md transition-all duration-300\n                `}\n              />\n              <div className=\"absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\n            </div>\n            \n            {/* Título - ocultar cuando está colapsado en desktop */}\n            <div className={`${isCollapsed && !isMobile ? 'hidden' : 'block'} transition-all duration-300`}>\n              <h2 className=\"text-base md:text-lg font-Lato font-bold text-gray-800 leading-tight\">\n                Corporación\n              </h2>\n              <p className=\"text-xs font-Poppins text-gray-600\">\n                Todo por un Alma\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <nav className=\"p-3 md:p-4 flex-1 overflow-y-auto\">\n          <ul className=\"space-y-1\">\n            {menuItems.map((item) => (\n              <li key={item.id}>\n                <Link\n                  to={item.link}\n                  className={`\n                    flex items-center \n                    ${isCollapsed && !isMobile ? 'justify-center px-3' : 'space-x-3 px-4'} \n                    py-3 md:py-3.5\n                    rounded-xl \n                    hover:bg-gray-100 hover:shadow-sm \n                    transition-all duration-200 \n                    group relative overflow-hidden\n                    min-h-[48px]\n                    ${location.pathname.startsWith(item.link) \n                      ? 'bg-blue-50 text-blue-700 ring-1 ring-blue-100' \n                      : ''\n                    }\n                  `}\n                  onClick={isMobile ? onToggle : undefined}\n                  aria-current={location.pathname.startsWith(item.link) ? 'page' : undefined}\n                >\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-blue-50/50 to-blue-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"></div>\n                  \n                  {/* Icono más grande en móvil */}\n                  <i className={`\n                    ${item.icon} \n                    ${isMobile ? 'text-xl' : 'text-lg'}\n                    ${location.pathname.startsWith(item.link) ? 'text-blue-700' : 'text-gray-600 group-hover:text-blue-600'} \n                    group-hover:scale-110 transition-all flex-shrink-0 relative z-10\n                  `}></i>\n                  \n                  {/* Label */}\n                  <span className={`\n                    font-Poppins font-medium \n                    ${isMobile ? 'text-base' : 'text-sm'}\n                    ${location.pathname.startsWith(item.link) ? 'text-blue-800' : 'text-gray-700 group-hover:text-gray-900'} \n                    ${isCollapsed && !isMobile ? 'hidden' : 'block'}\n                    transition-all duration-300 z-10\n                  `}>\n                    {item.label}\n                  </span>\n                  \n                  {/* Badge */}\n                  {item.badge && !isCollapsed && (\n                    <span className=\"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-sm\">\n                      {item.badge}\n                    </span>\n                  )}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n\n        {/* Información del Usuario */}\n        <div className=\"p-3 md:p-4 border-t border-gray-200 mt-auto bg-gradient-to-r from-gray-50 to-gray-100\">\n          {/* Info del usuario */}\n          <div className={`\n            flex items-center \n            ${isCollapsed && !isMobile ? 'justify-center' : 'space-x-3'} \n            mb-3\n          `}>\n            <div className=\"relative flex-shrink-0\">\n              {currentUser?.photoURL ? (\n                <img\n                  src={currentUser.photoURL}\n                  alt=\"Usuario\"\n                  className={`\n                    rounded-full border-2 border-gray-300 shadow-md \n                    ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-11 h-11 md:w-12 md:h-12'}\n                  `}\n                />\n              ) : (\n                <div className={`\n                  rounded-full border-2 border-gray-300 shadow-md \n                  bg-gradient-to-br from-blue-100 to-blue-200 \n                  flex items-center justify-center \n                  ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-11 h-11 md:w-12 md:h-12'}\n                `}>\n                  <i className={`fas fa-user text-blue-600 ${isMobile ? 'text-lg' : 'text-base'}`}></i>\n                </div>\n              )}\n              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\n            </div>\n            \n            {/* Nombre y rol - ocultar cuando colapsado en desktop */}\n            {(!isCollapsed || isMobile) && (\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm md:text-base font-Poppins font-semibold text-gray-800 truncate\">\n                  {currentUser?.displayName || currentUser?.email?.split('@')[0]}\n                </p>\n                <div className=\"flex items-center gap-1\">\n                  <p className=\"text-xs font-Poppins text-gray-600\">\n                    {userRole === 'ADMINISTRADOR' ? 'Administrador' : 'Consulta'}\n                  </p>\n                  {userRole === 'CONSULTA' && (\n                    <span className=\"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded\" title=\"Solo lectura\">\n                      <i className=\"fas fa-eye text-[10px]\"></i>\n                    </span>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Botón logout */}\n          <button\n            onClick={handleLogout}\n            className={`\n              flex items-center \n              ${isCollapsed && !isMobile ? 'justify-center' : ''} \n              w-full px-4 py-3\n              text-sm md:text-base\n              text-gray-700 \n              rounded-xl \n              hover:bg-red-50 hover:text-red-600 hover:shadow-sm \n              transition-all duration-200 \n              font-Poppins font-medium \n              group relative overflow-hidden\n              min-h-[48px]\n            `}\n          >\n            <div className=\"absolute inset-0 bg-gradient-to-r from-red-50/50 to-red-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"></div>\n            <i className={`\n              fas fa-sign-out-alt \n              ${isMobile ? 'text-lg' : 'text-base'}\n              ${isCollapsed && !isMobile ? '' : 'mr-3'} \n              group-hover:scale-110 transition-transform relative z-10\n            `}></i>\n            {(!isCollapsed || isMobile) && (\n              <span className=\"relative z-10\">Cerrar Sesión</span>\n            )}\n          </button>\n        </div>\n      </aside>\n    </>\n  );\n};\n\nexport default Sidebar;\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth, useSidebarContext } from \"shared/contexts\";\nimport logo from \"../../assets/images/logos/logo.png\";\n\n/**\n * DashboardHeader - Componente reutilizable para el header del dashboard\n * Incluye menú de usuario, logo y título dinámico\n */\nconst DashboardHeader = React.memo(({ title = \"Dashboard\", subtitle = \"Bienvenido\", extraActions = null }) => {\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n  const { sidebarCollapsed } = useSidebarContext();\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n  const userMenuRef = useRef(null);\n\n  // Close user menu on outside click or escape key\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(e.target)) {\n        setUserMenuOpen(false);\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        setUserMenuOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleEscape);\n    \n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, []);\n\n  const handleLogout = useCallback(async (e) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    try {\n      await logout();\n      setUserMenuOpen(false);\n      history.push('/');\n    } catch (e) {\n      console.error('Error al cerrar sesión', e);\n    }\n  }, [history, logout]);\n\n  const handleCopyEmail = useCallback(async () => {\n    try {\n      if (currentUser?.email) {\n        await navigator.clipboard.writeText(currentUser.email);\n        setUserMenuOpen(false);\n      }\n    } catch (e) {\n      console.error('No se pudo copiar el correo', e);\n    }\n  }, [currentUser?.email]);\n\n  const toggleUserMenu = useCallback(() => {\n    setUserMenuOpen((v) => !v);\n  }, []);\n\n  const marginClass = useMemo(() => sidebarCollapsed ? 'md:ml-20' : 'md:ml-64', [sidebarCollapsed]);\n\n  const userDisplayName = useMemo(() => \n    currentUser?.displayName || currentUser?.email, \n    [currentUser?.displayName, currentUser?.email]\n  );\n\n  return (\n    <header className={`\n      fixed top-0 right-0 left-0 z-40 \n      bg-white/95 backdrop-blur-lg \n      shadow-md border-b border-gray-200\n      transition-all duration-300\n    `}>\n      <div className={`\n        px-4 md:px-6 \n        py-2.5 md:py-3 \n        transition-all duration-300 \n        ${marginClass}\n      `}>\n        <div className=\"flex items-center justify-between gap-2 md:gap-4\">\n          {/* Sección izquierda: Logo y Título */}\n          <div className=\"flex items-center space-x-2 md:space-x-3 flex-1 min-w-0 ml-12 md:ml-0\">\n            {/* Logo - ocultar en móvil para dar espacio */}\n            <img \n              src={logo}\n              alt=\"Todo por un Alma\" \n              className=\"hidden sm:block h-8 md:h-10 w-8 md:w-10 rounded-lg shadow-sm flex-shrink-0\"\n            />\n            \n            {/* Título y Subtitle */}\n            <div className=\"flex-1 min-w-0\">\n              <h1 className=\"text-base sm:text-lg md:text-2xl font-Lato font-bold text-gray-800 truncate\">\n                {title}\n              </h1>\n              {subtitle && (\n                <p className=\"hidden md:block text-xs md:text-sm font-Poppins text-gray-600 truncate\">\n                  {subtitle}\n                </p>\n              )}\n            </div>\n          </div>\n          \n          {/* Sección derecha: Acciones y Usuario */}\n          <div className=\"flex items-center space-x-2 md:space-x-4 flex-shrink-0\">\n            {/* Extra Actions - ocultar en móvil/tablet, mostrar en desktop */}\n            {extraActions && (\n              <div className=\"hidden lg:flex items-center space-x-3\">\n                {extraActions}\n              </div>\n            )}\n            \n            {/* Perfil de Usuario */}\n            <div className=\"relative\" ref={userMenuRef}>\n              <button\n                onClick={toggleUserMenu}\n                className=\"flex items-center space-x-2 md:space-x-3 bg-gray-100 rounded-full pl-1.5 md:pl-2 pr-2 md:pr-3 py-1 md:py-1.5 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]\"\n                aria-haspopup=\"true\"\n                aria-expanded={userMenuOpen}\n              >\n                {/* Avatar */}\n                <div className=\"relative flex-shrink-0\">\n                  {currentUser?.photoURL ? (\n                    <img\n                      src={currentUser.photoURL}\n                      alt=\"Usuario\"\n                      className=\"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500\"\n                    />\n                  ) : (\n                    <div className=\"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500 bg-blue-500 flex items-center justify-center\">\n                      <i className=\"fas fa-user text-white text-sm\"></i>\n                    </div>\n                  )}\n                  <div className=\"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 md:w-3 md:h-3 bg-green-400 rounded-full border-2 border-white\"></div>\n                </div>\n                \n                {/* Nombre - ocultar en móvil pequeño */}\n                <span className=\"hidden sm:block text-sm md:text-base font-Poppins font-medium text-gray-700 max-w-[120px] md:max-w-none truncate\">\n                  {userDisplayName}\n                </span>\n                \n                {/* Chevron - ocultar en móvil pequeño */}\n                <i className={`hidden sm:block fas fa-chevron-${userMenuOpen ? 'up' : 'down'} text-gray-500 text-xs`}></i>\n              </button>\n\n              {/* Dropdown Menu */}\n              {userMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-56 md:w-64 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden\">\n                  {/* Header del menú */}\n                  <div className=\"px-4 py-3 border-b border-gray-100 bg-gray-50\">\n                    <p className=\"text-xs text-gray-500 font-Poppins\">Sesión iniciada como</p>\n                    <p className=\"text-sm md:text-base text-gray-800 truncate font-Poppins font-medium mt-0.5\">\n                      {currentUser?.email}\n                    </p>\n                  </div>\n                  \n                  {/* Opciones del menú */}\n                  <ul className=\"py-1\">\n                    <li>\n                      <button \n                        onClick={handleCopyEmail} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-copy mr-3 text-gray-500 w-4\"></i>\n                        Copiar correo\n                      </button>\n                    </li>\n                    <li>\n                      <button \n                        onClick={() => {\n                          history.push('/configuracion');\n                          setUserMenuOpen(false);\n                        }} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-cog mr-3 text-gray-500 w-4\"></i>\n                        Configuración\n                      </button>\n                    </li>\n                    <li className=\"border-t border-gray-100\">\n                      <button \n                        onClick={handleLogout} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-red-600 hover:bg-red-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-sign-out-alt mr-3 w-4\"></i>\n                        Cerrar sesión\n                      </button>\n                    </li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n});\n\nexport default DashboardHeader;","import React from \"react\";\nimport { SidebarProvider, useSidebarContext } from \"shared/contexts\";\nimport Sidebar from \"./Sidebar\";\nimport DashboardHeader from \"./DashboardHeader\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\n\n/**\n * DashboardLayout - Componente de layout reutilizable para todas las páginas del dashboard\n * Incluye Sidebar con contexto global, header dinámico y main con márgenes responsivos\n */\nconst DashboardLayoutContent = ({ title = \"Dashboard\", subtitle = \"\", children, loading = false, loadingText = \"Cargando...\", extraActions = null }) => {\n  const { sidebarOpen, sidebarCollapsed, toggleSidebarOpen, toggleSidebarCollapsed } = useSidebarContext();\n  \n  const marginClass = sidebarCollapsed ? 'md:ml-20' : 'md:ml-64';\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"flex\">\n          <Sidebar isOpen={sidebarOpen} onToggle={toggleSidebarOpen} isCollapsed={sidebarCollapsed} onToggleCollapse={toggleSidebarCollapsed} />\n          <main className={`flex-1 transition-all duration-300 ${marginClass} pt-16 md:pt-20 px-4 md:px-0`}>\n            <div className=\"flex items-center justify-center h-screen\">\n              <LoadingSpinner size=\"xl\" text={loadingText} />\n            </div>\n          </main>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 font-sans antialiased\">\n      <div className=\"flex\">\n        <Sidebar isOpen={sidebarOpen} onToggle={toggleSidebarOpen} isCollapsed={sidebarCollapsed} onToggleCollapse={toggleSidebarCollapsed} />\n        <main className={`flex-1 transition-all duration-300 ${marginClass} pt-16 md:pt-20 px-4 md:px-0`}>\n          <DashboardHeader title={title} subtitle={subtitle} extraActions={extraActions} />\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Proveedor y layout combinados\n */\nconst DashboardLayout = (props) => (\n  <SidebarProvider>\n    <DashboardLayoutContent {...props} />\n  </SidebarProvider>\n);\n\nexport default DashboardLayout;","/**\n * Validation Utilities\n * Centralized validation functions for the application\n */\n\nimport { dbService } from '../services';\n\n/**\n * Validate that a documento number is unique for participantes\n * @param {string} numeroDocumento - Document number to validate\n * @param {number|null} participanteId - ID of current participante (for edit mode)\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateParticipanteDocumentoUnico = async (numeroDocumento, participanteId = null) => {\n  try {\n    if (!numeroDocumento || !numeroDocumento.trim()) {\n      return { isValid: false, error: 'El número de documento es requerido' };\n    }\n\n    const result = await dbService.getParticipantes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(p => {\n        const pId = p.id || p.id_participante;\n        return p.numero_documento === numeroDocumento && pId !== participanteId;\n      });\n      \n      if (exists) {\n        return { \n          isValid: false, \n          error: 'El número de documento ya está registrado para otro participante' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating participante documento:', err);\n    // Allow if validation fails to not block the user\n    return { isValid: true, error: null };\n  }\n};\n\n/**\n * Validate that a documento number is unique for acudientes\n * @param {string} numeroDocumento - Document number to validate\n * @param {number|null} acudienteId - ID of current acudiente (for edit mode)\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateAcudienteDocumentoUnico = async (numeroDocumento, acudienteId = null) => {\n  try {\n    if (!numeroDocumento || !numeroDocumento.trim()) {\n      return { isValid: false, error: 'El número de documento es requerido' };\n    }\n\n    const result = await dbService.getAcudientes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(a => {\n        const aId = a.id || a.id_acudiente;\n        return a.numero_documento === numeroDocumento && aId !== acudienteId;\n      });\n      \n      if (exists) {\n        return { \n          isValid: false, \n          error: 'El número de documento ya está registrado para otro acudiente' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating acudiente documento:', err);\n    // Allow if validation fails to not block the user\n    return { isValid: true, error: null };\n  }\n};\n\n/**\n * Validate email format\n * @param {string} email - Email to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateEmail = (email) => {\n  if (!email || !email.trim()) {\n    return { isValid: false, error: 'El email es requerido' };\n  }\n\n  // Basic email regex pattern\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  \n  if (!emailRegex.test(email)) {\n    return { \n      isValid: false, \n      error: 'El formato del email no es válido' \n    };\n  }\n\n  return { isValid: true, error: null };\n};\n\n/**\n * Validate date format and ensure it's not in the future\n * @param {string} fecha - Date string to validate\n * @param {string} fieldName - Name of the field for error messages\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFecha = (fecha, fieldName = 'fecha') => {\n  if (!fecha) {\n    return { isValid: false, error: `La ${fieldName} es requerida` };\n  }\n\n  const date = new Date(fecha);\n  const today = new Date();\n  \n  // Reset time to compare only dates\n  today.setHours(23, 59, 59, 999);\n\n  // Check if date is valid\n  if (!(date instanceof Date) || isNaN(date.getTime())) {\n    return { \n      isValid: false, \n      error: `La ${fieldName} no es válida` \n    };\n  }\n\n  // Check if date is not in the future\n  if (date > today) {\n    return { \n      isValid: false, \n      error: `La ${fieldName} no puede ser futura` \n    };\n  }\n\n  return { isValid: true, error: null };\n};\n\n/**\n * Validate fecha_nacimiento specifically\n * @param {string} fechaNacimiento - Birth date to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFechaNacimiento = (fechaNacimiento) => {\n  return validateFecha(fechaNacimiento, 'fecha de nacimiento');\n};\n\n/**\n * Validate fecha_ingreso specifically\n * @param {string} fechaIngreso - Entry date to validate\n * @returns {{isValid: boolean, error: string|null}}\n */\nexport const validateFechaIngreso = (fechaIngreso) => {\n  return validateFecha(fechaIngreso, 'fecha de ingreso');\n};\n\n/**\n * Validate that a participante exists\n * @param {number} participanteId - ID of participante to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateParticipanteExists = async (participanteId) => {\n  try {\n    if (!participanteId) {\n      return { isValid: false, error: 'Debe seleccionar un participante' };\n    }\n\n    const result = await dbService.getParticipantes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(p => \n        (p.id_participante || p.id) === parseInt(participanteId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'El participante seleccionado no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating participante exists:', err);\n    return { isValid: false, error: 'Error al validar el participante' };\n  }\n};\n\n/**\n * Validate that a sede exists\n * @param {number} sedeId - ID of sede to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateSedeExists = async (sedeId) => {\n  try {\n    if (!sedeId) {\n      return { isValid: false, error: 'Debe seleccionar una sede' };\n    }\n\n    const result = await dbService.getSedes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(s => \n        (s.id_sede || s.id) === parseInt(sedeId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'La sede seleccionada no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating sede exists:', err);\n    return { isValid: false, error: 'Error al validar la sede' };\n  }\n};\n\n/**\n * Validate that an acudiente exists\n * @param {number} acudienteId - ID of acudiente to validate\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateAcudienteExists = async (acudienteId) => {\n  try {\n    if (!acudienteId) {\n      return { isValid: false, error: 'Debe seleccionar un acudiente' };\n    }\n\n    const result = await dbService.getAcudientes();\n    if (result.data && Array.isArray(result.data)) {\n      const exists = result.data.some(a => \n        (a.id_acudiente || a.id) === parseInt(acudienteId)\n      );\n      \n      if (!exists) {\n        return { \n          isValid: false, \n          error: 'El acudiente seleccionado no existe' \n        };\n      }\n    }\n    \n    return { isValid: true, error: null };\n  } catch (err) {\n    console.error('Error validating acudiente exists:', err);\n    return { isValid: false, error: 'Error al validar el acudiente' };\n  }\n};\n\n/**\n * Validate mensualidad relationships (participante and acudiente must exist)\n * @param {number} participanteId - ID of participante\n * @param {number} acudienteId - ID of acudiente\n * @returns {Promise<{isValid: boolean, error: string|null}>}\n */\nexport const validateMensualidadRelations = async (participanteId, acudienteId) => {\n  // Validate participante\n  const participanteValidation = await validateParticipanteExists(participanteId);\n  if (!participanteValidation.isValid) {\n    return participanteValidation;\n  }\n\n  // Validate acudiente\n  const acudienteValidation = await validateAcudienteExists(acudienteId);\n  if (!acudienteValidation.isValid) {\n    return acudienteValidation;\n  }\n\n  return { isValid: true, error: null };\n};\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport DashboardLayout from \"components/layout/DashboardLayout\";\nimport { dbService } from \"shared/services\";\nimport { useFilters, usePagination, useModal } from \"shared/hooks\";\nimport {\n  LoadingSpinner,\n  FilterBar,\n  DataTable,\n  Pagination,\n  StatusToggle,\n  ActionDropdown,\n  FormModal,\n  FormInput,\n  FormSelect,\n  FormTextarea\n} from \"components/UI\";\nimport { validateMensualidadRelations } from \"shared/utils/validationUtils\";\n\n// Custom component for combined month-year filter\nconst MonthYearSelect = ({ value, onChange, label = \"Período\" }) => {\n  const months = useMemo(() => [\n    { value: 1, label: 'Enero' },\n    { value: 2, label: 'Febrero' },\n    { value: 3, label: 'Marzo' },\n    { value: 4, label: 'Abril' },\n    { value: 5, label: 'Mayo' },\n    { value: 6, label: 'Junio' },\n    { value: 7, label: 'Julio' },\n    { value: 8, label: 'Agosto' },\n    { value: 9, label: 'Septiembre' },\n    { value: 10, label: 'Octubre' },\n    { value: 11, label: 'Noviembre' },\n    { value: 12, label: 'Diciembre' }\n  ], []);\n\n  const years = useMemo(() => Array.from({ length: 11 }, (_, i) => 2020 + i), []);\n\n  const options = useMemo(() => {\n    const opts = [{ value: 'all', label: 'Todos' }];\n    years.forEach(year => {\n      months.forEach(month => {\n        opts.push({\n          value: `${month.value}-${year}`,\n          label: `${month.label} ${year}`\n        });\n      });\n    });\n    return opts;\n  }, [months, years]);\n\n  return (\n    <div className=\"w-full\">\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n        {label}\n      </label>\n      <select\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n      >\n        {options.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nconst Finance = React.memo(() => {\n  const [mensualidades, setMensualidades] = useState([]);\n  const [participants, setParticipants] = useState([]);\n  const [sedes, setSedes] = useState([]);\n  const [acudientes, setAcudientes] = useState([]);\n  const [filteredAcudientes, setFilteredAcudientes] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [formData, setFormData] = useState({ \n    participant_id: '', \n    id_acudiente: '',\n    mes: '', \n    año: new Date().getFullYear(), \n    valor: '', \n    status: 'PAGADA',\n    metodo_pago: 'TRANSFERENCIA',\n    fecha_pago: '',\n    observaciones: ''\n  });\n  \n  // Use custom hooks\n  const { filters, setFilter, clearFilters } = useFilters({\n    periodo: 'all',\n    sede: 'all',\n    estado: 'all',\n    busqueda: ''\n  });\n  const { isOpen: showModal, openModal: openModalHook, closeModal, modalData, updateModalData } = useModal();\n\n  // Memoized form handlers to prevent unnecessary re-renders\n  const handleFormDataChange = useCallback((field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  }, []);\n\n  const months = useMemo(() => [\n    { value: 1, label: 'Enero' },\n    { value: 2, label: 'Febrero' },\n    { value: 3, label: 'Marzo' },\n    { value: 4, label: 'Abril' },\n    { value: 5, label: 'Mayo' },\n    { value: 6, label: 'Junio' },\n    { value: 7, label: 'Julio' },\n    { value: 8, label: 'Agosto' },\n    { value: 9, label: 'Septiembre' },\n    { value: 10, label: 'Octubre' },\n    { value: 11, label: 'Noviembre' },\n    { value: 12, label: 'Diciembre' }\n  ], []);\n\n  const years = useMemo(() => Array.from({ length: 11 }, (_, i) => 2020 + i), []);\n\n  const getMonthLabel = useCallback((mes) => {\n    const month = months.find(m => m.value === mes);\n    return month ? month.label : mes.toString();\n  }, [months]);\n\n\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        console.log('🔄 Cargando datos financieros...');\n        \n        const [mensRes, partsRes, sedesRes, acudRes] = await Promise.all([\n          dbService.getMensualidades(),\n          dbService.getParticipantes(),\n          dbService.getSedes(),\n          dbService.getAcudientes()\n        ]);\n        \n        console.log('📊 Resultados:', { mensRes, partsRes, sedesRes, acudRes });\n        \n        // Asegurar que siempre sean arrays (API service ya extrae el nested data)\n        const mensualidadesData = Array.isArray(mensRes.data) ? mensRes.data : [];\n        const participantesData = Array.isArray(partsRes.data) ? partsRes.data : [];\n        const sedesData = Array.isArray(sedesRes.data) ? sedesRes.data : [];\n        const acudientesData = Array.isArray(acudRes.data) ? acudRes.data : [];\n        \n        setMensualidades(mensualidadesData);\n        setParticipants(participantesData);\n        setSedes(sedesData);\n        setAcudientes(acudientesData);\n        setFilteredAcudientes(acudientesData);\n\n        console.log('✅ Datos cargados:', {\n          mensualidades: mensualidadesData.length,\n          participantes: participantesData.length,\n          sedes: sedesData.length,\n          acudientes: acudientesData.length\n        });\n      } catch (err) {\n        console.error('❌ Error cargando datos financieros:', err);\n        setError(err.message || 'Error desconocido al cargar datos');\n        // Asegurar arrays vacíos en caso de error\n        setMensualidades([]);\n        setParticipants([]);\n        setSedes([]);\n        setAcudientes([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // Filter acudientes when participant changes in form\n  useEffect(() => {\n    if (formData.participant_id) {\n      const filtered = acudientes.filter(a => a.id_participante === parseInt(formData.participant_id));\n      setFilteredAcudientes(filtered);\n      // Reset acudiente selection if current selection is not valid for new participant\n      if (formData.id_acudiente && !filtered.find(a => a.id_acudiente === parseInt(formData.id_acudiente))) {\n        setFormData(prev => ({ ...prev, id_acudiente: '' }));\n      }\n    } else {\n      setFilteredAcudientes(acudientes);\n    }\n  }, [formData.participant_id, acudientes, formData.id_acudiente]);\n\n  const filteredMensualidades = useMemo(() => {\n    // Asegurar que mensualidades siempre sea un array\n    const safeMensualidades = Array.isArray(mensualidades) ? mensualidades : [];\n    let filtered = safeMensualidades;\n\n    if (filters.periodo !== 'all') {\n      const [mes, año] = filters.periodo.split('-').map(Number);\n      filtered = filtered.filter(m => m.mes === mes && m.año === año);\n    }\n    if (filters.sede !== 'all') {\n      filtered = filtered.filter(m => m.sede_id === parseInt(filters.sede));\n    }\n    if (filters.estado !== 'all') {\n      filtered = filtered.filter(m => m.estado === filters.estado);\n    }\n    if (filters.busqueda) {\n      filtered = filtered.filter(m =>\n        (m.participant_documento || '').includes(filters.busqueda) ||\n        (m.acudiente_documento || '').includes(filters.busqueda)\n      );\n    }\n    return filtered;\n  }, [mensualidades, filters]);\n\n  // Use pagination hook\n  const {\n    currentPage,\n    totalPages,\n    paginatedData: paginatedMensualidades,\n    setPage\n  } = usePagination(filteredMensualidades, 10);\n\n  const openModal = useCallback((mensualidad = null) => {\n    if (mensualidad) {\n      // Pre-fill form with existing data\n      setFormData({\n        participant_id: mensualidad.participante_id || mensualidad.participant_id,\n        id_acudiente: mensualidad.id_acudiente || '',\n        mes: mensualidad.mes,\n        año: mensualidad.año,\n        valor: mensualidad.valor || mensualidad.monto,\n        status: mensualidad.estado || mensualidad.status,\n        metodo_pago: mensualidad.metodo_pago || 'TRANSFERENCIA',\n        fecha_pago: mensualidad.fecha_pago || '',\n        observaciones: mensualidad.observaciones || ''\n      });\n      updateModalData(mensualidad);\n    } else {\n      setFormData({ \n        participant_id: '', \n        id_acudiente: '',\n        mes: '', \n        año: new Date().getFullYear(), \n        valor: '', \n        status: 'PAGADA',\n        metodo_pago: 'TRANSFERENCIA',\n        fecha_pago: '',\n        observaciones: ''\n      });\n      updateModalData(null);\n    }\n    openModalHook();\n  }, [openModalHook, updateModalData]);\n\n  const toggleStatus = useCallback(async (id, newStatus) => {\n    try {\n      await dbService.updateMensualidad(id, { estado: newStatus });\n      // Refresh data\n      const { data } = await dbService.getMensualidades();\n      setMensualidades(data || []);\n    } catch (err) {\n      console.error('Error updating status:', err);\n      // Optionally show error toast\n    }\n  }, []);\n\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n    \n    // Validate fecha_pago is required when status is PAGADA\n    if (formData.status === 'PAGADA' && !formData.fecha_pago) {\n      alert('La fecha de pago es requerida cuando el estado es PAGADA');\n      return;\n    }\n    \n    // Validate that participante and acudiente exist (if acudiente is provided)\n    try {\n      if (formData.id_acudiente) {\n        const relationsValidation = await validateMensualidadRelations(\n          parseInt(formData.participant_id),\n          parseInt(formData.id_acudiente)\n        );\n        \n        if (!relationsValidation.isValid) {\n          alert(relationsValidation.error);\n          return;\n        }\n      }\n    } catch (err) {\n      console.error('Error validating relations:', err);\n      alert('Error al validar las relaciones: ' + (err.message || 'Error desconocido'));\n      return;\n    }\n    \n    const submitData = {\n      participant_id: parseInt(formData.participant_id),\n      id_acudiente: formData.id_acudiente ? parseInt(formData.id_acudiente) : null,\n      mes: parseInt(formData.mes),\n      año: parseInt(formData.año),\n      monto: parseFloat(formData.valor),\n      estado: formData.status,\n      metodo_pago: formData.metodo_pago,\n      fecha_pago: formData.status === 'PAGADA' ? formData.fecha_pago : null,\n      observaciones: formData.observaciones || null\n    };\n    \n    try {\n      if (modalData?.id) {\n        await dbService.updateMensualidad(modalData.id, submitData);\n      } else {\n        await dbService.createMensualidad(submitData);\n      }\n      closeModal();\n      const { data } = await dbService.getMensualidades();\n      setMensualidades(data || []);\n    } catch (err) {\n      console.error('Error saving payment:', err);\n      alert('Error al guardar la mensualidad: ' + (err.message || 'Error desconocido'));\n    }\n  }, [formData, modalData, closeModal]);\n\n  if (loading) {\n    return (\n      <DashboardLayout\n        title=\"Mensualidades\"\n        subtitle=\"Cargando mensualidades...\"\n        loading={true}\n      >\n        <LoadingSpinner />\n      </DashboardLayout>\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout\n        title=\"Mensualidades\"\n        subtitle=\"Error al cargar datos\"\n        loading={false}\n      >\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p className=\"text-red-600\">Error loading payments: {error}</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout\n      title=\"Mensualidades\"\n      subtitle=\"Pagadas, pendientes y vencidas\"\n      extraActions={\n        <button onClick={() => openModal()} className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\">\n          <i className=\"fas fa-plus mr-2\"></i>Nueva Mensualidad\n        </button>\n      }\n    >\n      <section className=\"px-4 md:px-6 py-4 md:py-6\">\n            <FilterBar\n              filters={[\n                {\n                  type: 'custom',\n                  name: 'periodo',\n                  component: MonthYearSelect,\n                  props: { label: 'Período' }\n                },\n                {\n                  type: 'select',\n                  name: 'sede',\n                  label: 'Sede',\n                  placeholder: 'Todas',\n                  options: [\n                    { value: 'all', label: 'Todas' },\n                    ...sedes.map(s => ({ value: s.id.toString(), label: s.nombre }))\n                  ]\n                },\n                {\n                  type: 'select',\n                  name: 'estado',\n                  label: 'Estado',\n                  placeholder: 'Todos',\n                  options: [\n                    { value: 'all', label: 'Todos' },\n                    { value: 'PAGADA', label: 'Pagada' },\n                    { value: 'PENDIENTE', label: 'Pendiente' }\n                  ]\n                },\n                {\n                  type: 'search',\n                  name: 'busqueda',\n                  label: 'Búsqueda por Documento',\n                  placeholder: 'Número de documento...'\n                }\n              ]}\n              values={filters}\n              onChange={setFilter}\n              onClear={clearFilters}\n              showClearButton={true}\n            />\n            <div className=\"mt-6\">\n              <DataTable\n                data={paginatedMensualidades}\n                columns={[\n                  {\n                    key: 'participant_name',\n                    header: 'Participante',\n                    render: (row) => (\n                      <span className=\"font-medium text-gray-900\">{row.participant_name}</span>\n                    )\n                  },\n                  {\n                    key: 'acudiente_name',\n                    header: 'Acudiente',\n                    render: (row) => (\n                      <span className=\"text-gray-700\">{row.acudiente_name || 'N/A'}</span>\n                    )\n                  },\n                  {\n                    key: 'mes',\n                    header: 'Mes',\n                    render: (row) => getMonthLabel(row.mes)\n                  },\n                  {\n                    key: 'valor',\n                    header: 'Cantidad',\n                    render: (row) => `$${(row.valor || row.monto || 0).toLocaleString()}`\n                  },\n                  {\n                    key: 'metodo_pago',\n                    header: 'Método de Pago',\n                    render: (row) => (\n                      <span className=\"text-sm text-gray-600\">\n                        {row.metodo_pago === 'TRANSFERENCIA' ? 'Transferencia' : \n                         row.metodo_pago === 'EFECTIVO' ? 'Efectivo' : 'N/A'}\n                      </span>\n                    )\n                  },\n                  {\n                    key: 'status',\n                    header: 'Estado',\n                    render: (row) => (\n                      <StatusToggle\n                        currentStatus={row.status || row.estado}\n                        statuses={[\n                          { value: 'PAGADA', label: 'PAGADA', variant: 'success' },\n                          { value: 'PENDIENTE', label: 'PENDIENTE', variant: 'danger' }\n                        ]}\n                        onChange={(newStatus) => toggleStatus(row.id, newStatus)}\n                      />\n                    )\n                  },\n                  {\n                    key: 'observaciones',\n                    header: 'Observaciones',\n                    render: (row) => (\n                      <span className=\"text-sm text-gray-600 truncate max-w-xs block\" title={row.observaciones || ''}>\n                        {row.observaciones ? \n                          (row.observaciones.length > 30 ? \n                            row.observaciones.substring(0, 30) + '...' : \n                            row.observaciones) : \n                          '-'}\n                      </span>\n                    )\n                  },\n                  {\n                    key: 'actions',\n                    header: 'Acciones',\n                    render: (row) => (\n                      <ActionDropdown\n                        actions={[\n                          {\n                            label: 'Ver',\n                            icon: 'fas fa-eye',\n                            onClick: () => openModal(row)\n                          },\n                          {\n                            label: 'Editar',\n                            icon: 'fas fa-edit',\n                            onClick: () => openModal(row)\n                          }\n                        ]}\n                      />\n                    )\n                  }\n                ]}\n                keyExtractor={(row) => row.id}\n                loading={loading}\n                emptyState={\n                  <div className=\"text-center py-8 text-gray-500\">\n                    No hay mensualidades que mostrar\n                  </div>\n                }\n              />\n              {totalPages > 1 && (\n                <Pagination\n                  currentPage={currentPage}\n                  totalPages={totalPages}\n                  onPageChange={setPage}\n                  itemsPerPage={10}\n                  totalItems={filteredMensualidades.length}\n                  showInfo={true}\n                  className=\"mt-4\"\n                />\n              )}\n            </div>\n          </section>\n\n          {/* Modal */}\n          <FormModal\n            isOpen={showModal}\n            onClose={closeModal}\n            title={modalData ? 'Ver/Editar Mensualidad' : 'Nueva Mensualidad'}\n            onSubmit={handleSubmit}\n            submitLabel=\"Guardar\"\n            size=\"lg\"\n          >\n            <div className=\"space-y-4\">\n              <FormSelect\n                label=\"Participante\"\n                name=\"participant_id\"\n                value={formData.participant_id}\n                onChange={(value) => handleFormDataChange('participant_id', value)}\n                options={participants.map(p => ({\n                  value: p.id,\n                  label: `${p.nombres} ${p.apellidos} - ${p.documento}`\n                }))}\n                placeholder=\"Seleccionar Participante\"\n                required\n              />\n              \n              <FormSelect\n                label=\"Acudiente\"\n                name=\"id_acudiente\"\n                value={formData.id_acudiente}\n                onChange={(value) => handleFormDataChange('id_acudiente', value)}\n                options={filteredAcudientes.map(a => ({\n                  value: a.id_acudiente || a.id,\n                  label: `${a.nombres} ${a.apellidos} - ${a.parentesco}`\n                }))}\n                placeholder=\"Seleccionar Acudiente\"\n                disabled={!formData.participant_id}\n              />\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormSelect\n                  label=\"Mes\"\n                  name=\"mes\"\n                  value={formData.mes}\n                  onChange={(value) => handleFormDataChange('mes', value)}\n                  options={months.map(m => ({\n                    value: m.value,\n                    label: m.label\n                  }))}\n                  placeholder=\"Seleccionar Mes\"\n                  required\n                />\n                \n                <FormSelect\n                  label=\"Año\"\n                  name=\"año\"\n                  value={formData.año}\n                  onChange={(value) => handleFormDataChange('año', value)}\n                  options={years.map(y => ({\n                    value: y,\n                    label: y.toString()\n                  }))}\n                  required\n                />\n              </div>\n              \n              <FormInput\n                label=\"Valor\"\n                name=\"valor\"\n                type=\"number\"\n                value={formData.valor}\n                onChange={(value) => handleFormDataChange('valor', value)}\n                placeholder=\"Valor\"\n                required\n              />\n              \n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormSelect\n                  label=\"Estado\"\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={(value) => handleFormDataChange('status', value)}\n                  options={[\n                    { value: 'PAGADA', label: 'Pagada' },\n                    { value: 'PENDIENTE', label: 'Pendiente' }\n                  ]}\n                  required\n                />\n                \n                <FormSelect\n                  label=\"Método de Pago\"\n                  name=\"metodo_pago\"\n                  value={formData.metodo_pago}\n                  onChange={(value) => handleFormDataChange('metodo_pago', value)}\n                  options={[\n                    { value: 'TRANSFERENCIA', label: 'Transferencia' },\n                    { value: 'EFECTIVO', label: 'Efectivo' }\n                  ]}\n                  required\n                />\n              </div>\n              \n              {formData.status === 'PAGADA' && (\n                <FormInput\n                  label=\"Fecha de Pago\"\n                  name=\"fecha_pago\"\n                  type=\"date\"\n                  value={formData.fecha_pago}\n                  onChange={(value) => handleFormDataChange('fecha_pago', value)}\n                  required={formData.status === 'PAGADA'}\n                />\n              )}\n              \n              <FormTextarea\n                label=\"Observaciones\"\n                name=\"observaciones\"\n                value={formData.observaciones}\n                onChange={(value) => handleFormDataChange('observaciones', value)}\n                placeholder=\"Observaciones adicionales...\"\n                rows={3}\n              />\n              \n              {modalData && (\n                <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                  <h4 className=\"font-semibold text-gray-700 mb-2\">Información Completa</h4>\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                    <div>\n                      <span className=\"text-gray-600\">Participante:</span>\n                      <span className=\"ml-2 font-medium\">{modalData.participant_name}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Acudiente:</span>\n                      <span className=\"ml-2 font-medium\">{modalData.acudiente_name || 'N/A'}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Método de Pago:</span>\n                      <span className=\"ml-2 font-medium\">\n                        {modalData.metodo_pago === 'TRANSFERENCIA' ? 'Transferencia' : \n                         modalData.metodo_pago === 'EFECTIVO' ? 'Efectivo' : 'N/A'}\n                      </span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Fecha de Pago:</span>\n                      <span className=\"ml-2 font-medium\">\n                        {modalData.fecha_pago ? new Date(modalData.fecha_pago).toLocaleDateString() : 'N/A'}\n                      </span>\n                    </div>\n                    {modalData.observaciones && (\n                      <div className=\"col-span-2\">\n                        <span className=\"text-gray-600\">Observaciones:</span>\n                        <p className=\"ml-2 mt-1 text-gray-700\">{modalData.observaciones}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </FormModal>\n        </DashboardLayout>\n      );\n    });\n\nexport default Finance;\n"],"names":["_ref","_currentUser$email","isOpen","onToggle","isCollapsed","onToggleCollapse","currentUser","logout","useAuth","history","useHistory","isMobile","setIsMobile","useState","location","useLocation","userRole","rol","role","React","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","menuItems","id","icon","label","link","badge","roles","adminOnly","filter","item","includes","_jsxs","_Fragment","children","_jsx","className","onClick","concat","style","background","backdropFilter","borderRight","src","logo","alt","map","Link","to","pathname","startsWith","undefined","photoURL","displayName","email","split","title","async","push","error","console","subtitle","extraActions","sidebarCollapsed","useSidebarContext","userMenuOpen","setUserMenuOpen","userMenuRef","useRef","useEffect","handleClickOutside","e","current","contains","target","handleEscape","key","document","handleLogout","useCallback","preventDefault","stopPropagation","handleCopyEmail","navigator","clipboard","writeText","toggleUserMenu","v","marginClass","useMemo","userDisplayName","ref","DashboardLayoutContent","loading","loadingText","sidebarOpen","toggleSidebarOpen","toggleSidebarCollapsed","Sidebar","LoadingSpinner","size","text","DashboardHeader","props","SidebarProvider","_objectSpread","validateParticipanteDocumentoUnico","numeroDocumento","participanteId","arguments","length","trim","isValid","result","dbService","getParticipantes","data","Array","isArray","some","p","pId","id_participante","numero_documento","err","validateAcudienteDocumentoUnico","acudienteId","getAcudientes","a","aId","id_acudiente","validateEmail","test","validateFecha","fecha","fieldName","date","Date","today","setHours","isNaN","getTime","validateFechaNacimiento","fechaNacimiento","validateFechaIngreso","fechaIngreso","validateParticipanteExists","parseInt","validateSedeExists","sedeId","getSedes","s","id_sede","validateMensualidadRelations","participanteValidation","acudienteValidation","validateAcudienteExists","MonthYearSelect","value","onChange","months","years","from","_","i","options","opts","forEach","year","month","option","mensualidades","setMensualidades","participants","setParticipants","sedes","setSedes","acudientes","setAcudientes","filteredAcudientes","setFilteredAcudientes","setError","setLoading","formData","setFormData","participant_id","mes","año","getFullYear","valor","status","metodo_pago","fecha_pago","observaciones","filters","setFilter","clearFilters","useFilters","periodo","sede","estado","busqueda","showModal","openModal","openModalHook","closeModal","modalData","updateModalData","useModal","handleFormDataChange","field","prev","getMonthLabel","find","m","toString","log","mensRes","partsRes","sedesRes","acudRes","Promise","all","getMensualidades","mensualidadesData","participantesData","sedesData","acudientesData","participantes","message","loadData","filtered","filteredMensualidades","Number","sede_id","participant_documento","acudiente_documento","currentPage","totalPages","paginatedData","paginatedMensualidades","setPage","usePagination","mensualidad","participante_id","monto","toggleStatus","newStatus","updateMensualidad","handleSubmit","alert","relationsValidation","submitData","parseFloat","createMensualidad","DashboardLayout","FilterBar","type","name","component","placeholder","nombre","values","onClear","showClearButton","DataTable","columns","header","render","row","participant_name","acudiente_name","toLocaleString","StatusToggle","currentStatus","statuses","variant","substring","ActionDropdown","actions","keyExtractor","emptyState","Pagination","onPageChange","itemsPerPage","totalItems","showInfo","FormModal","onClose","onSubmit","submitLabel","FormSelect","nombres","apellidos","documento","required","parentesco","disabled","y","FormInput","FormTextarea","rows","toLocaleDateString"],"sourceRoot":""}