"use strict";(self.webpackChunkfundacion_todo_por_un_alma=self.webpackChunkfundacion_todo_por_un_alma||[]).push([[303],{2303:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(5043),r=a(8635),l=a(4349),n=a(3474),i=a(579);const d=()=>{var e;const{currentUser:s}=(0,r.As)(),[a,d]=(0,t.useState)("perfil"),[o,c]=(0,t.useState)(!1),[m,x]=(0,t.useState)(null),[u,p]=(0,t.useState)(null);return(0,i.jsx)(n.A,{title:"Configuraci\xf3n",subtitle:"Administra tu perfil y preferencias de la plataforma",children:(0,i.jsx)("div",{className:"w-full overflow-x-hidden",children:(0,i.jsx)("section",{className:"px-4 md:px-6 py-4 md:py-6",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto w-full",children:[(0,i.jsx)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-1.5 md:p-2 flex overflow-x-auto gap-1.5 md:gap-2 mb-4 md:mb-6 scrollbar-hide -mx-1 md:mx-0",children:[{id:"perfil",label:"Perfil",icon:"fas fa-user"},{id:"preferencias",label:"Preferencias",icon:"fas fa-sliders-h"},{id:"notificaciones",label:"Notificaciones",icon:"fas fa-bell"},{id:"seguridad",label:"Seguridad",icon:"fas fa-shield-alt"}].map(e=>(0,i.jsxs)("button",{onClick:()=>d(e.id),className:"\n                  flex items-center justify-center gap-2 px-3 md:px-4 py-2.5 rounded-lg whitespace-nowrap flex-shrink-0 min-h-[44px] transition-all text-sm font-medium\n                  ".concat(a===e.id?"bg-blue-500 text-white shadow-md scale-105":"text-gray-600 hover:bg-gray-50 active:bg-gray-100","\n                "),children:[(0,i.jsx)("i",{className:"".concat(e.icon," text-base")}),(0,i.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),(0,i.jsx)("style",{jsx:!0,children:"\n            .scrollbar-hide {\n              -ms-overflow-style: none;\n              scrollbar-width: none;\n            }\n            .scrollbar-hide::-webkit-scrollbar {\n              display: none;\n            }\n          "}),(0,i.jsxs)("div",{className:"flex flex-col lg:grid lg:grid-cols-3 gap-4 md:gap-6",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-4 md:space-y-6 order-2 lg:order-1",children:["perfil"===a&&(0,i.jsxs)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-4 md:p-6",children:[(0,i.jsxs)("h2",{className:"text-base md:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-user text-blue-500 text-sm md:text-base"}),(0,i.jsx)("span",{children:"Datos de perfil"})]}),(0,i.jsx)("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,i.jsx)("input",{id:"nombre",type:"text",defaultValue:(null===s||void 0===s||null===(e=s.user_metadata)||void 0===e?void 0:e.full_name)||(null===s||void 0===s?void 0:s.nombre)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo"}),(0,i.jsx)("input",{type:"email",value:(null===s||void 0===s?void 0:s.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 min-h-[44px]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),(0,i.jsx)("input",{type:"text",value:(null===s||void 0===s?void 0:s.rol)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 min-h-[44px]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sede"}),(0,i.jsx)("input",{type:"text",value:(null===s||void 0===s?void 0:s.sede_nombre)||"No asignada",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 min-h-[44px]"})]})]})}),(0,i.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[(0,i.jsxs)("button",{onClick:async()=>{if(s){c(!0),x(null),p(null);try{const e=document.getElementById("nombre"),a=null===e||void 0===e?void 0:e.value.trim();if(a&&a!==s.nombre){const{error:e}=await l.FH.updateProfile({nombre:a});if(e)throw new Error(e.message);p("Perfil actualizado correctamente")}else p("No hay cambios para guardar")}catch(e){x("Error al actualizar el perfil: "+e.message)}finally{c(!1)}}},disabled:o,className:"w-full sm:w-auto px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] flex items-center justify-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-save"}),o?"Guardando...":"Guardar cambios"]}),m&&(0,i.jsx)("p",{className:"text-red-500 text-sm w-full sm:w-auto",children:m}),u&&(0,i.jsx)("p",{className:"text-green-500 text-sm w-full sm:w-auto",children:u})]})]}),"preferencias"===a&&(0,i.jsxs)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-4 md:p-6",children:[(0,i.jsxs)("h2",{className:"text-base md:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-sliders-h text-blue-500 text-sm md:text-base"}),(0,i.jsx)("span",{children:"Preferencias"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("label",{className:"flex items-center justify-between gap-3 p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer min-h-[56px]",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-1",children:"Modo compacto de tablas"}),(0,i.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 flex-shrink-0"})]}),(0,i.jsxs)("label",{className:"flex items-center justify-between gap-3 p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer min-h-[56px]",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-1",children:"Mostrar ayudas contextuales"}),(0,i.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 flex-shrink-0"})]})]})]}),"notificaciones"===a&&(0,i.jsxs)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-4 md:p-6",children:[(0,i.jsxs)("h2",{className:"text-base md:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-bell text-blue-500 text-sm md:text-base"}),(0,i.jsx)("span",{children:"Notificaciones"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("label",{className:"flex items-center justify-between gap-3 p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer min-h-[56px]",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-1",children:"Recordatorios de mensualidades"}),(0,i.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 flex-shrink-0"})]}),(0,i.jsxs)("label",{className:"flex items-center justify-between gap-3 p-3 md:p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer min-h-[56px]",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-gray-700 flex-1",children:"Notificaciones por email"}),(0,i.jsx)("input",{type:"checkbox",className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 flex-shrink-0"})]})]})]}),"seguridad"===a&&(0,i.jsxs)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-4 md:p-6",children:[(0,i.jsxs)("h2",{className:"text-base md:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-shield-alt text-blue-500 text-sm md:text-base"}),(0,i.jsx)("span",{children:"Seguridad"})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a actual"}),(0,i.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]",placeholder:"Ingresa tu contrase\xf1a actual"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva contrase\xf1a"}),(0,i.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]",placeholder:"Nueva contrase\xf1a"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar nueva contrase\xf1a"}),(0,i.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[44px]",placeholder:"Confirmar contrase\xf1a"})]})]})]}),(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsxs)("button",{className:"w-full sm:w-auto px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors min-h-[44px] flex items-center justify-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-lock"}),"Actualizar contrase\xf1a"]})})]})]}),(0,i.jsxs)("aside",{className:"space-y-3 md:space-y-4 order-1 lg:order-2",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg md:rounded-xl border border-gray-200 shadow-sm p-3 md:p-4",children:[(0,i.jsxs)("h3",{className:"text-xs md:text-sm font-semibold text-gray-700 mb-2 md:mb-3 flex items-center gap-2",children:[(0,i.jsx)("i",{className:"fas fa-lightbulb text-yellow-500 text-sm md:text-base"}),(0,i.jsx)("span",{children:"Consejos de seguridad"})]}),(0,i.jsxs)("ul",{className:"space-y-2 text-xs md:text-sm text-gray-600",children:[(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("i",{className:"fas fa-check text-green-500 mt-0.5 flex-shrink-0 text-xs"}),(0,i.jsx)("span",{children:"Usa contrase\xf1as fuertes y \xfanicas."})]}),(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("i",{className:"fas fa-check text-green-500 mt-0.5 flex-shrink-0 text-xs"}),(0,i.jsx)("span",{children:"Activa la verificaci\xf3n en dos pasos si est\xe1 disponible."})]}),(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)("i",{className:"fas fa-check text-green-500 mt-0.5 flex-shrink-0 text-xs"}),(0,i.jsx)("span",{children:"Revisa peri\xf3dicamente tus dispositivos activos."})]})]})]}),(0,i.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg md:rounded-xl p-3 md:p-4",children:(0,i.jsxs)("div",{className:"flex items-start gap-2 md:gap-3",children:[(0,i.jsx)("i",{className:"fas fa-info-circle text-blue-600 text-base md:text-lg mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-xs md:text-sm font-semibold text-blue-900 mb-1",children:"\xbfNecesitas ayuda?"}),(0,i.jsx)("p",{className:"text-xs md:text-sm text-blue-800",children:"Contacta al equipo de soporte para asistencia personalizada."})]})]})})]})]})]})})})})},o=t.memo(d)},3474:(e,s,a)=>{a.d(s,{A:()=>p});var t=a(9379),r=a(5043),l=a(8635),n=a(1688),i=a(2582),d=a(3001),o=a(579);const c=e=>{var s;let{isOpen:a=!1,onToggle:t=()=>{},isCollapsed:c=!1,onToggleCollapse:m=()=>{}}=e;const{currentUser:x,logout:u}=(0,l.As)(),p=(0,n.W6)(),[b,h]=(0,r.useState)(!1),g=(0,n.zy)(),f=(null===x||void 0===x?void 0:x.rol)||(null===x||void 0===x?void 0:x.role)||"CONSULTA";r.useEffect(()=>{const e=()=>{h(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const j=[{id:"dashboard",icon:"fas fa-home",label:"Dashboard",link:"/dashboard",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"participantes",icon:"fas fa-users",label:"Participantes",link:"/participantes",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"acudientes",icon:"fas fa-user-friends",label:"Acudientes",link:"/acudientes",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"financiero",icon:"fas fa-dollar-sign",label:"Mensualidades",link:"/financiero",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"usuarios",icon:"fas fa-users-cog",label:"Usuarios",link:"/usuarios",badge:null,roles:["ADMINISTRADOR"],adminOnly:!0},{id:"formatos",icon:"fas fa-file-alt",label:"Formatos",link:"/formatos",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"sedes",icon:"fas fa-building",label:"Sedes",link:"/sedes",badge:null,roles:["ADMINISTRADOR","CONSULTA"]},{id:"configuracion",icon:"fas fa-cog",label:"Configuraci\xf3n",link:"/configuracion",badge:null,roles:["ADMINISTRADOR","CONSULTA"]}].filter(e=>e.roles.includes(f));return(0,o.jsxs)(o.Fragment,{children:[a&&b&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:t,"aria-hidden":"true"}),b&&(0,o.jsx)("button",{onClick:t,className:"fixed top-4 right-4 z-[70] md:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 min-w-[48px] min-h-[48px] flex items-center justify-center","aria-label":a?"Cerrar men\xfa":"Abrir men\xfa",children:(0,o.jsx)("i",{className:"fas ".concat(a?"fa-times":"fa-bars"," text-xl transition-transform duration-200 ").concat(a?"rotate-90":"")})}),(0,o.jsxs)("aside",{"data-testid":"sidebar",className:"\n          fixed top-0 left-0 h-full text-gray-700 z-50\n          transform transition-transform duration-300 ease-in-out shadow-2xl\n          ".concat(b?"w-[280px] ".concat(a?"translate-x-0":"-translate-x-full"):c?"w-20 translate-x-0 hover:w-64":"w-64 translate-x-0","\n        "),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{className:"\n          ".concat(c&&!b?"p-4":"p-5 md:p-6"," \n          border-b border-gray-200 \n          bg-gradient-to-r from-gray-50 to-gray-100 \n          transition-all duration-300 \n          relative\n        "),children:[!b&&(0,o.jsx)("button",{onClick:m,"aria-label":c?"Expandir men\xfa":"Colapsar men\xfa",className:"absolute -right-3 top-1/2 -translate-y-1/2 w-7 h-7 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors z-10",children:(0,o.jsx)("i",{className:"fas ".concat(c?"fa-angle-double-right":"fa-angle-double-left"," text-sm text-gray-600")})}),(0,o.jsxs)("div",{className:"flex items-center ".concat(c&&!b?"justify-center":"space-x-3"),children:[(0,o.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,o.jsx)("img",{src:d,alt:"Corporaci\xf3n Logo",className:"\n                  ".concat(c&&!b?"w-10 h-10":"w-12 h-12 md:w-14 md:h-14"," \n                  rounded-xl object-cover bg-white p-2 shadow-md transition-all duration-300\n                ")}),(0,o.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}),(0,o.jsxs)("div",{className:"".concat(c&&!b?"hidden":"block"," transition-all duration-300"),children:[(0,o.jsx)("h2",{className:"text-base md:text-lg font-Lato font-bold text-gray-800 leading-tight",children:"Corporaci\xf3n"}),(0,o.jsx)("p",{className:"text-xs font-Poppins text-gray-600",children:"Todo por un Alma"})]})]})]}),(0,o.jsx)("nav",{className:"p-3 md:p-4 flex-1 overflow-y-auto",children:(0,o.jsx)("ul",{className:"space-y-1",children:j.map(e=>(0,o.jsx)("li",{children:(0,o.jsxs)(i.N_,{to:e.link,className:"\n                    flex items-center \n                    ".concat(c&&!b?"justify-center px-3":"space-x-3 px-4"," \n                    py-3 md:py-3.5\n                    rounded-xl \n                    hover:bg-gray-100 hover:shadow-sm \n                    transition-all duration-200 \n                    group relative overflow-hidden\n                    min-h-[48px]\n                    ").concat(g.pathname.startsWith(e.link)?"bg-blue-50 text-blue-700 ring-1 ring-blue-100":"","\n                  "),onClick:b?t:void 0,"aria-current":g.pathname.startsWith(e.link)?"page":void 0,children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/50 to-blue-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,o.jsx)("i",{className:"\n                    ".concat(e.icon," \n                    ").concat(b?"text-xl":"text-lg","\n                    ").concat(g.pathname.startsWith(e.link)?"text-blue-700":"text-gray-600 group-hover:text-blue-600"," \n                    group-hover:scale-110 transition-all flex-shrink-0 relative z-10\n                  ")}),(0,o.jsx)("span",{className:"\n                    font-Poppins font-medium \n                    ".concat(b?"text-base":"text-sm","\n                    ").concat(g.pathname.startsWith(e.link)?"text-blue-800":"text-gray-700 group-hover:text-gray-900"," \n                    ").concat(c&&!b?"hidden":"block","\n                    transition-all duration-300 z-10\n                  "),children:e.label}),e.badge&&!c&&(0,o.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-sm",children:e.badge})]})},e.id))})}),(0,o.jsxs)("div",{className:"p-3 md:p-4 border-t border-gray-200 mt-auto bg-gradient-to-r from-gray-50 to-gray-100",children:[(0,o.jsxs)("div",{className:"\n            flex items-center \n            ".concat(c&&!b?"justify-center":"space-x-3"," \n            mb-3\n          "),children:[(0,o.jsxs)("div",{className:"relative flex-shrink-0",children:[null!==x&&void 0!==x&&x.photoURL?(0,o.jsx)("img",{src:x.photoURL,alt:"Usuario",className:"\n                    rounded-full border-2 border-gray-300 shadow-md \n                    ".concat(c&&!b?"w-10 h-10":"w-11 h-11 md:w-12 md:h-12","\n                  ")}):(0,o.jsx)("div",{className:"\n                  rounded-full border-2 border-gray-300 shadow-md \n                  bg-gradient-to-br from-blue-100 to-blue-200 \n                  flex items-center justify-center \n                  ".concat(c&&!b?"w-10 h-10":"w-11 h-11 md:w-12 md:h-12","\n                "),children:(0,o.jsx)("i",{className:"fas fa-user text-blue-600 ".concat(b?"text-lg":"text-base")})}),(0,o.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}),(!c||b)&&(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm md:text-base font-Poppins font-semibold text-gray-800 truncate",children:(null===x||void 0===x?void 0:x.displayName)||(null===x||void 0===x||null===(s=x.email)||void 0===s?void 0:s.split("@")[0])}),(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)("p",{className:"text-xs font-Poppins text-gray-600",children:"ADMINISTRADOR"===f?"Administrador":"Consulta"}),"CONSULTA"===f&&(0,o.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded",title:"Solo lectura",children:(0,o.jsx)("i",{className:"fas fa-eye text-[10px]"})})]})]})]}),(0,o.jsxs)("button",{onClick:async()=>{try{await u(),p.push("/")}catch(e){console.error("Error during logout:",e)}},className:"\n              flex items-center \n              ".concat(c&&!b?"justify-center":""," \n              w-full px-4 py-3\n              text-sm md:text-base\n              text-gray-700 \n              rounded-xl \n              hover:bg-red-50 hover:text-red-600 hover:shadow-sm \n              transition-all duration-200 \n              font-Poppins font-medium \n              group relative overflow-hidden\n              min-h-[48px]\n            "),children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-50/50 to-red-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,o.jsx)("i",{className:"\n              fas fa-sign-out-alt \n              ".concat(b?"text-lg":"text-base","\n              ").concat(c&&!b?"":"mr-3"," \n              group-hover:scale-110 transition-transform relative z-10\n            ")}),(!c||b)&&(0,o.jsx)("span",{className:"relative z-10",children:"Cerrar Sesi\xf3n"})]})]})]})]})},m=r.memo(e=>{let{title:s="Dashboard",subtitle:a="Bienvenido",extraActions:t=null}=e;const{currentUser:i,logout:c}=(0,l.As)(),m=(0,n.W6)(),{sidebarCollapsed:x}=(0,l.VF)(),[u,p]=(0,r.useState)(!1),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&p(!1)},s=e=>{"Escape"===e.key&&p(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",s),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",s)}},[]);const h=(0,r.useCallback)(async e=>{e&&(e.preventDefault(),e.stopPropagation());try{await c(),p(!1),m.push("/")}catch(e){console.error("Error al cerrar sesi\xf3n",e)}},[m,c]),g=(0,r.useCallback)(async()=>{try{null!==i&&void 0!==i&&i.email&&(await navigator.clipboard.writeText(i.email),p(!1))}catch(e){console.error("No se pudo copiar el correo",e)}},[null===i||void 0===i?void 0:i.email]),f=(0,r.useCallback)(()=>{p(e=>!e)},[]),j=(0,r.useMemo)(()=>x?"md:ml-20":"md:ml-64",[x]),y=(0,r.useMemo)(()=>(null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i?void 0:i.email),[null===i||void 0===i?void 0:i.displayName,null===i||void 0===i?void 0:i.email]);return(0,o.jsx)("header",{className:"\n      fixed top-0 right-0 left-0 z-40 \n      bg-white/95 backdrop-blur-lg \n      shadow-md border-b border-gray-200\n      transition-all duration-300\n    ",children:(0,o.jsx)("div",{className:"\n        px-4 md:px-6 \n        py-2.5 md:py-3 \n        transition-all duration-300 \n        ".concat(j,"\n      "),children:(0,o.jsxs)("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-3 flex-1 min-w-0 ml-12 md:ml-0",children:[(0,o.jsx)("img",{src:d,alt:"Todo por un Alma",className:"hidden sm:block h-8 md:h-10 w-8 md:w-10 rounded-lg shadow-sm flex-shrink-0"}),(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("h1",{className:"text-base sm:text-lg md:text-2xl font-Lato font-bold text-gray-800 truncate",children:s}),a&&(0,o.jsx)("p",{className:"hidden md:block text-xs md:text-sm font-Poppins text-gray-600 truncate",children:a})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-4 flex-shrink-0",children:[t&&(0,o.jsx)("div",{className:"hidden lg:flex items-center space-x-3",children:t}),(0,o.jsxs)("div",{className:"relative",ref:b,children:[(0,o.jsxs)("button",{onClick:f,className:"flex items-center space-x-2 md:space-x-3 bg-gray-100 rounded-full pl-1.5 md:pl-2 pr-2 md:pr-3 py-1 md:py-1.5 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]","aria-haspopup":"true","aria-expanded":u,children:[(0,o.jsxs)("div",{className:"relative flex-shrink-0",children:[null!==i&&void 0!==i&&i.photoURL?(0,o.jsx)("img",{src:i.photoURL,alt:"Usuario",className:"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500"}):(0,o.jsx)("div",{className:"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500 bg-blue-500 flex items-center justify-center",children:(0,o.jsx)("i",{className:"fas fa-user text-white text-sm"})}),(0,o.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 md:w-3 md:h-3 bg-green-400 rounded-full border-2 border-white"})]}),(0,o.jsx)("span",{className:"hidden sm:block text-sm md:text-base font-Poppins font-medium text-gray-700 max-w-[120px] md:max-w-none truncate",children:y}),(0,o.jsx)("i",{className:"hidden sm:block fas fa-chevron-".concat(u?"up":"down"," text-gray-500 text-xs")})]}),u&&(0,o.jsxs)("div",{className:"absolute right-0 mt-2 w-56 md:w-64 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[(0,o.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[(0,o.jsx)("p",{className:"text-xs text-gray-500 font-Poppins",children:"Sesi\xf3n iniciada como"}),(0,o.jsx)("p",{className:"text-sm md:text-base text-gray-800 truncate font-Poppins font-medium mt-0.5",children:null===i||void 0===i?void 0:i.email})]}),(0,o.jsxs)("ul",{className:"py-1",children:[(0,o.jsx)("li",{children:(0,o.jsxs)("button",{onClick:g,className:"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]",children:[(0,o.jsx)("i",{className:"fas fa-copy mr-3 text-gray-500 w-4"}),"Copiar correo"]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("button",{onClick:()=>{m.push("/configuracion"),p(!1)},className:"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]",children:[(0,o.jsx)("i",{className:"fas fa-cog mr-3 text-gray-500 w-4"}),"Configuraci\xf3n"]})}),(0,o.jsx)("li",{className:"border-t border-gray-100",children:(0,o.jsxs)("button",{onClick:h,className:"w-full flex items-center px-4 py-3 text-sm md:text-base text-red-600 hover:bg-red-50 font-Poppins transition-colors min-h-[48px]",children:[(0,o.jsx)("i",{className:"fas fa-sign-out-alt mr-3 w-4"}),"Cerrar sesi\xf3n"]})})]})]})]})]})]})})})});var x=a(6761);const u=e=>{let{title:s="Dashboard",subtitle:a="",children:t,loading:r=!1,loadingText:n="Cargando...",extraActions:i=null}=e;const{sidebarOpen:d,sidebarCollapsed:u,toggleSidebarOpen:p,toggleSidebarCollapsed:b}=(0,l.VF)(),h=u?"md:ml-20":"md:ml-64";return r?(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)(c,{isOpen:d,onToggle:p,isCollapsed:u,onToggleCollapse:b}),(0,o.jsx)("main",{className:"flex-1 transition-all duration-300 ".concat(h," pt-16 md:pt-20 px-4 md:px-0"),children:(0,o.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,o.jsx)(x.A,{size:"xl",text:n})})})]})}):(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 font-sans antialiased",children:(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)(c,{isOpen:d,onToggle:p,isCollapsed:u,onToggleCollapse:b}),(0,o.jsxs)("main",{className:"flex-1 transition-all duration-300 ".concat(h," pt-16 md:pt-20 px-4 md:px-0"),children:[(0,o.jsx)(m,{title:s,subtitle:a,extraActions:i}),t]})]})})},p=e=>(0,o.jsx)(l.GB,{children:(0,o.jsx)(u,(0,t.A)({},e))})},4349:(e,s,a)=>{a.d(s,{C5:()=>r.C5,FH:()=>t.FH,gg:()=>r.gg});var t=a(493),r=a(5848);a(6752),a(7479)}}]);
//# sourceMappingURL=303.6e09803b.chunk.js.map