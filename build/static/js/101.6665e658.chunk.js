"use strict";(self.webpackChunkfundacion_todo_por_un_alma=self.webpackChunkfundacion_todo_por_un_alma||[]).push([[101],{1389:(e,t,a)=>{a.d(t,{Bf:()=>s,Cb:()=>m,NK:()=>r,SP:()=>o,Tq:()=>l,VY:()=>c,b2:()=>u,eS:()=>n,vc:()=>i,yY:()=>p});const n=e=>e?e.nombres&&e.apellidos?"".concat(e.nombres," ").concat(e.apellidos).trim():e.nombre||"N/A":"N/A",r=e=>e?"object"===typeof e&&null!==e?e.direccion||e.nombre||"N/A":String(e):"N/A",o=e=>{if(!e)return"N/A";const t=String(e).toUpperCase();return"ACTIVO"===t?"Activo":"INACTIVO"===t?"Inactivo":"PAGADA"===t?"Pagada":"PENDIENTE"===t?"Pendiente":"VENCIDA"===t?"Vencida":e},i=e=>e?"MASCULINO"===e?"Masculino":"FEMENINO"===e?"Femenino":e:"N/A",l=(e,t)=>{if(!t)return"N/A";return"".concat(e||"CC",": ").concat(t)},c=e=>{const{title:t="Reporte",data:a=[],headers:n=[],metadata:r={},statistics:o={},filters:i={}}=e,l=[],c=(new Date).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});l.push('"'.concat(t.toUpperCase(),'"')),l.push('"Corporaci\xf3n Todo por un Alma"'),l.push('"Fecha de generaci\xf3n:","'.concat(c,'"')),r.generatedBy&&l.push('"Generado por:","'.concat(r.generatedBy,'"')),l.push("");const s=Object.entries(i).filter(e=>{let[t,a]=e;return a&&"all"!==a&&"Todos"!==a&&"Todas"!==a&&""!==a});s.length>0&&(l.push('"FILTROS APLICADOS"'),s.forEach(e=>{let[t,a]=e;const n=t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," ");l.push('"'.concat(n,':","').concat(a,'"'))}),l.push(""));const u=Object.entries(o).filter(e=>{let[t,a]=e;return void 0!==a});u.length>0&&(l.push('"ESTAD\xcdSTICAS"'),u.forEach(e=>{let[t,a]=e;const n=t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());l.push('"'.concat(n,':","').concat(a,'"'))}),l.push("")),l.push('"DATOS DEL REPORTE"'),l.push("");const p=n.map(e=>{const t=e.label;return t.includes(",")||t.includes('"')||t.includes("\n")?'"'.concat(t.replace(/"/g,'""'),'"'):t}).join(",");return l.push(p),0===a.length?l.push('"No hay datos disponibles"'):a.forEach(e=>{const t=n.map(t=>{const a=d(e,t.key),n=String(a||"");return n.includes(",")||n.includes('"')||n.includes("\n")?'"'.concat(n.replace(/"/g,'""'),'"'):n}).join(",");l.push(t)}),l.push(""),l.push('"RESUMEN"'),l.push('"Total de registros:","'.concat(a.length,'"')),l.push('"Reporte generado el:","'.concat(c,'"')),l.join("\n")},s=(e,t)=>{const a=t.endsWith(".csv")?t:"".concat(t,".csv"),n=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){const e=URL.createObjectURL(n);r.setAttribute("href",e),r.setAttribute("download",a),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}},d=(e,t)=>t.split(".").reduce((e,t)=>null===e||void 0===e?void 0:e[t],e),u=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("es-ES")}catch(t){return String(e)}},p=e=>{if(null===e||void 0===e)return"";try{return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e)}catch(t){return String(e)}},m=e=>{if(!e)return"";try{const t=new Date(e),a=new Date;let n=a.getFullYear()-t.getFullYear();const r=a.getMonth()-t.getMonth();return(r<0||0===r&&a.getDate()<t.getDate())&&n--,n>0?"".concat(n," a\xf1os"):""}catch(t){return""}}},2101:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var n=a(5043),r=a(3474),o=a(4349),i=a(1724),l=a(3324),c=a(2144),s=a(1379),d=a(3714),u=a(6938),p=a(1389),m=a(579);const h=()=>{const[e,t]=(0,n.useState)([]),[a,h]=(0,n.useState)([]),[b,f]=(0,n.useState)(!0),[g,x]=(0,n.useState)(null),{filters:y,setFilter:v,clearFilters:A}=(0,d.R7)({participante:"Todos",busqueda:""}),N=(0,d.hS)(),E=(0,d.hS)(),_=(0,d.hS)(),j=(0,n.useCallback)(async()=>{try{var e;f(!0),x(null),console.log("\ud83d\udd04 Cargando acudientes...");const a=await o.C5.getAcudientes();if(console.log("\ud83d\udcca Resultado acudientes:",a),a.error)throw new Error(a.error.message||"Error al cargar acudientes");const n=Array.isArray(null===(e=a.data)||void 0===e?void 0:e.data)?a.data.data:[];t(n),console.log("\u2705 Acudientes cargados:",n.length)}catch(a){console.error("\u274c Error cargando acudientes:",a),x(a.message||"Error desconocido al cargar acudientes"),t([])}finally{f(!1)}},[]),C=(0,n.useCallback)(async()=>{try{var e;console.log("\ud83d\udd04 Cargando participantes...");const t=await o.C5.getParticipantes();if(t.error)return console.error("Error cargando participantes:",t.error),void h([]);const a=Array.isArray(null===(e=t.data)||void 0===e?void 0:e.data)?t.data.data:[];h(a),console.log("\u2705 Participantes cargados:",a.length)}catch(t){console.error("\u274c Error cargando participantes:",t),h([])}},[]);(0,n.useEffect)(()=>{j(),C()},[j,C]);const w=(0,n.useMemo)(()=>{let t=Array.isArray(e)?e:[];return"Todos"!==y.participante&&(t=t.filter(e=>{var t;const a=e.id_participante||(null===(t=e.participante)||void 0===t?void 0:t.id_participante);return a&&a.toString()===y.participante})),y.busqueda&&(t=t.filter(e=>(e.numero_documento||"").includes(y.busqueda))),t},[e,y]),D=(0,n.useMemo)(()=>[{title:"Total Acudientes",value:w.length,icon:"fas fa-user-friends",color:"blue"}],[w]),S=(0,n.useCallback)(()=>{const e=window.open("","_blank"),t=(new Date).toLocaleDateString("es-ES"),n="\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Lista de Acudientes - ".concat(t,'</title>\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              margin: 20px;\n              color: #333;\n            }\n            .header {\n              text-align: center;\n              margin-bottom: 30px;\n              border-bottom: 2px solid #333;\n              padding-bottom: 20px;\n            }\n            .header h1 {\n              color: #7c3aed;\n              margin: 0;\n              font-size: 24px;\n            }\n            .filters {\n              margin-bottom: 20px;\n              background: #f8f9fa;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .filters h3 {\n              margin: 0 0 10px 0;\n              color: #495057;\n            }\n            .filters p {\n              margin: 5px 0;\n              font-size: 14px;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-top: 20px;\n            }\n            th, td {\n              border: 1px solid #ddd;\n              padding: 8px 12px;\n              text-align: left;\n            }\n            th {\n              background-color: #f8f9fa;\n              font-weight: bold;\n              color: #495057;\n            }\n            tr:nth-child(even) {\n              background-color: #f9f9f9;\n            }\n            .stats {\n              margin-top: 30px;\n              background: #ede9fe;\n              padding: 15px;\n              border-radius: 5px;\n            }\n            .stats h3 {\n              margin: 0 0 10px 0;\n              color: #7c3aed;\n            }\n            .stats p {\n              margin: 5px 0;\n              font-size: 14px;\n            }\n            @media print {\n              body { margin: 0; }\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>Lista de Acudientes</h1>\n            <p>Corporaci\xf3n Todo por un Alma</p>\n            <p>Fecha de generaci\xf3n: ').concat(t,'</p>\n          </div>\n\n          <div class="filters">\n            <h3>Filtros aplicados:</h3>\n            <p><strong>Participante:</strong> ').concat("Todos"===y.participante?"Todos los participantes":(()=>{const e=a.find(e=>(e.id_participante||e.id).toString()===y.participante);return(null===e||void 0===e?void 0:e.nombre)||"".concat((null===e||void 0===e?void 0:e.nombres)||""," ").concat((null===e||void 0===e?void 0:e.apellidos)||"").trim()||"N/A"})(),"</p>\n            ").concat(y.busqueda?'<p><strong>B\xfasqueda:</strong> "'.concat(y.busqueda,'"</p>'):"","\n          </div>\n\n          <table>\n            <thead>\n              <tr>\n                <th>Acudiente</th>\n                <th>Documento</th>\n                <th>Participante</th>\n                <th>Parentesco</th>\n                <th>Tel\xe9fono</th>\n                <th>Email</th>\n              </tr>\n            </thead>\n            <tbody>\n              ").concat(w.map(e=>{const t=a.find(t=>(t.id_participante||t.id)===e.id_participante),n="".concat(e.nombres||""," ").concat(e.apellidos||"").trim()||"N/A",r=(0,p.Tq)(e.tipo_documento,e.numero_documento),o=(0,p.eS)(t);return"\n                  <tr>\n                    <td>".concat(n,"</td>\n                    <td>").concat(r,"</td>\n                    <td>").concat(o,"</td>\n                    <td>").concat(e.parentesco||"N/A","</td>\n                    <td>").concat(e.telefono||"N/A","</td>\n                    <td>").concat(e.email||"N/A","</td>\n                  </tr>\n                ")}).join(""),'\n            </tbody>\n          </table>\n\n          <div class="stats">\n            <h3>Estad\xedsticas:</h3>\n            <p><strong>Total de acudientes:</strong> ').concat(w.length,"</p>\n          </div>\n\n          <script>\n            window.onload = function() {\n              window.print();\n              setTimeout(function() {\n                window.close();\n              }, 1000);\n            }\n          <\/script>\n        </body>\n      </html>\n    ");e.document.write(n),e.document.close()},[y,w,a]),T=(0,n.useCallback)(()=>{const e=w.map(e=>{const t=a.find(t=>(t.id_participante||t.id)===e.id_participante);return{tipo_documento:e.tipo_documento||"N/A",numero_documento:e.numero_documento||"N/A",nombres:e.nombres||"N/A",apellidos:e.apellidos||"N/A",nombre_completo:"".concat(e.nombres||""," ").concat(e.apellidos||"").trim()||"N/A",parentesco:e.parentesco||"N/A",telefono:e.telefono||"N/A",email:e.email||"N/A",direccion:e.direccion||"N/A",participante_id:e.id_participante||"N/A",participante_nombre:(0,p.eS)(t),participante_documento:(null===t||void 0===t?void 0:t.numero_documento)||"N/A"}}),t={};w.forEach(e=>{const a=e.parentesco||"Sin especificar";t[a]=(t[a]||0)+1});const n={"Total de Acudientes":w.length,"Acudientes con Email":w.filter(e=>e.email).length,"Acudientes con Tel\xe9fono":w.filter(e=>e.telefono).length};Object.entries(t).sort((e,t)=>t[1]-e[1]).slice(0,5).forEach(e=>{let[t,a]=e;n["Parentesco ".concat(t)]="".concat(a," (").concat((a/w.length*100).toFixed(1),"%)")});const r={};if("Todos"!==y.participante){const e=a.find(e=>(e.id_participante||e.id).toString()===y.participante);r.participante=(null===e||void 0===e?void 0:e.nombre)||"".concat((null===e||void 0===e?void 0:e.nombres)||""," ").concat((null===e||void 0===e?void 0:e.apellidos)||"").trim()||"N/A"}y.busqueda&&(r.b\u00fasqueda=y.busqueda);const o=(0,p.VY)({title:"Reporte de Acudientes",data:e,headers:[{key:"tipo_documento",label:"Tipo Documento"},{key:"numero_documento",label:"N\xfamero Documento"},{key:"nombres",label:"Nombres"},{key:"apellidos",label:"Apellidos"},{key:"nombre_completo",label:"Nombre Completo"},{key:"parentesco",label:"Parentesco"},{key:"telefono",label:"Tel\xe9fono"},{key:"email",label:"Email"},{key:"direccion",label:"Direcci\xf3n"},{key:"participante_id",label:"ID Participante"},{key:"participante_nombre",label:"Nombre Participante"},{key:"participante_documento",label:"Documento Participante"}],metadata:{generatedBy:"Sistema de Gesti\xf3n"},statistics:n,filters:r}),i="acudientes_".concat((new Date).toISOString().split("T")[0],".csv");(0,p.Bf)(o,i)},[w,a,y]);if(b)return(0,m.jsx)(r.A,{title:"Acudientes",subtitle:"Gesti\xf3n de acudientes",loading:!0,loadingText:"Cargando acudientes..."});if(g)return(0,m.jsx)(r.A,{title:"Acudientes",subtitle:"Error al cargar datos",loading:!1,children:(0,m.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,m.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,m.jsxs)("p",{className:"text-red-600",children:["Error loading acudientes: ",g]})})})});const V=[{type:"select",name:"participante",label:"Participante",options:[{value:"Todos",label:"Todos los Participantes"},...a.map(e=>({value:(e.id_participante||e.id).toString(),label:e.nombre||"".concat(e.nombres," ").concat(e.apellidos)||"Sin nombre"}))]},{type:"search",name:"busqueda",label:"B\xfasqueda por Documento",placeholder:"N\xfamero de documento..."}];return(0,m.jsxs)(r.A,{title:"Gesti\xf3n de Acudientes",subtitle:"Administra los acudientes de los participantes",extraActions:(0,m.jsxs)("div",{className:"flex space-x-3",children:[(0,m.jsx)(i.EK,{onExportPDF:S,onExportCSV:T}),(0,m.jsxs)("button",{onClick:()=>_.openModal(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,m.jsx)("i",{className:"fas fa-plus mr-2"}),"Nuevo Acudiente"]})]}),children:[(0,m.jsxs)("section",{className:"px-4 md:px-6 py-4 md:py-6",children:[(0,m.jsx)(i.Qn,{filters:V,values:y,onChange:v,onClear:A,showClearButton:!0}),(0,m.jsx)("div",{className:"mt-6",children:(0,m.jsx)(l.MD,{stats:D,columns:3,gap:"md"})}),(0,m.jsx)("div",{className:"mt-6",children:(0,m.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,m.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Lista de Acudientes"})}),0===w.length?(0,m.jsxs)("div",{className:"p-12 text-center",children:[(0,m.jsx)("i",{className:"fas fa-user-friends text-gray-300 text-4xl mb-4"}),(0,m.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron acudientes"}),(0,m.jsx)("p",{className:"text-gray-500",children:"No hay acudientes que coincidan con los filtros aplicados."})]}):(0,m.jsx)(c.bQ,{keyExtractor:e=>e.id_acudiente||e.id,columns:[{key:"acudiente",header:"Acudiente",render:e=>(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:(0,m.jsx)("i",{className:"fas fa-user-friends text-purple-600"})}),(0,m.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,m.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"".concat(e.nombres||""," ").concat(e.apellidos||"").trim()||"Sin nombre"}),(0,m.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[e.tipo_documento||"CC",": ",e.numero_documento||"N/A"]}),(0,m.jsxs)("div",{className:"md:hidden mt-1 space-y-1",children:[(0,m.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,m.jsx)("i",{className:"fas fa-phone text-gray-400 mr-1 text-xs"}),e.telefono||"N/A"]}),(0,m.jsxs)("p",{className:"text-xs text-gray-600 flex items-center",children:[(0,m.jsx)("i",{className:"fas fa-envelope text-gray-400 mr-1 text-xs"}),e.email||"N/A"]})]})]})]})},{key:"participante",header:"Participante",render:e=>{const t=a.find(t=>(t.id_participante||t.id)===e.id_participante);return(0,m.jsxs)("div",{className:"min-w-0",children:[(0,m.jsx)("p",{className:"text-gray-900 truncate",children:(null===t||void 0===t?void 0:t.nombre)||"".concat((null===t||void 0===t?void 0:t.nombres)||""," ").concat((null===t||void 0===t?void 0:t.apellidos)||"").trim()||"N/A"}),(0,m.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.parentesco||"Sin parentesco"})]})}},{key:"contacto",header:"Contacto",hideInMobile:!0,render:e=>(0,m.jsxs)("div",{className:"min-w-0",children:[(0,m.jsxs)("p",{className:"text-gray-900 flex items-center",children:[(0,m.jsx)("i",{className:"fas fa-phone text-gray-400 mr-2"}),(0,m.jsx)("span",{className:"truncate",children:e.telefono||"N/A"})]}),(0,m.jsxs)("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[(0,m.jsx)("i",{className:"fas fa-envelope text-gray-400 mr-2"}),(0,m.jsx)("span",{className:"truncate",children:e.email||"N/A"})]})]})},{key:"acciones",header:"Acciones",render:e=>(0,m.jsx)(c.yd,{actions:[{label:"Ver detalles",icon:"fas fa-eye",onClick:()=>{N.setData(e),N.open()}},{label:"Editar",icon:"fas fa-edit",onClick:()=>{E.setData(e),E.open()}}]})}],data:w})]})})]}),(0,m.jsx)(s.J$,{isOpen:N.isOpen,onClose:N.closeModal,title:"Detalles del Acudiente",data:N.data?[{label:"ID",value:N.data.id_acudiente||N.data.id},{label:"Nombre Completo",value:"".concat(N.data.nombres||""," ").concat(N.data.apellidos||"").trim()},{label:"Documento",value:"".concat(N.data.tipo_documento||"CC",": ").concat(N.data.numero_documento||"N/A")},{label:"Parentesco",value:N.data.parentesco||"N/A"},{label:"Tel\xe9fono",value:N.data.telefono||"N/A"},{label:"Email",value:N.data.email||"N/A"},{label:"Direcci\xf3n",value:N.data.direccion||"N/A"},{label:"Participante",value:(()=>{const e=a.find(e=>(e.id_participante||e.id)===N.data.id_participante);return(null===e||void 0===e?void 0:e.nombre)||"".concat((null===e||void 0===e?void 0:e.nombres)||""," ").concat((null===e||void 0===e?void 0:e.apellidos)||"").trim()||"N/A"})()}]:[]}),(0,m.jsx)(s.M9,{isOpen:E.isOpen,onClose:E.closeModal,title:"Editar Acudiente",onSubmit:async e=>{const t=E.data.id_acudiente||E.data.id,a=await(0,u.BZ)(e.numero_documento,t);if(!a.isValid)throw new Error(a.error);const n=(0,u.DT)(e.email);if(!n.isValid)throw new Error(n.error);const r=await o.C5.updateAcudiente(E.data.id_acudiente||E.data.id,e);if(r.error)throw new Error(r.error.message||"Error al actualizar acudiente");await j()},initialData:E.data,fields:[{name:"tipo_documento",label:"Tipo de Documento",type:"select",required:!0,options:[{value:"CC",label:"C\xe9dula de Ciudadan\xeda"},{value:"TI",label:"Tarjeta de Identidad"},{value:"CE",label:"C\xe9dula de Extranjer\xeda"},{value:"PASAPORTE",label:"Pasaporte"}]},{name:"numero_documento",label:"N\xfamero de Documento",type:"text",required:!0,placeholder:"N\xfamero de documento"},{name:"nombres",label:"Nombres",type:"text",required:!0,placeholder:"Nombres del acudiente"},{name:"apellidos",label:"Apellidos",type:"text",required:!0,placeholder:"Apellidos del acudiente"},{name:"parentesco",label:"Parentesco",type:"text",required:!0,placeholder:"Ej: Madre, Padre, Hermano/a"},{name:"telefono",label:"Tel\xe9fono",type:"tel",required:!0,placeholder:"N\xfamero de tel\xe9fono"},{name:"email",label:"Email",type:"email",required:!0,placeholder:"correo@ejemplo.com"},{name:"direccion",label:"Direcci\xf3n",type:"textarea",required:!0,placeholder:"Direcci\xf3n completa"}]}),(0,m.jsx)(s.s5,{isOpen:_.isOpen,onClose:_.closeModal,title:"Nuevo Acudiente",onSubmit:async e=>{const t=await(0,u.BZ)(e.numero_documento);if(!t.isValid)throw new Error(t.error);const a=(0,u.DT)(e.email);if(!a.isValid)throw new Error(a.error);const n=await(0,u.ju)(e.id_participante);if(!n.isValid)throw new Error(n.error);const r=await o.C5.createAcudiente(e);if(r.error)throw new Error(r.error.message||"Error al crear acudiente");await j()},initialData:{id_participante:"",tipo_documento:"CC",numero_documento:"",nombres:"",apellidos:"",parentesco:"",telefono:"",email:"",direccion:""},fields:[{name:"id_participante",label:"Participante",type:"select",required:!0,options:[{value:"",label:"Seleccione un participante"},...a.map(e=>({value:(e.id_participante||e.id).toString(),label:e.nombre||"".concat(e.nombres||""," ").concat(e.apellidos||"").trim()||"Sin nombre"}))]},{name:"tipo_documento",label:"Tipo de Documento",type:"select",required:!0,options:[{value:"CC",label:"C\xe9dula de Ciudadan\xeda"},{value:"TI",label:"Tarjeta de Identidad"},{value:"CE",label:"C\xe9dula de Extranjer\xeda"},{value:"PASAPORTE",label:"Pasaporte"}]},{name:"numero_documento",label:"N\xfamero de Documento",type:"text",required:!0,placeholder:"N\xfamero de documento"},{name:"nombres",label:"Nombres",type:"text",required:!0,placeholder:"Nombres del acudiente"},{name:"apellidos",label:"Apellidos",type:"text",required:!0,placeholder:"Apellidos del acudiente"},{name:"parentesco",label:"Parentesco",type:"text",required:!0,placeholder:"Ej: Madre, Padre, Hermano/a"},{name:"telefono",label:"Tel\xe9fono",type:"tel",required:!0,placeholder:"N\xfamero de tel\xe9fono"},{name:"email",label:"Email",type:"email",required:!0,placeholder:"correo@ejemplo.com"},{name:"direccion",label:"Direcci\xf3n",type:"textarea",required:!0,placeholder:"Direcci\xf3n completa"}]})]})},b=n.memo(h)},6938:(e,t,a)=>{a.d(t,{BZ:()=>o,DT:()=>i,F2:()=>p,Hc:()=>s,Ri:()=>r,Wk:()=>u,Zi:()=>c,ju:()=>d});var n=a(4349);const r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e||!e.trim())return{isValid:!1,error:"El n\xfamero de documento es requerido"};const a=await n.C5.getParticipantes();if(a.data&&Array.isArray(a.data)){if(a.data.some(a=>{const n=a.id||a.id_participante;return a.numero_documento===e&&n!==t}))return{isValid:!1,error:"El n\xfamero de documento ya est\xe1 registrado para otro participante"}}return{isValid:!0,error:null}}catch(a){return console.error("Error validating participante documento:",a),{isValid:!0,error:null}}},o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e||!e.trim())return{isValid:!1,error:"El n\xfamero de documento es requerido"};const a=await n.C5.getAcudientes();if(a.data&&Array.isArray(a.data)){if(a.data.some(a=>{const n=a.id||a.id_acudiente;return a.numero_documento===e&&n!==t}))return{isValid:!1,error:"El n\xfamero de documento ya est\xe1 registrado para otro acudiente"}}return{isValid:!0,error:null}}catch(a){return console.error("Error validating acudiente documento:",a),{isValid:!0,error:null}}},i=e=>{if(!e||!e.trim())return{isValid:!1,error:"El email es requerido"};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{isValid:!0,error:null}:{isValid:!1,error:"El formato del email no es v\xe1lido"}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fecha";if(!e)return{isValid:!1,error:"La ".concat(t," es requerida")};const a=new Date(e),n=new Date;return n.setHours(23,59,59,999),a instanceof Date&&!isNaN(a.getTime())?a>n?{isValid:!1,error:"La ".concat(t," no puede ser futura")}:{isValid:!0,error:null}:{isValid:!1,error:"La ".concat(t," no es v\xe1lida")}},c=e=>l(e,"fecha de nacimiento"),s=e=>l(e,"fecha de ingreso"),d=async e=>{try{if(!e)return{isValid:!1,error:"Debe seleccionar un participante"};const t=await n.C5.getParticipantes();if(t.data&&Array.isArray(t.data)){if(!t.data.some(t=>(t.id_participante||t.id)===parseInt(e)))return{isValid:!1,error:"El participante seleccionado no existe"}}return{isValid:!0,error:null}}catch(t){return console.error("Error validating participante exists:",t),{isValid:!1,error:"Error al validar el participante"}}},u=async e=>{try{if(!e)return{isValid:!1,error:"Debe seleccionar una sede"};const t=await n.C5.getSedes();if(t.data&&Array.isArray(t.data)){if(!t.data.some(t=>(t.id_sede||t.id)===parseInt(e)))return{isValid:!1,error:"La sede seleccionada no existe"}}return{isValid:!0,error:null}}catch(t){return console.error("Error validating sede exists:",t),{isValid:!1,error:"Error al validar la sede"}}},p=async(e,t)=>{const a=await d(e);if(!a.isValid)return a;const r=await(async e=>{try{if(!e)return{isValid:!1,error:"Debe seleccionar un acudiente"};const t=await n.C5.getAcudientes();return t.data&&Array.isArray(t.data)&&!t.data.some(t=>(t.id_acudiente||t.id)===parseInt(e))?{isValid:!1,error:"El acudiente seleccionado no existe"}:{isValid:!0,error:null}}catch(t){return console.error("Error validating acudiente exists:",t),{isValid:!1,error:"Error al validar el acudiente"}}})(t);return r.isValid?{isValid:!0,error:null}:r}}}]);
//# sourceMappingURL=101.6665e658.chunk.js.map