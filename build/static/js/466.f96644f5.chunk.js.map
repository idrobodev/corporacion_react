{"version":3,"file":"static/js/466.f96644f5.chunk.js","mappings":"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","sources":["shared/services/formatosApi.js","pages/Dashboard/Formatos/hooks/useFileManager.js","pages/Dashboard/Formatos/components/FileBreadcrumb.jsx","pages/Dashboard/Formatos/components/FolderList.jsx","shared/utils/fileUtils.js","pages/Dashboard/Formatos/components/FileGridView.jsx","pages/Dashboard/Formatos/components/FileListView.jsx","pages/Dashboard/Formatos/components/FileDisplay.jsx","pages/Dashboard/Formatos.jsx","components/layout/Sidebar.jsx","components/layout/DashboardHeader.jsx","components/layout/DashboardLayout.jsx"],"sourcesContent":["import axios from 'axios';\n\n// Configuración de la API de formatos - apunta al servicio dedicado de formatos\nconst FORMATOS_API_BASE_URL = process.env.REACT_APP_FORMATOS_API_URL ||\n  `${window.location.protocol}//${window.location.hostname}/formatos`;\n\nconsole.log('🔧 FORMATOS_API_BASE_URL configurada como:', FORMATOS_API_BASE_URL);\nconsole.log('🔧 FORMATOS API DIAGNOSTICS:');\nconsole.log('  - REACT_APP_FORMATOS_API_URL:', process.env.REACT_APP_FORMATOS_API_URL);\nconsole.log('  - Fallback URL:', 'http://localhost:8001/api');\n\n// Crear instancia de axios para la API de formatos\nconst formatosClient = axios.create({\n  baseURL: FORMATOS_API_BASE_URL,\n  timeout: 30000,\n  withCredentials: false,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n  },\n});\n\n// Interceptor para manejar respuestas y errores\nformatosClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('Error en formatos API:', error.config?.url, error.response?.status, error.message);\n\n    // Manejar errores específicos\n    if (error.response?.status === 413) {\n      throw new Error('El archivo es demasiado grande (máximo 100MB)');\n    } else if (error.response?.status === 409) {\n      throw new Error(error.response.data?.detail || 'Conflicto: el recurso ya existe');\n    } else if (error.response?.status === 404) {\n      throw new Error('Recurso no encontrado');\n    } else if (error.response?.status === 400) {\n      throw new Error(error.response.data?.detail || 'Datos inválidos');\n    } else if (error.response?.status === 500) {\n      throw new Error('Error interno del servidor');\n    }\n\n    // Error de red o desconocido\n    if (!error.response) {\n      throw new Error('No se puede conectar con el servidor de formatos');\n    }\n\n    throw error;\n  }\n);\n\nclass FormatosApiService {\n  // ==================== ARCHIVOS ====================\n\n  /**\n   * Lista archivos y carpetas en una ruta específica\n   * @param {string} path - Ruta a listar (opcional, default=\"\")\n   * @returns {Promise<{files: Array, folders: Array, path: string}>}\n   */\n  async listFiles(path = \"\") {\n    try {\n      const response = await formatosClient.get('/files/list', {\n        params: { path }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error listando archivos:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Sube un archivo al servidor\n   * Los archivos se organizan automáticamente en carpetas por tipo\n   * @param {File} file - Archivo a subir\n   * @returns {Promise<Object>} Información del archivo subido\n   */\n  async uploadFile(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await formatosClient.post('/files/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      return response.data;\n    } catch (error) {\n      console.error('Error subiendo archivo:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Descarga un archivo por su ID\n   * @param {number} fileId - ID del archivo\n   * @returns {Promise<Blob>} Archivo como blob\n   */\n  async downloadFile(fileId) {\n    try {\n      const response = await formatosClient.get(`/files/download/${fileId}`, {\n        responseType: 'blob',\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error descargando archivo:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Elimina un archivo por su ID\n   * @param {number} fileId - ID del archivo a eliminar\n   * @returns {Promise<Object>} Confirmación de eliminación\n   */\n  async deleteFile(fileId) {\n    try {\n      const response = await formatosClient.delete(`/files/${fileId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error eliminando archivo:', error);\n      throw error;\n    }\n  }\n\n  // ==================== CARPETAS ====================\n\n  /**\n   * Crea una nueva carpeta\n   * @param {string} nombre - Nombre de la carpeta\n   * @param {string} parentPath - Ruta del directorio padre (opcional)\n   * @returns {Promise<Object>} Información de la carpeta creada\n   */\n  async createFolder(nombre, parentPath = \"\") {\n    try {\n      const response = await formatosClient.post('/folders/create', {\n        nombre,\n        parentPath\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error creando carpeta:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Renombra una carpeta\n   * @param {string} oldName - Nombre actual de la carpeta\n   * @param {string} newName - Nuevo nombre de la carpeta\n   * @param {string} parentPath - Ruta del directorio padre\n   * @returns {Promise<Object>} Confirmación del cambio\n   */\n  async renameFolder(oldName, newName, parentPath = \"\") {\n    try {\n      const response = await formatosClient.put('/folders/rename', {\n        oldName,\n        newName,\n        parentPath\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error renombrando carpeta:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Elimina una carpeta por su ID\n   * @param {number} folderId - ID de la carpeta a eliminar\n   * @returns {Promise<Object>} Confirmación de eliminación\n   */\n  async deleteFolder(folderId) {\n    try {\n      const response = await formatosClient.delete(`/folders/${folderId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error eliminando carpeta:', error);\n      throw error;\n    }\n  }\n}\n\n// Exportar instancia única del servicio\nexport const formatosApi = new FormatosApiService();\nexport default formatosApi;","import { useState, useCallback, useMemo, useEffect, useRef } from 'react';\nimport { formatosApi } from 'shared/services/formatosApi';\nimport { dbService, ROLES } from 'shared/services';\nimport { useDebouncedSearch } from 'shared/hooks';\n\nconst useFileManager = () => {\n  // Basic state\n  const [currentPath, setCurrentPath] = useState('');\n  const [files, setFiles] = useState([]);\n  const [folders, setFolders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n\n  // Ref to prevent double loading in strict mode\n  const hasLoadedRef = useRef(false);\n\n  // Additional state for enhanced functionality\n  const [searchTerm, setSearchTerm] = useState('');\n  const debouncedSearchTerm = useDebouncedSearch(searchTerm, 300);\n  const [newFolderName, setNewFolderName] = useState('');\n  const [renamingFolder, setRenamingFolder] = useState(null); // {folderName, newName}\n\n\n  // Simple notification helper\n  const addNotification = useCallback((message, type = 'info') => {\n    const id = Date.now();\n    setNotifications(prev => [...prev, { id, message, type }]);\n    setTimeout(() => setNotifications(prev => prev.filter(n => n.id !== id)), 5000);\n  }, []);\n\n  // Load files and folders\n  const loadFiles = useCallback(async (path = '') => {\n    setLoading(true);\n    try {\n      const result = await formatosApi.listFiles(path);\n\n      const { files: loadedFiles, folders: loadedFolders } = result;\n      setFiles(loadedFiles || []);\n      setFolders(loadedFolders || []);\n      setCurrentPath(path);\n    } catch (error) {\n      addNotification(`Error loading files: ${error.message}`, 'error');\n      setFiles([]);\n      setFolders([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [addNotification]);\n\n  // Check admin permission on mount\n  const checkAdmin = useCallback(async () => {\n    try {\n      const admin = await dbService.hasPermission(ROLES.ADMINISTRADOR);\n      setIsAdmin(admin);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Load files on mount\n  useEffect(() => {\n    checkAdmin();\n  }, [checkAdmin]);\n\n  useEffect(() => {\n    if (!hasLoadedRef.current) {\n      hasLoadedRef.current = true;\n      const savedPath = localStorage.getItem('lastFileManagerPath') || '';\n      loadFiles(savedPath);\n    }\n  }, [loadFiles]);\n\n  // Save current path to cache\n  useEffect(() => {\n    localStorage.setItem('lastFileManagerPath', currentPath);\n  }, [currentPath]);\n\n  // Navigation functions\n  const navigateToPath = (targetPath) => {\n    loadFiles(targetPath);\n  };\n\n  const navigateToFolder = (folderName) => {\n    const newPath = currentPath ? `${currentPath}/${folderName}` : folderName;\n    loadFiles(newPath);\n  };\n\n  const handleBreadcrumbClick = (pathPrefix) => {\n    navigateToPath(pathPrefix);\n  };\n\n  // Folder CRUD functions\n  const handleCreateFolder = async () => {\n    if (!isAdmin || !newFolderName.trim()) return;\n    try {\n      await formatosApi.createFolder(newFolderName.trim(), currentPath);\n      addNotification('Folder created successfully', 'success');\n      setNewFolderName('');\n      loadFiles(currentPath);\n    } catch (error) {\n      addNotification(`Error creating folder: ${error.message}`, 'error');\n    }\n  };\n\n  const handleRenameFolder = async (oldName) => {\n    if (!isAdmin || !renamingFolder || !renamingFolder.newName.trim()) return;\n    try {\n      await formatosApi.renameFolder(oldName, renamingFolder.newName.trim(), currentPath);\n      addNotification('Folder renamed successfully', 'success');\n      setRenamingFolder(null);\n      loadFiles(currentPath);\n    } catch (error) {\n      addNotification(`Error renaming folder: ${error.message}`, 'error');\n      setRenamingFolder(null);\n    }\n  };\n\n  const startRename = (folder) => {\n    setRenamingFolder({ folderName: folder, newName: folder });\n  };\n\n  const cancelRename = () => {\n    setRenamingFolder(null);\n  };\n\n  const updateRenameName = (newName) => {\n    setRenamingFolder(prev => ({ ...prev, newName }));\n  };\n\n  const handleDeleteFolder = async (folderName) => {\n    if (!isAdmin || !window.confirm(`Delete folder '${folderName}' and all contents?`)) return;\n    try {\n      // Find the folder ID\n      const folder = folders.find(f => f.nombre === folderName);\n      if (!folder) {\n        addNotification('Folder not found', 'error');\n        return;\n      }\n      await formatosApi.deleteFolder(folder.id);\n      addNotification('Folder deleted successfully', 'success');\n      loadFiles(currentPath);\n    } catch (error) {\n      addNotification(`Error deleting folder: ${error.message}`, 'error');\n    }\n  };\n\n  // File CRUD functions\n  const handleDeleteFile = async (fileName) => {\n    if (!isAdmin || !window.confirm(`Delete file '${fileName}'?`)) return;\n    try {\n      // Find the file ID\n      const file = files.find(f => f.nombre === fileName);\n      if (!file) {\n        addNotification('File not found', 'error');\n        return;\n      }\n      await formatosApi.deleteFile(file.id);\n      addNotification('File deleted successfully', 'success');\n      loadFiles(currentPath);\n    } catch (error) {\n      addNotification(`Error deleting file: ${error.message}`, 'error');\n    }\n  };\n\n  const handleDownload = async (fileName) => {\n    try {\n      // Find the file ID\n      const file = files.find(f => f.nombre === fileName);\n      if (!file) {\n        addNotification('File not found', 'error');\n        return;\n      }\n      const blob = await formatosApi.downloadFile(file.id);\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileName;\n      a.click();\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      addNotification(`Error downloading file: ${error.message}`, 'error');\n    }\n  };\n\n  // Upload files\n  const onDrop = async (acceptedFiles) => {\n    console.log('onDrop called with files:', acceptedFiles);\n    if (!isAdmin) {\n      console.log('onDrop: User is not admin');\n      addNotification('Permission denied: Admin access required for uploads', 'error');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      console.log('onDrop: Starting upload for', acceptedFiles.length, 'files');\n      for (const file of acceptedFiles) {\n        await formatosApi.uploadFile(file);\n      }\n      addNotification(`${acceptedFiles.length} files uploaded successfully`, 'success');\n      loadFiles(currentPath);\n    } catch (error) {\n      console.error('onDrop: Upload error:', error);\n      addNotification(`Upload error: ${error.message}`, 'error');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Filtered files (only by search term)\n  const filteredAndSortedFiles = useMemo(() => {\n    return files.filter(file => {\n      const matchesSearch = file.nombre.toLowerCase().includes(debouncedSearchTerm.toLowerCase());\n      return matchesSearch;\n    }).sort((a, b) => {\n      // Sort by creation date (newest first)\n      return new Date(b.createdAt || 0) - new Date(a.createdAt || 0);\n    });\n  }, [files, debouncedSearchTerm]);\n\n  return {\n    // State\n    currentPath,\n    files,\n    folders,\n    loading,\n    error,\n    uploading,\n    isAdmin,\n    notifications,\n    searchTerm,\n    debouncedSearchTerm,\n    newFolderName,\n    renamingFolder,\n    filteredAndSortedFiles,\n\n    // Setters\n    setSearchTerm,\n    setNewFolderName,\n    setRenamingFolder,\n    setUploading,\n    setError,\n\n    // Functions\n    loadFiles,\n    addNotification,\n    checkAdmin,\n    navigateToPath,\n    navigateToFolder,\n    handleBreadcrumbClick,\n    handleCreateFolder,\n    handleRenameFolder,\n    startRename,\n    cancelRename,\n    updateRenameName,\n    handleDeleteFolder,\n    handleDeleteFile,\n    handleDownload,\n    onDrop,\n  };\n};\n\nexport default useFileManager;","import React from 'react';\n\nconst FileBreadcrumb = ({ currentPath, onBreadcrumbClick }) => {\n  const pathParts = currentPath ? currentPath.split('/').filter(Boolean) : [];\n\n  return (\n    <div className=\"mb-4 md:mb-2 \">\n      <nav className=\"flex items-center bg-white rounded-lg border border-gray-200 px-2 md:px-4 py-3 shadow-sm overflow-x-auto w-full\">\n        {/* Dashboard link */}\n        <button\n          onClick={() => onBreadcrumbClick('')}\n          className=\"flex items-center px-1 md:px-2 py-1 rounded-md text-xs md:text-sm font-medium text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 whitespace-nowrap\"\n        >\n          <i className=\"fas fa-home mr-2 text-gray-500\"></i>\n          Dashboard\n        </button>\n\n        {/* Separator */}\n        <i className=\"fas fa-chevron-right mx-1 md:mx-2 text-gray-400 text-xs\"></i>\n\n        {/* Root/Formatos */}\n        <button\n          onClick={() => onBreadcrumbClick('')}\n          className=\"flex items-center px-1 md:px-2 py-1 rounded-md text-xs md:text-sm font-medium text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 whitespace-nowrap\"\n        >\n          <i className=\"fas fa-folder mr-2 text-blue-500\"></i>\n          Raíz\n        </button>\n\n        {/* Path segments */}\n        {pathParts.map((part, index) => {\n          const pathPrefix = pathParts.slice(0, index + 1).join('/');\n          const isLast = index === pathParts.length - 1;\n\n          return (\n            <React.Fragment key={index}>\n              {/* Separator */}\n              <i className=\"fas fa-chevron-right mx-1 md:mx-2 text-gray-400 text-xs\"></i>\n\n              {/* Path segment */}\n              <button\n                onClick={() => onBreadcrumbClick(pathPrefix)}\n                className={`flex items-center px-1 md:px-2 py-1 rounded-md text-xs md:text-sm transition-all duration-200 whitespace-nowrap ${\n                  isLast\n                    ? 'font-semibold text-blue-700 bg-blue-50'\n                    : 'font-medium text-gray-700 hover:bg-blue-50 hover:text-blue-700'\n                }`}\n                disabled={isLast}\n              >\n                <i className={`fas fa-folder mr-2 ${isLast ? 'text-blue-600' : 'text-gray-500'}`}></i>\n                {part}\n              </button>\n            </React.Fragment>\n          );\n        })}\n      </nav>\n    </div>\n  );\n};\n\nexport default FileBreadcrumb;\n","import React from 'react';\n\nconst FolderList = ({\n  folders,\n  isAdmin,\n  currentPath,\n  newFolderName,\n  setNewFolderName,\n  onCreateFolder,\n  renamingFolder,\n  onUpdateRenameName,\n  onStartRename,\n  onCancelRename,\n  onRenameFolder,\n  onDeleteFolder,\n  onNavigateToFolder\n}) => {\n  // Get current folder name from path\n  const getCurrentFolderName = () => {\n    if (!currentPath) return null;\n    const parts = currentPath.split('/').filter(Boolean);\n    return parts.length > 0 ? parts[parts.length - 1] : null;\n  };\n\n  const currentFolderName = getCurrentFolderName();\n\n  // System folders that cannot be edited or deleted\n  const systemFolders = ['Documentos', 'Imágenes', 'Videos', 'Audio', 'Archivos', 'Código', 'Otros'];\n\n  return (\n    <div className=\"lg:col-span-1 bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300\">\n      <h3 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center\">\n        <i className=\"fas fa-folder-tree mr-2 text-blue-600\"></i>\n        Carpetas\n      </h3>\n\n\n      {/* Folders List */}\n      <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n        {folders.map((folder, index) => {\n          const folderName = folder.nombre;\n          const isActive = folderName === currentFolderName;\n          const isRenaming = renamingFolder?.folderName === folderName;\n          const isSystemFolder = systemFolders.includes(folderName);\n\n          return (\n            <div\n              key={folder.id}\n              className={`group relative rounded-xl border transition-all duration-300 hover:shadow-md ${\n                isActive\n                  ? 'bg-blue-50 border-blue-300 shadow-md'\n                  : 'bg-gray-50 border-gray-200 hover:border-gray-300'\n              } ${isRenaming ? 'ring-2 ring-blue-400 ring-opacity-50' : ''} ${\n                isSystemFolder ? 'opacity-75' : ''\n              }`}\n              style={{\n                animationDelay: `${index * 50}ms`,\n                animation: 'slideInLeft 0.3s ease-out forwards'\n              }}\n            >\n              {/* Active indicator */}\n              {isActive && (\n                <div className=\"absolute left-0 top-0 bottom-0 w-1 bg-blue-500 rounded-l-xl\"></div>\n              )}\n\n              <div className=\"flex items-center justify-between p-3\">\n                <button\n                  onClick={() => onNavigateToFolder(folderName)}\n                  className={`flex-1 text-left p-2 rounded-lg transition-all duration-200 ${\n                    isActive\n                      ? 'bg-blue-100 hover:bg-blue-200'\n                      : 'hover:bg-gray-100'\n                  }`}\n                >\n                  <div className=\"flex items-center\">\n                    <i className={`fas mr-3 text-lg transition-all duration-200 ${\n                      isActive\n                        ? 'fa-folder-open text-blue-600'\n                        : 'fa-folder text-yellow-500 group-hover:text-yellow-600'\n                    }`}></i>\n\n                    {isRenaming ? (\n                      <input\n                        type=\"text\"\n                        value={renamingFolder.newName}\n                        onChange={(e) => onUpdateRenameName(e.target.value)}\n                        onBlur={() => {\n                          if (renamingFolder.newName.trim()) {\n                            onRenameFolder(folderName);\n                          } else {\n                            onCancelRename();\n                          }\n                        }}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') {\n                            onRenameFolder(folderName);\n                          } else if (e.key === 'Escape') {\n                            onCancelRename();\n                          }\n                        }}\n                        autoFocus\n                        className=\"bg-transparent border-b-2 border-blue-500 px-1 py-0.5 focus:outline-none text-gray-800 font-medium animate-pulse\"\n                      />\n                    ) : (\n                      <div className=\"flex items-center\">\n                        <span className={`font-medium transition-colors duration-200 ${\n                          isActive ? 'text-blue-800' : 'text-gray-700'\n                        }`}>\n                          {folderName}\n                        </span>\n                        {isSystemFolder && (\n                          <i\n                            className=\"fas fa-shield-alt ml-2 text-xs text-gray-400\"\n                            title=\"Carpeta del sistema - no se puede editar ni eliminar\"\n                          ></i>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </button>\n\n                {isAdmin && !isSystemFolder && (\n                  <div className=\"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200\">\n                    {isRenaming ? (\n                      <div className=\"flex space-x-1 animate-fadeIn\">\n                        <button\n                          onClick={() => onRenameFolder(folderName)}\n                          className=\"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-all duration-200 transform hover:scale-110\"\n                          title=\"Guardar\"\n                        >\n                          <i className=\"fas fa-check\"></i>\n                        </button>\n                        <button\n                          onClick={onCancelRename}\n                          className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-all duration-200 transform hover:scale-110\"\n                          title=\"Cancelar\"\n                        >\n                          <i className=\"fas fa-times\"></i>\n                        </button>\n                      </div>\n                    ) : (\n                      <>\n                        <button\n                          onClick={() => onStartRename(folderName)}\n                          className=\"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-all duration-200 transform hover:scale-110\"\n                          title=\"Renombrar\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          onClick={() => onDeleteFolder(folderName)}\n                          className=\"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-all duration-200 transform hover:scale-110\"\n                          title=\"Eliminar\"\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {folders.length === 0 && (\n          <div className=\"text-center py-8\">\n            <i className=\"fas fa-folder-open text-4xl text-gray-300 mb-3\"></i>\n            <p className=\"text-gray-500\">No hay carpetas</p>\n            <p className=\"text-sm text-gray-400 mt-1\">Crea tu primera carpeta para organizar tus archivos</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FolderList;","// Utilidades para manejo de archivos\n\n// Tipos de archivo y sus iconos\nexport const FILE_TYPES = {\n  // Documentos\n  pdf: { icon: 'fas fa-file-pdf', color: 'text-red-500', category: 'document' },\n  doc: { icon: 'fas fa-file-word', color: 'text-blue-500', category: 'document' },\n  docx: { icon: 'fas fa-file-word', color: 'text-blue-500', category: 'document' },\n  xls: { icon: 'fas fa-file-excel', color: 'text-green-500', category: 'document' },\n  xlsx: { icon: 'fas fa-file-excel', color: 'text-green-500', category: 'document' },\n  ppt: { icon: 'fas fa-file-powerpoint', color: 'text-orange-500', category: 'document' },\n  pptx: { icon: 'fas fa-file-powerpoint', color: 'text-orange-500', category: 'document' },\n  txt: { icon: 'fas fa-file-alt', color: 'text-gray-500', category: 'document' },\n  \n  // Imágenes\n  jpg: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  jpeg: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  png: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  gif: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  svg: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  webp: { icon: 'fas fa-file-image', color: 'text-purple-500', category: 'image' },\n  \n  // Videos\n  mp4: { icon: 'fas fa-file-video', color: 'text-red-600', category: 'video' },\n  avi: { icon: 'fas fa-file-video', color: 'text-red-600', category: 'video' },\n  mov: { icon: 'fas fa-file-video', color: 'text-red-600', category: 'video' },\n  wmv: { icon: 'fas fa-file-video', color: 'text-red-600', category: 'video' },\n  \n  // Audio\n  mp3: { icon: 'fas fa-file-audio', color: 'text-indigo-500', category: 'audio' },\n  wav: { icon: 'fas fa-file-audio', color: 'text-indigo-500', category: 'audio' },\n  flac: { icon: 'fas fa-file-audio', color: 'text-indigo-500', category: 'audio' },\n  \n  // Archivos comprimidos\n  zip: { icon: 'fas fa-file-archive', color: 'text-yellow-600', category: 'archive' },\n  rar: { icon: 'fas fa-file-archive', color: 'text-yellow-600', category: 'archive' },\n  '7z': { icon: 'fas fa-file-archive', color: 'text-yellow-600', category: 'archive' },\n  \n  // Código\n  js: { icon: 'fas fa-file-code', color: 'text-yellow-500', category: 'code' },\n  html: { icon: 'fas fa-file-code', color: 'text-orange-600', category: 'code' },\n  css: { icon: 'fas fa-file-code', color: 'text-blue-600', category: 'code' },\n  json: { icon: 'fas fa-file-code', color: 'text-green-600', category: 'code' },\n  \n  // Default\n  default: { icon: 'fas fa-file', color: 'text-gray-400', category: 'other' }\n};\n\n// Obtener información del tipo de archivo\nexport const getFileType = (fileName) => {\n  const extension = fileName.split('.').pop()?.toLowerCase();\n  return FILE_TYPES[extension] || FILE_TYPES.default;\n};\n\n// Formatear tamaño de archivo\nexport const formatFileSize = (bytes) => {\n  if (!bytes || bytes === 0) return '0 B';\n  \n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  \n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n};\n\n// Formatear fecha\nexport const formatDate = (dateString) => {\n  if (!dateString) return 'N/A';\n  \n  const date = new Date(dateString);\n  const now = new Date();\n  const diffTime = Math.abs(now - date);\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  \n  if (diffDays === 1) return 'Ayer';\n  if (diffDays < 7) return `Hace ${diffDays} días`;\n  if (diffDays < 30) return `Hace ${Math.ceil(diffDays / 7)} semanas`;\n  \n  return date.toLocaleDateString('es-ES', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n};\n\n// Validar archivo para upload\nexport const validateFile = (file, maxSize = 10 * 1024 * 1024) => {\n  const errors = [];\n  \n  if (file.size > maxSize) {\n    errors.push(`El archivo es muy grande (máx. ${formatFileSize(maxSize)})`);\n  }\n  \n  // Validar tipos peligrosos\n  const dangerousTypes = ['.exe', '.bat', '.cmd', '.scr', '.pif', '.com'];\n  const extension = '.' + file.name.split('.').pop()?.toLowerCase();\n  \n  if (dangerousTypes.includes(extension)) {\n    errors.push('Tipo de archivo no permitido por seguridad');\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n\n// Generar breadcrumbs\nexport const generateBreadcrumbs = (currentPath) => {\n  if (!currentPath) return [{ name: 'Raíz', path: '' }];\n  \n  const parts = currentPath.split('/').filter(Boolean);\n  const breadcrumbs = [{ name: 'Raíz', path: '' }];\n  \n  let currentBreadcrumbPath = '';\n  parts.forEach((part, index) => {\n    currentBreadcrumbPath += (index === 0 ? '' : '/') + part;\n    breadcrumbs.push({\n      name: part,\n      path: currentBreadcrumbPath\n    });\n  });\n  \n  return breadcrumbs;\n};\n\n// Filtrar archivos por categoría\nexport const filterFilesByCategory = (files, category) => {\n  if (category === 'all') return files;\n  \n  return files.filter(file => {\n    const fileType = getFileType(file.name);\n    return fileType.category === category;\n  });\n};\n\n// Obtener estadísticas de archivos\nexport const getFileStats = (files) => {\n  const stats = {\n    total: files.length,\n    totalSize: 0,\n    categories: {}\n  };\n  \n  files.forEach(file => {\n    const size = file.metadata?.size || 0;\n    stats.totalSize += size;\n    \n    const fileType = getFileType(file.name);\n    const category = fileType.category;\n    \n    if (!stats.categories[category]) {\n      stats.categories[category] = { count: 0, size: 0 };\n    }\n    \n    stats.categories[category].count++;\n    stats.categories[category].size += size;\n  });\n  \n  return stats;\n};\n\n// Buscar archivos\nexport const searchFiles = (files, searchTerm, searchIn = ['name']) => {\n  if (!searchTerm.trim()) return files;\n  \n  const term = searchTerm.toLowerCase();\n  \n  return files.filter(file => {\n    return searchIn.some(field => {\n      switch (field) {\n        case 'name':\n          return file.name.toLowerCase().includes(term);\n        case 'extension':\n          const ext = file.name.split('.').pop()?.toLowerCase();\n          return ext?.includes(term);\n        case 'category':\n          const fileType = getFileType(file.name);\n          return fileType.category.includes(term);\n        default:\n          return false;\n      }\n    });\n  });\n};\n\n// Ordenar archivos\nexport const sortFiles = (files, sortBy, sortOrder = 'asc') => {\n  return [...files].sort((a, b) => {\n    let aValue, bValue;\n    \n    switch (sortBy) {\n      case 'size':\n        aValue = a.metadata?.size || 0;\n        bValue = b.metadata?.size || 0;\n        break;\n      case 'date':\n        aValue = new Date(a.created_at || 0);\n        bValue = new Date(b.created_at || 0);\n        break;\n      case 'type':\n        aValue = getFileType(a.name).category;\n        bValue = getFileType(b.name).category;\n        break;\n      default: // name\n        aValue = a.name.toLowerCase();\n        bValue = b.name.toLowerCase();\n    }\n    \n    if (sortOrder === 'desc') {\n      return aValue < bValue ? 1 : -1;\n    }\n    return aValue > bValue ? 1 : -1;\n  });\n};\n","import React from 'react';\nimport { getFileType, formatFileSize, formatDate } from 'shared/utils/fileUtils';\n\nconst FileGridView = ({ filteredAndSortedFiles, searchTerm, onDownload, onDeleteFile, isAdmin }) => {\n  // Function to highlight search term in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n\n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n\n    return parts.map((part, index) =>\n      regex.test(part) ? (\n        <mark key={index} className=\"bg-yellow-200 text-gray-900 px-0.5 rounded\">\n          {part}\n        </mark>\n      ) : part\n    );\n  };\n  return (\n    <div className=\"p-6\">\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6\">\n        {filteredAndSortedFiles.map((file) => {\n          const fileType = getFileType(file.nombre);\n\n          return (\n            <div\n              key={file.id}\n              className=\"group relative bg-gray-50 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200 overflow-hidden\"\n            >\n              {/* File Preview/Icon */}\n              <div className=\"aspect-square flex items-center justify-center bg-white relative\">\n                <i className={`${fileType.icon} ${fileType.color} text-3xl`}></i>\n\n                {/* Hover overlay */}\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100\">\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => onDownload(file.nombre)}\n                      className=\"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors\"\n                      title=\"Descargar\"\n                    >\n                      <i className=\"fas fa-download text-blue-600\"></i>\n                    </button>\n                    {isAdmin && (\n                      <button\n                        onClick={() => onDeleteFile(file.nombre)}\n                        className=\"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors\"\n                        title=\"Eliminar\"\n                      >\n                        <i className=\"fas fa-trash text-red-600\"></i>\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* File Info */}\n              <div className=\"p-3\">\n                <h4\n                  className=\"font-medium text-sm text-gray-900 truncate mb-1\"\n                  title={file.nombre}\n                >\n                  {highlightText(file.nombre, searchTerm)}\n                </h4>\n                <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                  <span>{file.tamaño ? formatFileSize(file.tamaño) : 'Desconocido'}</span>\n                  <span className={`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${\n                    fileType.category === 'document' ? 'bg-blue-100 text-blue-800' :\n                    fileType.category === 'image' ? 'bg-purple-100 text-purple-800' :\n                    fileType.category === 'video' ? 'bg-red-100 text-red-800' :\n                    fileType.category === 'audio' ? 'bg-indigo-100 text-indigo-800' :\n                    fileType.category === 'archive' ? 'bg-yellow-100 text-yellow-800' :\n                    fileType.category === 'code' ? 'bg-green-100 text-green-800' :\n                    'bg-gray-100 text-gray-800'\n                  }`}>\n                    {file.nombre.split('.').pop()?.toUpperCase()}\n                  </span>\n                </div>\n                <div className=\"text-xs text-gray-400 mt-1\">\n                  {file.createdAt ? formatDate(file.createdAt) : 'Desconocido'}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default FileGridView;","import React from 'react';\nimport { getFileType, formatFileSize, formatDate } from 'shared/utils/fileUtils';\nimport { useIsMobile } from 'shared/hooks';\n\nconst FileListView = ({ filteredAndSortedFiles, searchTerm, onDownload, onDeleteFile, isAdmin }) => {\n  const isMobile = useIsMobile();\n\n  // Function to highlight search term in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n\n    const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n\n    return parts.map((part, index) =>\n      regex.test(part) ? (\n        <mark key={index} className=\"bg-yellow-200 text-gray-900 px-0.5 rounded\">\n          {part}\n        </mark>\n      ) : part\n    );\n  };\n\n  // Mobile card layout\n  if (isMobile) {\n    return (\n      <div className=\"space-y-3\">\n        {filteredAndSortedFiles.map((file) => {\n          const fileType = getFileType(file.nombre);\n\n          return (\n            <div key={file.id} className=\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex items-start space-x-3 flex-1 min-w-0\">\n                  <i className={`${fileType.icon} ${fileType.color} text-xl mt-1 flex-shrink-0`}></i>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"font-medium text-gray-900 truncate\" title={file.nombre}>\n                      {highlightText(file.nombre, searchTerm)}\n                    </div>\n                    <div className=\"text-sm text-gray-500 mt-1\">\n                      {file.nombre.split('.').pop()?.toUpperCase()} • {fileType.category}\n                    </div>\n                    <div className=\"flex items-center space-x-2 mt-2\">\n                      <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                        fileType.category === 'document' ? 'bg-blue-100 text-blue-800' :\n                        fileType.category === 'image' ? 'bg-purple-100 text-purple-800' :\n                        fileType.category === 'video' ? 'bg-red-100 text-red-800' :\n                        fileType.category === 'audio' ? 'bg-indigo-100 text-indigo-800' :\n                        fileType.category === 'archive' ? 'bg-yellow-100 text-yellow-800' :\n                        fileType.category === 'code' ? 'bg-green-100 text-green-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                        {fileType.category}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">\n                        {file.tamaño ? formatFileSize(file.tamaño) : 'Desconocido'}\n                      </span>\n                    </div>\n                    <div className=\"text-xs text-gray-400 mt-1\">\n                      {file.createdAt ? formatDate(file.createdAt) : 'Desconocido'}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-1 ml-2\">\n                  <button\n                    onClick={() => onDownload(file.nombre)}\n                    className=\"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors\"\n                    title=\"Descargar\"\n                  >\n                    <i className=\"fas fa-download text-sm\"></i>\n                  </button>\n                  {isAdmin && (\n                    <button\n                      onClick={() => onDeleteFile(file.nombre)}\n                      className=\"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors\"\n                      title=\"Eliminar\"\n                    >\n                      <i className=\"fas fa-trash text-sm\"></i>\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  // Desktop table layout\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full\">\n        <thead className=\"bg-gray-50\">\n          <tr>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nombre</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tipo</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tamaño</th>\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n          </tr>\n        </thead>\n        <tbody className=\"divide-y divide-gray-200\">\n          {filteredAndSortedFiles.map((file) => {\n            const fileType = getFileType(file.nombre);\n\n            return (\n              <tr key={file.id} className=\"hover:bg-gray-50 transition-colors\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <i className={`${fileType.icon} ${fileType.color} mr-3 text-lg`}></i>\n                    <div>\n                      <div className=\"font-medium text-gray-900 max-w-xs truncate\" title={file.nombre}>\n                        {highlightText(file.nombre, searchTerm)}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {file.nombre.split('.').pop()?.toUpperCase()} • {fileType.category}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                    fileType.category === 'document' ? 'bg-blue-100 text-blue-800' :\n                    fileType.category === 'image' ? 'bg-purple-100 text-purple-800' :\n                    fileType.category === 'video' ? 'bg-red-100 text-red-800' :\n                    fileType.category === 'audio' ? 'bg-indigo-100 text-indigo-800' :\n                    fileType.category === 'archive' ? 'bg-yellow-100 text-yellow-800' :\n                    fileType.category === 'code' ? 'bg-green-100 text-green-800' :\n                    'bg-gray-100 text-gray-800'\n                  }`}>\n                    {fileType.category}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {file.tamaño ? formatFileSize(file.tamaño) : 'Desconocido'}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <div>\n                    {file.createdAt ? formatDate(file.createdAt) : 'Desconocido'}\n                  </div>\n                  <div className=\"text-xs text-gray-400\">\n                    {file.createdAt ? new Date(file.createdAt).toLocaleTimeString('es-ES', {\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    }) : ''}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                  <div className=\"flex items-center justify-end space-x-2\">\n                    <button\n                      onClick={() => onDownload(file.nombre)}\n                      className=\"text-blue-600 hover:text-blue-800 p-1 rounded transition-colors\"\n                      title=\"Descargar\"\n                    >\n                      <i className=\"fas fa-download\"></i>\n                    </button>\n                    {isAdmin && (\n                      <button\n                        onClick={() => onDeleteFile(file.nombre)}\n                        className=\"text-red-600 hover:text-red-800 p-1 rounded transition-colors\"\n                        title=\"Eliminar\"\n                      >\n                        <i className=\"fas fa-trash\"></i>\n                      </button>\n                    )}\n                  </div>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default FileListView;","import React from 'react';\nimport { Skeleton } from 'components/UI';\nimport FileGridView from './FileGridView';\nimport FileListView from './FileListView';\n\nconst FileDisplay = ({ loading, filteredAndSortedFiles, files, viewMode, searchTerm, onDownload, onDeleteFile, isAdmin }) => {\n  return (\n    <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\n      <div className=\"p-6 border-b border-gray-200\">\n        <h3 className=\"text-lg font-bold text-gray-800\">\n          Archivos ({filteredAndSortedFiles.length}{files.length !== filteredAndSortedFiles.length ? ` de ${files.length}` : ''})\n        </h3>\n      </div>\n\n      {loading ? (\n        <div className=\"p-6\">\n          {viewMode === 'grid' ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6\">\n              {Array.from({ length: 10 }).map((_, index) => (\n                <div key={index} className=\"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden\">\n                  <div className=\"aspect-square bg-white flex items-center justify-center\">\n                    <Skeleton variant=\"circle\" width=\"3rem\" height=\"3rem\" />\n                  </div>\n                  <div className=\"p-3 space-y-2\">\n                    <Skeleton variant=\"text\" width=\"80%\" />\n                    <div className=\"flex justify-between items-center\">\n                      <Skeleton variant=\"text\" width=\"40%\" />\n                      <Skeleton variant=\"rectangle\" width=\"20%\" height=\"1.5rem\" />\n                    </div>\n                    <Skeleton variant=\"text\" width=\"60%\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Nombre</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tipo</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tamaño</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {Array.from({ length: 8 }).map((_, index) => (\n                    <tr key={index} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <Skeleton variant=\"circle\" width=\"2rem\" height=\"2rem\" className=\"mr-3\" />\n                          <div className=\"space-y-1\">\n                            <Skeleton variant=\"text\" width=\"120px\" />\n                            <Skeleton variant=\"text\" width=\"80px\" />\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <Skeleton variant=\"rectangle\" width=\"60px\" height=\"1.5rem\" />\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <Skeleton variant=\"text\" width=\"50px\" />\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"space-y-1\">\n                          <Skeleton variant=\"text\" width=\"70px\" />\n                          <Skeleton variant=\"text\" width=\"50px\" />\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                        <div className=\"flex items-center justify-end space-x-2\">\n                          <Skeleton variant=\"circle\" width=\"2rem\" height=\"2rem\" />\n                          <Skeleton variant=\"circle\" width=\"2rem\" height=\"2rem\" />\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      ) : filteredAndSortedFiles.length === 0 ? (\n        <div className=\"p-12 text-center text-gray-500\">\n          <i className=\"fas fa-folder-open text-6xl mb-4 text-gray-300\"></i>\n          <h3 className=\"text-lg font-medium mb-2\">\n            {files.length === 0 ? 'No hay archivos' : 'No se encontraron archivos'}\n          </h3>\n          <p className=\"text-gray-400 mb-4\">\n            {files.length === 0\n              ? 'Esta carpeta está vacía'\n              : 'Intenta ajustar los filtros de búsqueda'\n            }\n          </p>\n          {isAdmin && files.length === 0 && (\n            <p className=\"text-sm text-gray-400\">\n              Sube archivos o crea carpetas para organizar.\n            </p>\n          )}\n        </div>\n      ) : viewMode === 'grid' ? (\n        <FileGridView\n          filteredAndSortedFiles={filteredAndSortedFiles}\n          searchTerm={searchTerm}\n          onDownload={onDownload}\n          onDeleteFile={onDeleteFile}\n          isAdmin={isAdmin}\n        />\n      ) : (\n        <FileListView\n          filteredAndSortedFiles={filteredAndSortedFiles}\n          searchTerm={searchTerm}\n          onDownload={onDownload}\n          onDeleteFile={onDeleteFile}\n          isAdmin={isAdmin}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default FileDisplay;","import React, { useState } from 'react';\nimport DashboardLayout from 'components/layout/DashboardLayout';\nimport { LoadingSpinner, FileUploadModal } from 'components/UI';\nimport useFileManager from './Formatos/hooks/useFileManager';\nimport FileBreadcrumb from './Formatos/components/FileBreadcrumb';\nimport FolderList from './Formatos/components/FolderList';\nimport FileDisplay from './Formatos/components/FileDisplay';\n\nconst Formatos = () => {\n  const [uploadModalOpen, setUploadModalOpen] = useState(false);\n\n  const {\n    currentPath,\n    files,\n    folders,\n    loading,\n    error,\n    uploading,\n    isAdmin,\n    notifications,\n    searchTerm,\n    debouncedSearchTerm,\n    newFolderName,\n    renamingFolder,\n    filteredAndSortedFiles,\n    setSearchTerm,\n    setNewFolderName,\n    navigateToFolder,\n    handleBreadcrumbClick,\n    handleCreateFolder,\n    handleRenameFolder,\n    startRename,\n    cancelRename,\n    updateRenameName,\n    handleDeleteFolder,\n    handleDeleteFile,\n    handleDownload,\n    onDrop,\n  } = useFileManager();\n\n  if (loading) {\n    return (\n      <DashboardLayout\n        title=\"Formatos\"\n        subtitle=\"Cargando archivos...\"\n        loading={true}\n        loadingText=\"Cargando formatos y carpetas...\"\n      >\n        <LoadingSpinner />\n      </DashboardLayout>\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout\n        title=\"Formatos\"\n        subtitle=\"Error al cargar datos\"\n        loading={false}\n      >\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p className=\"text-red-600\">Error loading formats: {error}</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  if (!isAdmin && loading === false) {\n    return (\n      <DashboardLayout\n        title=\"Formatos\"\n        subtitle=\"Acceso Restringido\"\n        loading={false}\n      >\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center\">\n            <i className=\"fas fa-lock text-yellow-500 text-3xl mb-4\"></i>\n            <h3 className=\"text-lg font-bold text-yellow-800 mb-2\">Acceso Restringido</h3>\n            <p className=\"text-yellow-700\">Solo administradores pueden gestionar archivos.</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout\n      title=\"Formatos\"\n      subtitle=\"Gestión de Archivos y Carpetas\"\n    >\n      \n      {/* Enhanced Toast Notifications */}\n      <div className=\"fixed top-4 left-4 right-4 md:left-auto md:right-4 z-50 space-y-3 max-w-sm md:max-w-md mx-auto md:mx-0\">\n        {notifications.map(({ id, message, type }) => {\n          const getIcon = () => {\n            switch (type) {\n              case 'success': return 'fas fa-check-circle';\n              case 'error': return 'fas fa-exclamation-circle';\n              case 'warning': return 'fas fa-exclamation-triangle';\n              case 'info': default: return 'fas fa-info-circle';\n            }\n          };\n\n          const getColors = () => {\n            switch (type) {\n              case 'success': return 'bg-gradient-to-r from-green-500 to-green-600 border-green-400';\n              case 'error': return 'bg-gradient-to-r from-red-500 to-red-600 border-red-400';\n              case 'warning': return 'bg-gradient-to-r from-yellow-500 to-yellow-600 border-yellow-400';\n              case 'info': default: return 'bg-gradient-to-r from-blue-500 to-blue-600 border-blue-400';\n            }\n          };\n\n          return (\n            <div\n              key={id}\n              className={`flex items-center p-4 rounded-lg shadow-xl border-l-4 text-white transform transition-all duration-300 ease-out animate-slideInRight ${getColors()}`}\n              style={{\n                animation: 'slideInRight 0.5s ease-out forwards',\n              }}\n            >\n              <i className={`${getIcon()} mr-3 text-lg flex-shrink-0`}></i>\n              <span className=\"flex-1 text-sm font-medium\">{message}</span>\n              <button\n                onClick={() => {\n                  // Remove notification - this would need to be implemented in useFileManager\n                  // For now, we'll just hide it\n                  const element = document.getElementById(`toast-${id}`);\n                  if (element) {\n                    element.style.animation = 'slideOutRight 0.3s ease-in forwards';\n                    setTimeout(() => {\n                      // This should call a removeNotification function from the hook\n                    }, 300);\n                  }\n                }}\n                className=\"ml-3 p-1 rounded-full hover:bg-black hover:bg-opacity-20 transition-colors duration-200 flex-shrink-0\"\n                id={`toast-${id}`}\n              >\n                <i className=\"fas fa-times text-sm\"></i>\n              </button>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Add CSS animations */}\n      <style>{`\n        @keyframes slideInRight {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n\n        @keyframes slideOutRight {\n          from {\n            transform: translateX(0);\n            opacity: 1;\n          }\n          to {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n        }\n\n        .animate-slideInRight {\n          animation: slideInRight 0.5s ease-out forwards;\n        }\n      `}</style>\n\n      <div className=\"px-4 md:px-6 pb-2 md:pb-3 mt-6\">\n        <FileBreadcrumb\n          currentPath={currentPath}\n          onBreadcrumbClick={handleBreadcrumbClick}\n        />\n      </div>\n\n      <div className=\"px-4 md:px-6\">\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mt-2 md:mt-3\">\n          <FolderList\n            folders={folders}\n            isAdmin={isAdmin}\n            newFolderName={newFolderName}\n            setNewFolderName={setNewFolderName}\n            onCreateFolder={handleCreateFolder}\n            renamingFolder={renamingFolder}\n            onUpdateRenameName={updateRenameName}\n            onStartRename={startRename}\n            onCancelRename={cancelRename}\n            onRenameFolder={handleRenameFolder}\n            onDeleteFolder={handleDeleteFolder}\n            onNavigateToFolder={navigateToFolder}\n          />\n\n          <div className=\"lg:col-span-2\">\n            {/* Search input */}\n            <div className=\"mb-4 md:mb-6\">\n              <div className=\"w-full\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Búsqueda\n                </label>\n                <div className=\"relative\">\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <i className=\"fas fa-search text-gray-400\"></i>\n                  </div>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Buscar archivos por nombre...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full border border-gray-300 rounded-md pl-10 pr-10 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors\"\n                  />\n                  {searchTerm && (\n                    <button\n                      onClick={() => setSearchTerm('')}\n                      className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\n                    >\n                      <i className=\"fas fa-times\"></i>\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Upload Button */}\n            {isAdmin && (\n              <div className=\"mb-4 md:mb-6\">\n                <button\n                  onClick={() => setUploadModalOpen(true)}\n                  disabled={uploading}\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 md:px-6 py-3 md:py-4 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:cursor-not-allowed text-sm md:text-base\"\n                >\n                  <i className=\"fas fa-cloud-upload-alt mr-2 md:mr-3\"></i>\n                  Subir Archivos\n                </button>\n              </div>\n            )}\n\n            <FileDisplay\n              loading={loading}\n              filteredAndSortedFiles={filteredAndSortedFiles}\n              files={files}\n              viewMode=\"list\"\n              searchTerm={debouncedSearchTerm}\n              onDownload={handleDownload}\n              onDeleteFile={handleDeleteFile}\n              isAdmin={isAdmin}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* File Upload Modal */}\n      <FileUploadModal\n        isOpen={uploadModalOpen}\n        onClose={() => setUploadModalOpen(false)}\n        onUpload={async (files) => {\n          // Use the existing onDrop function from useFileManager\n          await onDrop(files);\n        }}\n        uploading={uploading}\n      />\n    </DashboardLayout>\n  );\n};\n\nexport default Formatos;","import React, { useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"shared/contexts\";\nimport logo from \"../../assets/images/logos/logo.png\";\n\nconst Sidebar = ({ isOpen = false, onToggle = () => {}, isCollapsed = false, onToggleCollapse = () => {} }) => {\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n  const [isMobile, setIsMobile] = useState(false);\n  const location = useLocation();\n  \n  // Get user role from currentUser\n  const userRole = currentUser?.rol || currentUser?.role || 'CONSULTA';\n\n  // Check for mobile screen size\n  React.useEffect(() => {\n    const checkScreenSize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkScreenSize();\n    window.addEventListener('resize', checkScreenSize);\n    \n    return () => window.removeEventListener('resize', checkScreenSize);\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      history.push(\"/\");\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n  };\n\n\n  const allMenuItems = [\n    {\n      id: 'dashboard',\n      icon: 'fas fa-home',\n      label: 'Dashboard',\n      link: '/dashboard',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA'] // Available to all roles\n    },\n    {\n      id: 'participantes',\n      icon: 'fas fa-users',\n      label: 'Participantes',\n      link: '/participantes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'acudientes',\n      icon: 'fas fa-user-friends',\n      label: 'Acudientes',\n      link: '/acudientes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'financiero',\n      icon: 'fas fa-dollar-sign',\n      label: 'Mensualidades',\n      link: '/financiero',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'usuarios',\n      icon: 'fas fa-users-cog',\n      label: 'Usuarios',\n      link: '/usuarios',\n      badge: null,\n      roles: ['ADMINISTRADOR'], // Only administrators\n      adminOnly: true\n    },\n    {\n      id: 'formatos',\n      icon: 'fas fa-file-alt',\n      label: 'Formatos',\n      link: '/formatos',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'sedes',\n      icon: 'fas fa-building',\n      label: 'Sedes',\n      link: '/sedes',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    },\n    {\n      id: 'configuracion',\n      icon: 'fas fa-cog',\n      label: 'Configuración',\n      link: '/configuracion',\n      badge: null,\n      roles: ['ADMINISTRADOR', 'CONSULTA']\n    }\n  ];\n  \n  // Filter menu items based on user role\n  const menuItems = allMenuItems.filter(item => \n    item.roles.includes(userRole)\n  );\n\n  return (\n    <>\n      {/* Mobile Overlay */}\n      {isOpen && isMobile && (\n        <div \n          className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\"\n          onClick={onToggle}\n          aria-hidden=\"true\"\n        />\n      )}\n      \n      {/* Toggle Button - Mobile */}\n      {isMobile && (\n        <button\n          onClick={onToggle}\n          className=\"fixed top-4 right-4 z-[70] md:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 min-w-[48px] min-h-[48px] flex items-center justify-center\"\n          aria-label={isOpen ? 'Cerrar menú' : 'Abrir menú'}\n        >\n          <i className={`fas ${isOpen ? 'fa-times' : 'fa-bars'} text-xl transition-transform duration-200 ${isOpen ? 'rotate-90' : ''}`}></i>\n        </button>\n      )}\n      \n      \n      {/* Sidebar */}\n      <aside \n        data-testid=\"sidebar\"\n        className={`\n          fixed top-0 left-0 h-full text-gray-700 z-50\n          transform transition-transform duration-300 ease-in-out shadow-2xl\n          ${isMobile \n            ? `w-[280px] ${isOpen ? 'translate-x-0' : '-translate-x-full'}`\n            : isCollapsed \n              ? 'w-20 translate-x-0 hover:w-64' \n              : 'w-64 translate-x-0'\n          }\n        `}\n        style={{\n          background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%)',\n          backdropFilter: 'blur(20px)',\n          borderRight: '1px solid rgba(0, 0, 0, 0.1)'\n        }}\n      >\n        {/* Header with Logo */}\n        <div className={`\n          ${isCollapsed && !isMobile ? 'p-4' : 'p-5 md:p-6'} \n          border-b border-gray-200 \n          bg-gradient-to-r from-gray-50 to-gray-100 \n          transition-all duration-300 \n          relative\n        `}>\n          {/* Collapse/Expand toggle desktop only */}\n          {!isMobile && (\n            <button\n              onClick={onToggleCollapse}\n              aria-label={isCollapsed ? 'Expandir menú' : 'Colapsar menú'}\n              className=\"absolute -right-3 top-1/2 -translate-y-1/2 w-7 h-7 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors z-10\"\n            >\n              <i className={`fas ${isCollapsed ? 'fa-angle-double-right' : 'fa-angle-double-left'} text-sm text-gray-600`}></i>\n            </button>\n          )}\n          \n          <div className={`flex items-center ${isCollapsed && !isMobile ? 'justify-center' : 'space-x-3'}`}>\n            {/* Logo responsive */}\n            <div className=\"relative flex-shrink-0\">\n              <img \n                src={logo} \n                alt=\"Corporación Logo\" \n                className={`\n                  ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-12 h-12 md:w-14 md:h-14'} \n                  rounded-xl object-cover bg-white p-2 shadow-md transition-all duration-300\n                `}\n              />\n              <div className=\"absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\n            </div>\n            \n            {/* Título - ocultar cuando está colapsado en desktop */}\n            <div className={`${isCollapsed && !isMobile ? 'hidden' : 'block'} transition-all duration-300`}>\n              <h2 className=\"text-base md:text-lg font-Lato font-bold text-gray-800 leading-tight\">\n                Corporación\n              </h2>\n              <p className=\"text-xs font-Poppins text-gray-600\">\n                Todo por un Alma\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <nav className=\"p-3 md:p-4 flex-1 overflow-y-auto\">\n          <ul className=\"space-y-1\">\n            {menuItems.map((item) => (\n              <li key={item.id}>\n                <Link\n                  to={item.link}\n                  className={`\n                    flex items-center \n                    ${isCollapsed && !isMobile ? 'justify-center px-3' : 'space-x-3 px-4'} \n                    py-3 md:py-3.5\n                    rounded-xl \n                    hover:bg-gray-100 hover:shadow-sm \n                    transition-all duration-200 \n                    group relative overflow-hidden\n                    min-h-[48px]\n                    ${location.pathname.startsWith(item.link) \n                      ? 'bg-blue-50 text-blue-700 ring-1 ring-blue-100' \n                      : ''\n                    }\n                  `}\n                  onClick={isMobile ? onToggle : undefined}\n                  aria-current={location.pathname.startsWith(item.link) ? 'page' : undefined}\n                >\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-blue-50/50 to-blue-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"></div>\n                  \n                  {/* Icono más grande en móvil */}\n                  <i className={`\n                    ${item.icon} \n                    ${isMobile ? 'text-xl' : 'text-lg'}\n                    ${location.pathname.startsWith(item.link) ? 'text-blue-700' : 'text-gray-600 group-hover:text-blue-600'} \n                    group-hover:scale-110 transition-all flex-shrink-0 relative z-10\n                  `}></i>\n                  \n                  {/* Label */}\n                  <span className={`\n                    font-Poppins font-medium \n                    ${isMobile ? 'text-base' : 'text-sm'}\n                    ${location.pathname.startsWith(item.link) ? 'text-blue-800' : 'text-gray-700 group-hover:text-gray-900'} \n                    ${isCollapsed && !isMobile ? 'hidden' : 'block'}\n                    transition-all duration-300 z-10\n                  `}>\n                    {item.label}\n                  </span>\n                  \n                  {/* Badge */}\n                  {item.badge && !isCollapsed && (\n                    <span className=\"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-sm\">\n                      {item.badge}\n                    </span>\n                  )}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n\n        {/* Información del Usuario */}\n        <div className=\"p-3 md:p-4 border-t border-gray-200 mt-auto bg-gradient-to-r from-gray-50 to-gray-100\">\n          {/* Info del usuario */}\n          <div className={`\n            flex items-center \n            ${isCollapsed && !isMobile ? 'justify-center' : 'space-x-3'} \n            mb-3\n          `}>\n            <div className=\"relative flex-shrink-0\">\n              {currentUser?.photoURL ? (\n                <img\n                  src={currentUser.photoURL}\n                  alt=\"Usuario\"\n                  className={`\n                    rounded-full border-2 border-gray-300 shadow-md \n                    ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-11 h-11 md:w-12 md:h-12'}\n                  `}\n                />\n              ) : (\n                <div className={`\n                  rounded-full border-2 border-gray-300 shadow-md \n                  bg-gradient-to-br from-blue-100 to-blue-200 \n                  flex items-center justify-center \n                  ${isCollapsed && !isMobile ? 'w-10 h-10' : 'w-11 h-11 md:w-12 md:h-12'}\n                `}>\n                  <i className={`fas fa-user text-blue-600 ${isMobile ? 'text-lg' : 'text-base'}`}></i>\n                </div>\n              )}\n              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm\"></div>\n            </div>\n            \n            {/* Nombre y rol - ocultar cuando colapsado en desktop */}\n            {(!isCollapsed || isMobile) && (\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm md:text-base font-Poppins font-semibold text-gray-800 truncate\">\n                  {currentUser?.displayName || currentUser?.email?.split('@')[0]}\n                </p>\n                <div className=\"flex items-center gap-1\">\n                  <p className=\"text-xs font-Poppins text-gray-600\">\n                    {userRole === 'ADMINISTRADOR' ? 'Administrador' : 'Consulta'}\n                  </p>\n                  {userRole === 'CONSULTA' && (\n                    <span className=\"text-xs bg-yellow-100 text-yellow-800 px-1.5 py-0.5 rounded\" title=\"Solo lectura\">\n                      <i className=\"fas fa-eye text-[10px]\"></i>\n                    </span>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Botón logout */}\n          <button\n            onClick={handleLogout}\n            className={`\n              flex items-center \n              ${isCollapsed && !isMobile ? 'justify-center' : ''} \n              w-full px-4 py-3\n              text-sm md:text-base\n              text-gray-700 \n              rounded-xl \n              hover:bg-red-50 hover:text-red-600 hover:shadow-sm \n              transition-all duration-200 \n              font-Poppins font-medium \n              group relative overflow-hidden\n              min-h-[48px]\n            `}\n          >\n            <div className=\"absolute inset-0 bg-gradient-to-r from-red-50/50 to-red-25/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200\"></div>\n            <i className={`\n              fas fa-sign-out-alt \n              ${isMobile ? 'text-lg' : 'text-base'}\n              ${isCollapsed && !isMobile ? '' : 'mr-3'} \n              group-hover:scale-110 transition-transform relative z-10\n            `}></i>\n            {(!isCollapsed || isMobile) && (\n              <span className=\"relative z-10\">Cerrar Sesión</span>\n            )}\n          </button>\n        </div>\n      </aside>\n    </>\n  );\n};\n\nexport default Sidebar;\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth, useSidebarContext } from \"shared/contexts\";\nimport logo from \"../../assets/images/logos/logo.png\";\n\n/**\n * DashboardHeader - Componente reutilizable para el header del dashboard\n * Incluye menú de usuario, logo y título dinámico\n */\nconst DashboardHeader = React.memo(({ title = \"Dashboard\", subtitle = \"Bienvenido\", extraActions = null }) => {\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n  const { sidebarCollapsed } = useSidebarContext();\n  const [userMenuOpen, setUserMenuOpen] = useState(false);\n  const userMenuRef = useRef(null);\n\n  // Close user menu on outside click or escape key\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(e.target)) {\n        setUserMenuOpen(false);\n      }\n    };\n\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        setUserMenuOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleEscape);\n    \n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, []);\n\n  const handleLogout = useCallback(async (e) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    try {\n      await logout();\n      setUserMenuOpen(false);\n      history.push('/');\n    } catch (e) {\n      console.error('Error al cerrar sesión', e);\n    }\n  }, [history, logout]);\n\n  const handleCopyEmail = useCallback(async () => {\n    try {\n      if (currentUser?.email) {\n        await navigator.clipboard.writeText(currentUser.email);\n        setUserMenuOpen(false);\n      }\n    } catch (e) {\n      console.error('No se pudo copiar el correo', e);\n    }\n  }, [currentUser?.email]);\n\n  const toggleUserMenu = useCallback(() => {\n    setUserMenuOpen((v) => !v);\n  }, []);\n\n  const marginClass = useMemo(() => sidebarCollapsed ? 'md:ml-20' : 'md:ml-64', [sidebarCollapsed]);\n\n  const userDisplayName = useMemo(() => \n    currentUser?.displayName || currentUser?.email, \n    [currentUser?.displayName, currentUser?.email]\n  );\n\n  return (\n    <header className={`\n      fixed top-0 right-0 left-0 z-40 \n      bg-white/95 backdrop-blur-lg \n      shadow-md border-b border-gray-200\n      transition-all duration-300\n    `}>\n      <div className={`\n        px-4 md:px-6 \n        py-2.5 md:py-3 \n        transition-all duration-300 \n        ${marginClass}\n      `}>\n        <div className=\"flex items-center justify-between gap-2 md:gap-4\">\n          {/* Sección izquierda: Logo y Título */}\n          <div className=\"flex items-center space-x-2 md:space-x-3 flex-1 min-w-0 ml-12 md:ml-0\">\n            {/* Logo - ocultar en móvil para dar espacio */}\n            <img \n              src={logo}\n              alt=\"Todo por un Alma\" \n              className=\"hidden sm:block h-8 md:h-10 w-8 md:w-10 rounded-lg shadow-sm flex-shrink-0\"\n            />\n            \n            {/* Título y Subtitle */}\n            <div className=\"flex-1 min-w-0\">\n              <h1 className=\"text-base sm:text-lg md:text-2xl font-Lato font-bold text-gray-800 truncate\">\n                {title}\n              </h1>\n              {subtitle && (\n                <p className=\"hidden md:block text-xs md:text-sm font-Poppins text-gray-600 truncate\">\n                  {subtitle}\n                </p>\n              )}\n            </div>\n          </div>\n          \n          {/* Sección derecha: Acciones y Usuario */}\n          <div className=\"flex items-center space-x-2 md:space-x-4 flex-shrink-0\">\n            {/* Extra Actions - ocultar en móvil/tablet, mostrar en desktop */}\n            {extraActions && (\n              <div className=\"hidden lg:flex items-center space-x-3\">\n                {extraActions}\n              </div>\n            )}\n            \n            {/* Perfil de Usuario */}\n            <div className=\"relative\" ref={userMenuRef}>\n              <button\n                onClick={toggleUserMenu}\n                className=\"flex items-center space-x-2 md:space-x-3 bg-gray-100 rounded-full pl-1.5 md:pl-2 pr-2 md:pr-3 py-1 md:py-1.5 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]\"\n                aria-haspopup=\"true\"\n                aria-expanded={userMenuOpen}\n              >\n                {/* Avatar */}\n                <div className=\"relative flex-shrink-0\">\n                  {currentUser?.photoURL ? (\n                    <img\n                      src={currentUser.photoURL}\n                      alt=\"Usuario\"\n                      className=\"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500\"\n                    />\n                  ) : (\n                    <div className=\"w-8 h-8 md:w-9 md:h-9 rounded-full border-2 border-blue-500 bg-blue-500 flex items-center justify-center\">\n                      <i className=\"fas fa-user text-white text-sm\"></i>\n                    </div>\n                  )}\n                  <div className=\"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 md:w-3 md:h-3 bg-green-400 rounded-full border-2 border-white\"></div>\n                </div>\n                \n                {/* Nombre - ocultar en móvil pequeño */}\n                <span className=\"hidden sm:block text-sm md:text-base font-Poppins font-medium text-gray-700 max-w-[120px] md:max-w-none truncate\">\n                  {userDisplayName}\n                </span>\n                \n                {/* Chevron - ocultar en móvil pequeño */}\n                <i className={`hidden sm:block fas fa-chevron-${userMenuOpen ? 'up' : 'down'} text-gray-500 text-xs`}></i>\n              </button>\n\n              {/* Dropdown Menu */}\n              {userMenuOpen && (\n                <div className=\"absolute right-0 mt-2 w-56 md:w-64 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden\">\n                  {/* Header del menú */}\n                  <div className=\"px-4 py-3 border-b border-gray-100 bg-gray-50\">\n                    <p className=\"text-xs text-gray-500 font-Poppins\">Sesión iniciada como</p>\n                    <p className=\"text-sm md:text-base text-gray-800 truncate font-Poppins font-medium mt-0.5\">\n                      {currentUser?.email}\n                    </p>\n                  </div>\n                  \n                  {/* Opciones del menú */}\n                  <ul className=\"py-1\">\n                    <li>\n                      <button \n                        onClick={handleCopyEmail} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-copy mr-3 text-gray-500 w-4\"></i>\n                        Copiar correo\n                      </button>\n                    </li>\n                    <li>\n                      <button \n                        onClick={() => {\n                          history.push('/configuracion');\n                          setUserMenuOpen(false);\n                        }} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-gray-700 hover:bg-gray-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-cog mr-3 text-gray-500 w-4\"></i>\n                        Configuración\n                      </button>\n                    </li>\n                    <li className=\"border-t border-gray-100\">\n                      <button \n                        onClick={handleLogout} \n                        className=\"w-full flex items-center px-4 py-3 text-sm md:text-base text-red-600 hover:bg-red-50 font-Poppins transition-colors min-h-[48px]\"\n                      >\n                        <i className=\"fas fa-sign-out-alt mr-3 w-4\"></i>\n                        Cerrar sesión\n                      </button>\n                    </li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n});\n\nexport default DashboardHeader;","import React from \"react\";\nimport { SidebarProvider, useSidebarContext } from \"shared/contexts\";\nimport Sidebar from \"./Sidebar\";\nimport DashboardHeader from \"./DashboardHeader\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\n\n/**\n * DashboardLayout - Componente de layout reutilizable para todas las páginas del dashboard\n * Incluye Sidebar con contexto global, header dinámico y main con márgenes responsivos\n */\nconst DashboardLayoutContent = ({ title = \"Dashboard\", subtitle = \"\", children, loading = false, loadingText = \"Cargando...\", extraActions = null }) => {\n  const { sidebarOpen, sidebarCollapsed, toggleSidebarOpen, toggleSidebarCollapsed } = useSidebarContext();\n  \n  const marginClass = sidebarCollapsed ? 'md:ml-20' : 'md:ml-64';\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"flex\">\n          <Sidebar isOpen={sidebarOpen} onToggle={toggleSidebarOpen} isCollapsed={sidebarCollapsed} onToggleCollapse={toggleSidebarCollapsed} />\n          <main className={`flex-1 transition-all duration-300 ${marginClass} pt-16 md:pt-20 px-4 md:px-0`}>\n            <div className=\"flex items-center justify-center h-screen\">\n              <LoadingSpinner size=\"xl\" text={loadingText} />\n            </div>\n          </main>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 font-sans antialiased\">\n      <div className=\"flex\">\n        <Sidebar isOpen={sidebarOpen} onToggle={toggleSidebarOpen} isCollapsed={sidebarCollapsed} onToggleCollapse={toggleSidebarCollapsed} />\n        <main className={`flex-1 transition-all duration-300 ${marginClass} pt-16 md:pt-20 px-4 md:px-0`}>\n          <DashboardHeader title={title} subtitle={subtitle} extraActions={extraActions} />\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Proveedor y layout combinados\n */\nconst DashboardLayout = (props) => (\n  <SidebarProvider>\n    <DashboardLayoutContent {...props} />\n  </SidebarProvider>\n);\n\nexport default DashboardLayout;"],"names":["FORMATOS_API_BASE_URL","process","console","log","formatosClient","axios","baseURL","timeout","withCredentials","headers","interceptors","response","use","error","_error$config","_error$response","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","_error$response$data","_error$response$data2","config","url","status","message","Error","data","detail","formatosApi","listFiles","path","arguments","length","undefined","get","params","uploadFile","file","formData","FormData","append","post","downloadFile","fileId","concat","responseType","deleteFile","delete","createFolder","nombre","parentPath","renameFolder","oldName","newName","put","deleteFolder","folderId","useFileManager","currentPath","setCurrentPath","useState","files","setFiles","folders","setFolders","loading","setLoading","setError","uploading","setUploading","isAdmin","setIsAdmin","notifications","setNotifications","hasLoadedRef","useRef","searchTerm","setSearchTerm","debouncedSearchTerm","useDebouncedSearch","newFolderName","setNewFolderName","renamingFolder","setRenamingFolder","addNotification","useCallback","type","id","Date","now","prev","setTimeout","filter","n","loadFiles","async","result","loadedFiles","loadedFolders","checkAdmin","admin","dbService","hasPermission","ROLES","ADMINISTRADOR","err","useEffect","current","savedPath","localStorage","getItem","setItem","navigateToPath","targetPath","filteredAndSortedFiles","useMemo","toLowerCase","includes","sort","a","b","createdAt","navigateToFolder","folderName","newPath","handleBreadcrumbClick","pathPrefix","handleCreateFolder","trim","handleRenameFolder","startRename","folder","cancelRename","updateRenameName","_objectSpread","handleDeleteFolder","window","confirm","find","f","handleDeleteFile","fileName","handleDownload","blob","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","onDrop","acceptedFiles","_ref","onBreadcrumbClick","pathParts","split","Boolean","_jsx","className","children","_jsxs","onClick","map","part","index","slice","join","isLast","React","disabled","onCreateFolder","onUpdateRenameName","onStartRename","onCancelRename","onRenameFolder","onDeleteFolder","onNavigateToFolder","currentFolderName","getCurrentFolderName","parts","systemFolders","isActive","isRenaming","isSystemFolder","style","animationDelay","animation","value","onChange","e","target","onBlur","onKeyDown","key","autoFocus","title","_Fragment","FILE_TYPES","pdf","icon","color","category","doc","docx","xls","xlsx","ppt","pptx","txt","jpg","jpeg","png","gif","svg","webp","mp4","avi","mov","wmv","mp3","wav","flac","zip","rar","js","html","css","json","default","getFileType","_fileName$split$pop","extension","pop","formatFileSize","bytes","i","Math","floor","parseFloat","pow","toFixed","formatDate","dateString","date","diffTime","abs","diffDays","ceil","toLocaleDateString","year","month","day","onDownload","onDeleteFile","highlightText","text","regex","RegExp","replace","test","_file$nombre$split$po","fileType","tamaño","toUpperCase","isMobile","useIsMobile","_file$nombre$split$po2","toLocaleTimeString","hour","minute","viewMode","Array","from","_","Skeleton","variant","width","height","FileGridView","FileListView","Formatos","uploadModalOpen","setUploadModalOpen","DashboardLayout","subtitle","loadingText","LoadingSpinner","getColors","getIcon","element","getElementById","FileBreadcrumb","FolderList","placeholder","FileDisplay","FileUploadModal","isOpen","onClose","onUpload","_currentUser$email","onToggle","isCollapsed","onToggleCollapse","currentUser","logout","useAuth","history","useHistory","setIsMobile","location","useLocation","userRole","rol","role","checkScreenSize","innerWidth","addEventListener","removeEventListener","menuItems","label","link","badge","roles","adminOnly","item","background","backdropFilter","borderRight","src","logo","alt","Link","to","pathname","startsWith","photoURL","displayName","email","push","extraActions","sidebarCollapsed","useSidebarContext","userMenuOpen","setUserMenuOpen","userMenuRef","handleClickOutside","contains","handleEscape","handleLogout","preventDefault","stopPropagation","handleCopyEmail","navigator","clipboard","writeText","toggleUserMenu","v","marginClass","userDisplayName","ref","DashboardLayoutContent","sidebarOpen","toggleSidebarOpen","toggleSidebarCollapsed","Sidebar","size","DashboardHeader","props","SidebarProvider"],"sourceRoot":""}